INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CORE_REPORT_03_DETAIL1','LOGIC','巡检报表SFC明细-》报表',NULL,'SELECT * FROM (  
     SELECT T.*, ROW_NUMBER() OVER(ORDER BY T.SFC ) RN FROM (
        SELECT DISTINCT A.SFC,B.SHOP_ORDER,C.ITEM,C.DESCRIPTION ITEM_DESC,D.VALUE ITEM_SPEC,E.SAMPLE_QTY,G.MEASURE_NAME,G.DESCRIPTION MEASURE_DESC,G.ACTUAL,TO_CHAR(G.TEST_DATE_TIME,''yyyy-mm-dd hh24:mi:ss'') TEST_DATE_TIME,G.UNIT_OF_MEAS UNITS,G.HIGH_LIMIT,G.LOW_LIMIT FROM 
Z_INSPECT_BATCH_MEMBER E 
LEFT JOIN CUSTOM_FIELDS D ON E.ITEM_BO = D.HANDLE AND D."ATTRIBUTE" = ''ITEM_SPEC''
INNER JOIN SFC A ON E.SFC_BO = A.HANDLE 
INNER JOIN SHOP_ORDER B ON E.SHOP_ORDER_BO = B.HANDLE 
INNER JOIN ITEM C ON E.ITEM_BO = C.HANDLE 
INNER JOIN Z_INSPECT_BATCH_NUMBER F ON E.BATCH_NUMBER_BO = F.HANDLE
LEFT JOIN PARAMETRIC_MEASURE G ON E.SFC_BO = G.PARA_CONTEXT_GBO
WHERE F.SITE = :SITE_V 
AND F.BATCH_NUMBER = :BATCH_NUMBER
   ) T   
)  
WHERE RN BETWEEN :STARTCOUNT AND :ENDCOUNT',NULL,NULL,NULL,NULL,NULL,NULL,'[[  
      {field:''SFC'',title:''生产批次号'',width:120,align:''left''},   
      {field:''SHOP_ORDER'',title:''工单'',width:80,align:''left''},   
      {field:''ITEM'',title:''物料'',width:80,align:''left''},
      {field:''ITEM_DESC'',title:''物料描述'',width:120,align:''left''},
      {field:''ITEM_SPEC'',title:''规格型号'',width:80,align:''left''},
      {field:''SAMPLE_QTY'',title:''数量'',width:60,align:''left''},
	  {field:''MEASURE_NAME'',title:''检验项目'',width:80,align:''left''},
	  {field:''MEASURE_DESC'',title:''检验项目描述'',width:80,align:''left''},
	  {field:''ACTUAL'',title:''值'',width:80,align:''left''},
      {field:''TEST_DATE_TIME'',title:''数据收集时间'',width:100,align:''left''},
      {field:''UNITS'',title:''单位'',width:60,align:''left''},
      {field:''HIGH_LIMIT'',title:''上限'',width:60,align:''left''},
      {field:''LOW_LIMIT'',title:''下限'',width:60,align:''left''}
  ]]','[[  
      {field:''SFC'',title:''Production Batch'',width:120,align:''left''},   
      {field:''SHOP_ORDER'',title:''Shop Order'',width:80,align:''left''},   
      {field:''ITEM'',title:''Material'',width:80,align:''left''},
      {field:''ITEM_DESC'',title:''Material Desc'',width:120,align:''left''},
      {field:''ITEM_SPEC'',title:''Material Spec'',width:80,align:''left''},
      {field:''SAMPLE_QTY'',title:''Num'',width:60,align:''left''},
	  {field:''MEASURE_NAME'',title:''Inspect Item'',width:80,align:''left''},   
      {field:''MEASURE_DESC'',title:''Description'',width:80,align:''left''},   
      {field:''ACTUAL'',title:''Value'',width:80,align:''left''},
      {field:''TEST_DATE_TIME'',title:''Data Collect Time'',width:100,align:''left''},
      {field:''UNITS'',title:''Unit'',width:60,align:''left''},
      {field:''HIGH_LIMIT'',title:''High Limit'',width:60,align:''left''},
      {field:''LOW_LIMIT'',title:''Low Limit'',width:60,align:''left''}
  ]]',NULL,NULL,NULL,'/com/sapdev/pod/report_form.jsp',NULL,'Wuhao','10');
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CORE_REPORT_03_DETAIL2','LOGIC','巡检报表检验明细-》报表',NULL,'SELECT * FROM (  
     SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.TEST_DATE_TIME ) RN FROM (
        SELECT B.MEASURE_NAME,B.DESCRIPTION,B.ACTUAL,TO_CHAR(B.TEST_DATE_TIME,''yyyy-mm-dd hh24:mi:ss'') TEST_DATE_TIME,B.UNIT_OF_MEAS UNITS,B.HIGH_LIMIT,B.LOW_LIMIT FROM PARAMETRIC_MEASURE B 
INNER JOIN Z_INSPECT_BATCH_MEMBER C ON B.PARA_CONTEXT_GBO = C.SFC_BO 
INNER JOIN SFC D ON B.PARA_CONTEXT_GBO = D.HANDLE 
WHERE D.SITE = :SITE_V 
AND D.SFC = :SFC
   ) A   
)  
WHERE RN BETWEEN :STARTCOUNT AND :ENDCOUNT',NULL,NULL,NULL,NULL,NULL,NULL,'[[  
      {field:''MEASURE_NAME'',title:''检验项目'',width:80,align:''left''},   
      {field:''DESCRIPTION'',title:''描述'',width:80,align:''left''},   
      {field:''ACTUAL'',title:''值'',width:80,align:''left''},
      {field:''TEST_DATE_TIME'',title:''数据采集时间'',width:80,align:''left''},
      {field:''UNITS'',title:''单位'',width:80,align:''left''},
      {field:''HIGH_LIMIT'',title:''上限‘,width:80,align:''left''},
      {field:''LOW_LIMIT'',title:''下限'',width:80,align:''left''}    
  ]]','[[  
      {field:''MEASURE_NAME'',title:''Inspect Item'',width:80,align:''left''},   
      {field:''DESCRIPTION'',title:''Description'',width:80,align:''left''},   
      {field:''ACTUAL'',title:''Value'',width:80,align:''left''},
      {field:''TEST_DATE_TIME'',title:''Data Collect Time'',width:80,align:''left''},
      {field:''UNITS'',title:''Unit'',width:80,align:''left''},
      {field:''HIGH_LIMIT'',title:''High Limit'',width:80,align:''left''},
      {field:''LOW_LIMIT'',title:''Low Limit'',width:80,align:''left''}    
  ]]',NULL,NULL,NULL,'/com/sapdev/pod/report_form.jsp',NULL,'Wuhao','10');
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_RESOURCE_DCT_INV_DATA','LOGIC','获取设备扣料数据',NULL,'SELECT * FROM WIP.Z_DEVICE_DATA WHERE SITE = :SITE AND RESOURCE = :RESOURCE AND STATUS = :STATUS AND STATUS_DEVICE_TRANSFER = :STATUS_DEVICE_TRANSFER ORDER BY CREATED_DATE ASC',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'yxj',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_INV_COUNT_ITEM_TOTAL','LOGIC','查询盘点单行项目数据汇总',NULL,'SELECT SITE,BILL_CODE,ITEM,REVISION,ERP_BATCH,QUALITY_LEVEL,SUM(QTY_ON_HAND) QTY_ON_HAND,SUM(QTY_COUNT) QTY_COUNT,SUM(QTY_ADJUST) QTY_ADJUST 
FROM Z_INVCOUNT_ITEM WHERE SITE = :SITE AND BILL_CODE = :BILL_CODE 
GROUP BY SITE,BILL_CODE,ITEM,REVISION,ERP_BATCH,QUALITY_LEVEL',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_SAMPLING_01','LOGIC','抽样检查-》根据SFC检查抽样方案',NULL,'SELECT T1.SFC,T3.PROCESS_LOT,T3.HANDLE PROCESS_LOT_BO 
FROM SFC T1 
INNER JOIN PROCESS_LOT_MEMBER T2 ON (T1.HANDLE = T2.MEMBER_GBO)
INNER JOIN PROCESS_LOT T3 ON (T3.SITE = :SITE_V  AND T3.HANDLE = T2.PROCESS_LOT_BO)
WHERE T1.SITE = :SITE_V AND T1.HANDLE = :SFC_BO 
 ORDER BY T2.CREATED_DATE_TIME DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CORE_REPORT_03_DETAIL1_TOTAL','LOGIC','巡检报表SFC明细-》Total',NULL,'SELECT COUNT(1) TOTAL_RECORDS FROM (  
   SELECT T.*, ROW_NUMBER() OVER(ORDER BY T.SFC ) RN FROM (
        SELECT DISTINCT A.SFC,B.SHOP_ORDER,C.ITEM,C.DESCRIPTION ITEM_DESC,D.VALUE ITEM_SPEC,E.SAMPLE_QTY,G.MEASURE_NAME,G.DESCRIPTION MEASURE_DESC,G.ACTUAL,TO_CHAR(G.TEST_DATE_TIME,''yyyy-mm-dd hh24:mi:ss'') TEST_DATE_TIME
        ,G.UNIT_OF_MEAS UNITS,G.HIGH_LIMIT,G.LOW_LIMIT FROM 
Z_INSPECT_BATCH_MEMBER E 
LEFT JOIN CUSTOM_FIELDS D ON E.ITEM_BO = D.HANDLE AND D."ATTRIBUTE" = ''ITEM_SPEC''
INNER JOIN SFC A ON E.SFC_BO = A.HANDLE 
INNER JOIN SHOP_ORDER B ON E.SHOP_ORDER_BO = B.HANDLE 
INNER JOIN ITEM C ON E.ITEM_BO = C.HANDLE 
INNER JOIN Z_INSPECT_BATCH_NUMBER F ON E.BATCH_NUMBER_BO = F.HANDLE
LEFT JOIN PARAMETRIC_MEASURE G ON E.SFC_BO = G.PARA_CONTEXT_GBO
WHERE F.SITE = :SITE_V 
AND F.BATCH_NUMBER = :BATCH_NUMBER
   ) T   
)  
WHERE 1=1',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_SAMPLING_02','LOGIC','抽样检查-》根据PROCESS_LOT检查TIMES最大值数据',NULL,'SELECT TOP 1 T.SAMPLE_BO,
       T.TIMES,
       T.SAMPLE_QTY,
       T.RESULTS,
       T.SAMPLE_BO,
       T.RECEVIED_QTY,
       T.REJECT_QTY
  FROM Z_SAMPLE T
 WHERE T.SITE = :SITE_V
   AND T.PROCESS_LOT_BO = :PROCESS_LOT_BO
 ORDER BY CAST(T.TIMES AS INT) DESC  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_SAMPLING_03','LOGIC','抽样检查-》汇总该PROCESS_LOT FAILED的数量',NULL,'SELECT SUM(T.QTY_FAILED) QTY_FAILED FROM (
SELECT T1.SFC,MAX(T1.QTY_FAILED) QTY_FAILED,MAX(T1.TIMES_PROCESSED) TIMES_PROCESSED  
 FROM PRODUCTION_LOG T1 
 WHERE T1.PROCESS_LOT = :PROCESS_LOT  AND T1.SITE = :SITE_V
GROUP BY T1.SFC  
) T ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CORE_REPORT_03_DETAIL2_TOTAL','LOGIC','巡检报表检验明细-》Total',NULL,'SELECT COUNT(1) TOTAL_RECORDS FROM (  
   SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.TEST_DATE_TIME ) RN FROM (
        SELECT B.MEASURE_NAME,B.DESCRIPTION,B.ACTUAL,TO_CHAR(B.TEST_DATE_TIME,''yyyy-mm-dd hh24:mi:ss'') TEST_DATE_TIME,B.UNIT_OF_MEAS UNITS,B.HIGH_LIMIT,B.LOW_LIMIT FROM PARAMETRIC_MEASURE B 
INNER JOIN Z_INSPECT_BATCH_MEMBER C ON B.PARA_CONTEXT_GBO = C.SFC_BO 
INNER JOIN SFC D ON B.PARA_CONTEXT_GBO = D.HANDLE 
WHERE D.SITE = :SITE_V 
AND D.SFC = :SFC
   ) A   
)  
WHERE 1=1',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_SAMPLING_04','LOGIC','抽样检查-》Z_SAMPLE新增',NULL,'INSERT INTO Z_SAMPLE
( SITE, SAMPLE_BO, PROCESS_LOT_BO, SAMPLE_QTY, TIMES, RESOUCES_BO, OPERATION_BO, USER_BO, CREATE_DATE, MODIFY_DATE, RESULTS,RECEVIED_QTY,REJECT_QTY, REMARK) VALUES(:site,:sampleBo,:processLotBo,:sampleQty,:times,:resoucesBo,:operationBo,:userBo,:createDate,:modifyDate,:results,:receviedQty,:rejectQty,:remark) 
',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'INSERT_Z_RAW_MATERIAL_ABNORMAL','LOGIC','原材料异常处理单->新增',NULL,'INSERT INTO Z_RAW_MATERIAL_ABNORMAL
(HANDLE, SITE, DATE, SEND_DEPARTMENT, REPORT_ID, CATEGORY, CUSTOMER, DESCRIPTION, ITEM_SPEC, VENDOR_LOT, QTY, SAMPLING_RULE, SAMPLING_QTY, NG_QTY, NG_RATE, QUALITY_PROBLEM_DESC, PROBLEM_DESC, TEMPORARY_MEASURE, SUPPLIER_DESIGNATOR, REASON_ANALYSIS_OCCURRENCE_SIDE, REASON_ANALYSIS_OUTFLOW_END, SUPPLIER_ANALYSIS, DEVELOP_PERMANENT_IMPROVEMENT_MEASURES, DESIGNATOR, SUPPLIER_PERSON_AUDIT, EFFECT_VERIFICATION, VERIFIER, CREATED_USER, CREATED_DATE_TIME, EDITED_USER, EDITED_DATE_TIME,SCHOLAR)
VALUES(:HANDLE,:SITE,:DATE,:SEND_DEPARTMENT,:REPORT_ID,:CATEGORY,:CUSTOMER,:DESCRIPTION,:ITEM_SPEC,:VENDOR_LOT,:QTY,:SAMPLING_RULE,:SAMPLING_QTY,:NG_QTY,:NG_RATE,:QUALITY_PROBLEM_DESC,:PROBLEM_DESC,:TEMPORARY_MEASURE,:SUPPLIER_DESIGNATOR,:REASON_ANALYSIS_OCCURRENCE_SIDE,:REASON_ANALYSIS_OUTFLOW_END,:SUPPLIER_ANALYSIS,:DEVELOP_PERMANENT_IMPROVEMENT_MEASURES,:DESIGNATOR,:SUPPLIER_PERSON_AUDIT,:EFFECT_VERIFICATION,:VERIFIER,:CREATED_USER,:CREATED_DATE_TIME,:EDITED_USER,:EDITED_DATE_TIME,:SCHOLAR)',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'wangdaowen',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_SAMPLING_05','LOGIC','抽样检查-》update z_sample',NULL,'UPDATE Z_SAMPLE 
SET RESULTS = :results,MODIFY_DATE = :modifyDate 
WHERE OPERATION_BO = :operationBo 
AND RESOUCES_BO = :resoucesBo 
AND PROCESS_LOT_BO = :processLotBo 
AND SITE = :site  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'WMPF_SAMPLING_01','LOGIC','抽样检查-》Pluging查询',NULL,'SELECT ''PROCESS_LOT1'' PROCESS_LOT,
       ''PROCESS_SIZE1'' PROCESS_SIZE,
       ''SAMPLE_QTY1'' SAMPLE_QTY,
       ''SAMPLE_QTY1'' SAMPLE_QTY,
       ''ACCEPT_QTY1'' ACCEPT_QTY,
       ''RETURN_QTY1'' RETURN_QTY
  FROM dummy
UNION ALL
SELECT ''PROCESS_LOT2'' PROCESS_LOT,
       ''PROCESS_SIZE2'' PROCESS_SIZE,
       ''SAMPLE_QTY2'' SAMPLE_QTY,
       ''SAMPLE_QTY2'' SAMPLE_QTY,
       ''ACCEPT_QTY2'' ACCEPT_QTY,
       ''RETURN_QTY2'' RETURN_QTY
  FROM dummy ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_EQPEFFICIENCY_LIST','LOGIC','设备效率报表-》报表',NULL,'SELECT * FROM
(
SELECT D.*, ROW_NUMBER() OVER(ORDER BY D.RESRCE) RN FROM
(
SELECT A.RESRCE, A.DESCRIPTION, A.TOTAL_TIME, A.WORK_TIME, A.STOP_TIME, A.REPAIR_TIME, A.OEE, CASE WHEN B.NUM IS NULL THEN 0 ELSE B.NUM END MAINTENANCE_COUNT, CASE WHEN C.NUM IS NULL THEN 0 ELSE C.NUM END REPAIR_COUNT FROM 
(
SELECT RESRCE, DESCRIPTION, TO_DECIMAL(TOTAL_TIME,12,2) TOTAL_TIME,TO_DECIMAL(WORK_TIME,12,2) WORK_TIME, TO_DECIMAL(STOP_TIME,12,2) STOP_TIME, TO_DECIMAL(REPAIR_TIME,12,2) REPAIR_TIME,
CAST(
(CASE WHEN (TOTAL_TIME IS NULL OR TOTAL_TIME = 0) AND WORK_TIME+STOP_TIME+REPAIR_TIME=0 THEN 0 WHEN TOTAL_TIME IS NULL OR TOTAL_TIME = 0 THEN WORK_TIME/(WORK_TIME+STOP_TIME+REPAIR_TIME)*100 ELSE WORK_TIME/TOTAL_TIME*100 END) AS DECIMAL(12,2)) OEE
FROM 
(
SELECT RESRCE, DESCRIPTION,
MAX(CAST(TOTAL_TIME AS DECIMAL)) - MIN (CAST(TOTAL_TIME AS DECIMAL)) TOTAL_TIME,
MAX(CAST(WORK_TIME AS DECIMAL)) - MIN(CAST(WORK_TIME AS DECIMAL)) WORK_TIME,
MAX(CAST(STOP_TIME AS DECIMAL)) - MIN(CAST(STOP_TIME AS DECIMAL)) STOP_TIME,
MAX(CAST(REPAIR_TIME AS DECIMAL)) - MIN(CAST(REPAIR_TIME AS DECIMAL)) REPAIR_TIME
FROM Z_OEE_DATA  ZOD
CROSS JOIN 
(
	SELECT TO_TIME(LPAD(PS.START_TIME,4,0)) START_TIME, TO_TIME(LPAD(PS.END_TIME,4,0)) END_TIME FROM PRODUCTION_DAY_TYPE PDT INNER JOIN PRODUCTION_SHIFT PS ON PDT.HANDLE = PS.PRODUCTION_DAY_TYPE_BO
	WHERE PDT.SITE = :SITE AND (:PRODUCTION_SHIFT IS NULL OR PS.PRODUCTION_SHIFT LIKE :PRODUCTION_SHIFT||''%'')
) PR 
WHERE 
(:RESRCE_TYPE_V IS NULL OR ZOD.RESOURCE_TYPE LIKE :RESRCE_TYPE_V||''%'')
AND (:RESRCE_V IS NULL OR ZOD.RESRCE LIKE :RESRCE_V||''%'')
AND TO_DATE(LEFT(ZOD.CREATED_DATE,10)) = :CHOOSE_DATE
AND SITE = :SITE
AND TO_TIME(RIGHT(ZOD.CREATED_DATE,8)) >= PR.START_TIME AND TO_TIME(RIGHT(ZOD.CREATED_DATE,8)) < PR.END_TIME
GROUP BY RESRCE, DESCRIPTION
)) A
LEFT JOIN
(
SELECT RE.RESRCE,COUNT(1) NUM FROM 
Z_EQPMAINTENANCE_LOG ZEL
INNER JOIN RESRCE RE ON ZEL.RESOURCE_BO = RE.HANDLE
CROSS JOIN 
(
	SELECT TO_TIME(LPAD(PS.START_TIME,4,0)) START_TIME, TO_TIME(LPAD(PS.END_TIME,4,0)) END_TIME FROM PRODUCTION_DAY_TYPE PDT INNER JOIN PRODUCTION_SHIFT PS ON PDT.HANDLE = PS.PRODUCTION_DAY_TYPE_BO
	WHERE PDT.SITE = :SITE AND (:PRODUCTION_SHIFT IS NULL OR PS.PRODUCTION_SHIFT LIKE :PRODUCTION_SHIFT||''%'')
) PR
WHERE ZEL.SITE = :SITE 
AND (:RESRCE_V IS NULL OR RE.RESRCE LIKE :RESRCE_V||''%'')
AND TO_DATE(LEFT(ZEL.CREATED_DATE_TIME,10)) = :CHOOSE_DATE
AND TO_TIME(RIGHT(ZEL.CREATED_DATE_TIME,8)) >= PR.START_TIME AND TO_TIME(RIGHT(ZEL.CREATED_DATE_TIME,8)) < PR.END_TIME
GROUP BY (RE.RESRCE)
) B
ON A.RESRCE = B.RESRCE
LEFT JOIN
(
SELECT  ZEL.RESOURCE_NO RESRCE, COUNT(1) NUM
FROM Z_EQPREPAIR_LOG ZEL
WHERE 
ZEL.SITE = :SITE
AND (:RESRCE_TYPE_V IS NULL OR ZEL.RESOURCE_TYPE LIKE :RESRCE_TYPE_V||''%'')
AND (:RESRCE_V IS NULL OR ZEL.RESOURCE_NO LIKE :RESRCE_V||''%'')
AND TO_DATE(ZEL.REPAIR_START_DTIME) = :CHOOSE_DATE
AND (:PRODUCTION_SHIFT IS NULL OR ZEL.SHIFT LIKE :PRODUCTION_SHIFT||''%'')
GROUP BY ZEL.RESOURCE_NO
) C
ON B.RESRCE = C.RESRCE
) D
)
WHERE RN BETWEEN :STARTCOUNT AND :ENDCOUNT
',NULL,NULL,NULL,NULL,NULL,NULL,'[[  
  {field:''RESRCE'',title:''设备编号'',width:100,align:''left''},  
  {field:''DESCRIPTION'',title:''设备名称'',width:100,align:''left''},
  {field:''TOTAL_TIME'',title:''总时间'',width:100,align:''left''},
  {field:''WORK_TIME'',title:''运行时间'',width:100,align:''left''},
  {field:''STOP_TIME'',title:''停机时间'',width:100,align:''left''},
  {field:''REPAIR_TIME'',title:''维护时间'',width:100,align:''left''},
  {field:''OEE'',title:''稼动率%'',width:80,align:''left''},
  {field:''MAINTENANCE_COUNT'',title:''保养次数'',width:80,align:''left''},  
  {field:''REPAIR_COUNT'',title:''维修次数'',width:80,align:''left''}
]] ','[[  
  {field:''RESRCE'',title:''Resrce'',width:120,align:''left''},  
  {field:''DESCRIPTION'',title:''Description'',width:120,align:''left''},
  {field:''TOTAL_TIME'',title:''Total Time'',width:140,align:''left''},
  {field:''OEE'',title:''Oee'',width:80,align:''left''},
  {field:''MAINTENANCE_COUNT'',title:''Maintenance Count'',width:80,align:''left''},  
  {field:''REPAIR_COUNT'',title:''Repair Count'',width:80,align:''left''}
]]',NULL,NULL,NULL,'/com/sapdev/pod/report_form.jsp',NULL,'liulin','15');
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'SAMPLING_DIALOG_01','DIALOG','抽样批次','SAMPLING BATCH','SELECT TOP 200 T1.HANDLE,T1.PROCESS_LOT,T1.DESCRIPTION FROM PROCESS_LOT T1 
 WHERE T1.SITE = ''''%SITE%'''' AND T1.PROCESS_LOT LIKE ''''{0}%''''  ','抽样批次,描述','PROCESS_LOT,DESCRIPTION','HANDLE,PROCESS_LOT,DESCRIPTION','0,1',' ORDER BY T1.date_time DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'SAMPLING_DIALOG_02','DIALOG','抽样计划','SAMPLE PLAN','SELECT TOP 200 T.HANDLE,T.SAMPLE_PLAN,T.REVISION,T.CURRENT_REVISION,T.SAMPLE_PLAN_TYPE ,T.DESCRIPTION 
FROM SAMPLE_PLAN T 
WHERE T.SITE = ''''%SITE%'''' AND T.SAMPLE_PLAN LIKE ''''{0}%''''  ','抽样计划,版本,当前版本,类型,描述','HANDLE,SAMPLE_PLAN,REVISION,CURRENT_REVISION,SAMPLE_PLAN_TYPE,DESCRIPTION ','HANDLE,SAMPLE_PLAN,REVISION,CURRENT_REVISION,SAMPLE_PLAN_TYPE,DESCRIPTION ','0,1',' ORDER BY T.CREATED_DATE_TIME DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_CONTAINER_CURRENT_QTY','LOGIC','包装/解包-》获取容器最大存放数量和当前已放入的数量',NULL,'SELECT CD.HANDLE,CD.STATE,IFNULL(SUM(CM.QTY),0) CURRENT_QTY 
FROM CONTAINER_DATA CD 
LEFT JOIN CONTAINER C ON C.HANDLE = CD.CONTAINER_BO
LEFT JOIN CONTAINER_MEMBER CM ON CM.CONTAINER_DATA_BO = CD.HANDLE
WHERE CD.SITE = :SITE
AND CD.CONTAINER_NUMBER = :CONTAINER_NUMBER
GROUP BY CD.HANDLE,CD.STATE',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_SAMPLING_06','LOGIC','抽样检查-》汇总PROCESS_LOT FAILED和QTY_COMPLETE数量',NULL,' SELECT SUM(T.QTY_FAILED) QTY_FAILED,SUM(T.QTY_COMPLETED) QTY_COMPLETED, (SUM(T.QTY_FAILED) + SUM(T.QTY_COMPLETED)) QTY_TOTAL
FROM (
	SELECT T4.SFC,MAX(T4.QTY_FAILED) QTY_FAILED,MAX(T4.QTY_COMPLETED) QTY_COMPLETED,MAX(T4.TIMES_PROCESSED) TIMES_PROCESSED
	FROM SFC T1 
	INNER JOIN PROCESS_LOT_MEMBER T2 ON (T1.HANDLE = T2.MEMBER_GBO)
	INNER JOIN PROCESS_LOT T3 ON (T3.SITE = :SITE_V  AND T3.HANDLE = T2.PROCESS_LOT_BO)
	INNER JOIN PRODUCTION_LOG T4 ON (T4.SITE = :SITE_V AND T1.SFC = T4.SFC)
	WHERE T1.SITE = :SITE_V  
	AND T3.PROCESS_LOT = :PROCESS_LOT 
	GROUP BY T4.SFC 
) T ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_SAMPLING_07','LOGIC','抽样检查-》通过批次获取所有SFC',NULL,'SELECT T1.HANDLE SFC_BO,T1.SFC,T3.PROCESS_LOT 
FROM SFC T1 
INNER JOIN PROCESS_LOT_MEMBER T2 ON (T1.HANDLE = T2.MEMBER_GBO)
INNER JOIN PROCESS_LOT T3 ON (T3.SITE = :SITE_V  AND T3.HANDLE = T2.PROCESS_LOT_BO)
WHERE T1.SITE = :SITE_V AND T3.PROCESS_LOT = :PROCESS_LOT  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_SAMPLING_08','LOGIC','抽样检查-》根据PROCESS_LOT检查当前条数',NULL,'SELECT T.TIMES FROM Z_SAMPLE T WHERE T.SITE = :SITE_V AND T.PROCESS_LOT_BO = :PROCESS_LOT_BO ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_SAMPLING_09','LOGIC','抽样检查-》根据方案查询明细',NULL,'SELECT T.HANDLE,T.SAMPLE_SIZE,T.ACCEPT_NUMBER,T.REJECT_NUMBER,T.SAMPLE_SIZE FROM SAMPLE_PLAN T 
WHERE T.SITE = :SITE_V AND T.SAMPLE_PLAN = :SAMPLE_PLAN AND T.CURRENT_REVISION = ''true''',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_EQPEFFICIENCY_SHIFT','DIALOG','班次','SHIFT','SELECT PS.PRODUCTION_SHIFT HANDLE, PS.PRODUCTION_SHIFT,PS.DESCRIPTION  FROM PRODUCTION_SHIFT PS LEFT JOIN PRODUCTION_DAY_TYPE PT ON PS.PRODUCTION_DAY_TYPE_BO = PT.HANDLE
WHERE PT.SITE = ''''%SITE%'''' AND PS.PRODUCTION_SHIFT LIKE ''''{0}%''''','班次,描述','SHIFT,DESCRIPTION','HANDLE,PRODUCTION_SHIFT,DESCRIPTION','0,1',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_EQPEFFICIENCY_LIST_TOTAL','LOGIC','设备效率报表-》报表统计',NULL,'SELECT COUNT(1) TOTAL_RECORDS FROM
(
SELECT D.*, ROW_NUMBER() OVER(ORDER BY D.RESRCE) RN FROM
(
SELECT A.RESRCE, A.DESCRIPTION, A.TOTAL_TIME, A.WORK_TIME, A.STOP_TIME, A.REPAIR_TIME, A.OEE, CASE WHEN B.NUM IS NULL THEN 0 ELSE B.NUM END MAINTENANCE_COUNT, CASE WHEN C.NUM IS NULL THEN 0 ELSE C.NUM END REPAIR_COUNT FROM 
(
SELECT RESRCE, DESCRIPTION, TOTAL_TIME, WORK_TIME, STOP_TIME, REPAIR_TIME,
CAST(
(CASE WHEN (TOTAL_TIME IS NULL OR TOTAL_TIME = 0) AND WORK_TIME+STOP_TIME+REPAIR_TIME=0 THEN 0 WHEN TOTAL_TIME IS NULL OR TOTAL_TIME = 0 THEN WORK_TIME/(WORK_TIME+STOP_TIME+REPAIR_TIME)*100 ELSE WORK_TIME/TOTAL_TIME*100 END) AS DECIMAL(10,8)) OEE
FROM 
(
SELECT RESRCE, DESCRIPTION, 
MAX(CAST(TOTAL_TIME AS DECIMAL)) - MIN (CAST(TOTAL_TIME AS DECIMAL)) TOTAL_TIME,
MAX(CAST(WORK_TIME AS DECIMAL)) - MIN(CAST(WORK_TIME AS DECIMAL)) WORK_TIME,
MAX(CAST(STOP_TIME AS DECIMAL)) - MIN(CAST(STOP_TIME AS DECIMAL)) STOP_TIME,
MAX(CAST(REPAIR_TIME AS DECIMAL)) - MIN(CAST(REPAIR_TIME AS DECIMAL)) REPAIR_TIME
FROM Z_OEE_DATA  ZOD
CROSS JOIN 
(
	SELECT TO_TIME(LPAD(PS.START_TIME,4,0)) START_TIME, TO_TIME(LPAD(PS.END_TIME,4,0)) END_TIME FROM PRODUCTION_DAY_TYPE PDT INNER JOIN PRODUCTION_SHIFT PS ON PDT.HANDLE = PS.PRODUCTION_DAY_TYPE_BO
	WHERE PDT.SITE = :SITE AND (:PRODUCTION_SHIFT IS NULL OR PS.PRODUCTION_SHIFT LIKE :PRODUCTION_SHIFT||''%'')
) PR 
WHERE 
(:RESRCE_TYPE_V IS NULL OR ZOD.RESOURCE_TYPE LIKE :RESRCE_TYPE_V||''%'')
AND (:RESRCE_V IS NULL OR ZOD.RESRCE LIKE :RESRCE_V||''%'')
AND TO_DATE(LEFT(ZOD.CREATED_DATE,10)) = :CHOOSE_DATE
AND SITE = :SITE
AND TO_TIME(RIGHT(ZOD.CREATED_DATE,8)) >= PR.START_TIME AND TO_TIME(RIGHT(ZOD.CREATED_DATE,8)) < PR.END_TIME
GROUP BY RESRCE, DESCRIPTION
)) A
LEFT JOIN
(
SELECT RE.RESRCE,COUNT(1) NUM FROM 
Z_EQPMAINTENANCE_LOG ZEL
INNER JOIN RESRCE RE ON ZEL.RESOURCE_BO = RE.HANDLE
CROSS JOIN 
(
	SELECT TO_TIME(LPAD(PS.START_TIME,4,0)) START_TIME, TO_TIME(LPAD(PS.END_TIME,4,0)) END_TIME FROM PRODUCTION_DAY_TYPE PDT INNER JOIN PRODUCTION_SHIFT PS ON PDT.HANDLE = PS.PRODUCTION_DAY_TYPE_BO
	WHERE PDT.SITE = :SITE AND (:PRODUCTION_SHIFT IS NULL OR PS.PRODUCTION_SHIFT LIKE :PRODUCTION_SHIFT||''%'')
) PR
WHERE ZEL.SITE = :SITE 
AND (:RESRCE_V IS NULL OR RE.RESRCE LIKE :RESRCE_V||''%'')
AND TO_DATE(LEFT(ZEL.CREATED_DATE_TIME,10)) = :CHOOSE_DATE
AND TO_TIME(RIGHT(ZEL.CREATED_DATE_TIME,8)) >= PR.START_TIME AND TO_TIME(RIGHT(ZEL.CREATED_DATE_TIME,8)) < PR.END_TIME
GROUP BY (RE.RESRCE)
) B
ON A.RESRCE = B.RESRCE
LEFT JOIN
(
SELECT  ZEL.RESOURCE_NO RESRCE, COUNT(1) NUM
FROM Z_EQPREPAIR_LOG ZEL
WHERE 
ZEL.SITE = :SITE
AND (:RESRCE_TYPE_V IS NULL OR ZEL.RESOURCE_TYPE LIKE :RESRCE_TYPE_V||''%'')
AND (:RESRCE_V IS NULL OR ZEL.RESOURCE_NO LIKE :RESRCE_V||''%'')
AND TO_DATE(ZEL.REPAIR_START_DTIME) = :CHOOSE_DATE
AND (:PRODUCTION_SHIFT IS NULL OR ZEL.SHIFT LIKE :PRODUCTION_SHIFT||''%'')
GROUP BY ZEL.RESOURCE_NO
) C
ON B.RESRCE = C.RESRCE
) D
)',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'UPDATE_RESOURCE_DCT_INV_DATA','LOGIC','更新设备扣料数据',NULL,'UPDATE WIP.Z_DEVICE_DATA SET STATUS = 1 WHERE HANDLE IN (:HANDLES)',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'yxj',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_MAINT_INV_02','LOGIC','物料退料调拨-》汇总',NULL,'SELECT 
	T2.ITEM,
	T2.REVISION,
       SUM(T1.QTY_ON_HAND) QTY_ON_HAND,
       T3.STORAGE_LOCATION,
       T5.DATA_ATTR ERP_BATCH,
       T6.DATA_ATTR STATUS_LEVEL
  FROM INVENTORY T1
INNER JOIN ITEM T2 ON (T2.SITE = ''''{0}'''' AND T1.ITEM_BO = T2.HANDLE)
INNER JOIN STORAGE_LOCATION T3 ON (T3.SITE = ''''{0}'''' AND T1.STORAGE_LOCATION_BO = T3.HANDLE)
INNER JOIN INVENTORY_ASSY_DATA T5 ON (T1.HANDLE = T5.INVENTORY_BO AND T5.DATA_FIELD = ''''BATCH_NUMBER'''')
LEFT JOIN INVENTORY_ASSY_DATA T6 ON (T1.HANDLE = T6.INVENTORY_BO AND T6.DATA_FIELD = ''''LEVEL'''')
WHERE T1.SITE =   
AND T1.QTY_ON_HAND > 0
AND T2.ITEM IN (''''CELL_01'''')
GROUP BY T2.ITEM,T2.REVISION,T3.STORAGE_LOCATION,T5.DATA_ATTR,T6.DATA_ATTR ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_RESOURCE_BY_RESIP','LOGIC','根据设备IP获取非禁用资源',NULL,'SELECT cf.HANDLE HANDLE FROM CUSTOM_FIELDS cf LEFT JOIN RESRCE r ON r.HANDLE = cf.HANDLE WHERE cf.ATTRIBUTE = :ATTRIBUTE AND cf.VALUE = :VALUE AND r.STATUS_BO NOT LIKE ''StatusBO:%,302''',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'yxj',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_SHOPORDER_BY_RES','LOGIC','根据资源获取设置工单',NULL,'SELECT * FROM RESOURCE_SETUP rs WHERE rs.RESOURCE_BO = :RESOURCE_BO AND rs.SETUP_GBO LIKE ''ShopOrderBO:%,%''',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'yxj',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_01','LOGIC','Mobile-》原材料检验数据录入-》列表',NULL,'SELECT 
	T1.RAW_INSPECT_NUM,
    T1.INSPECT_QUANTITY, 
	to_char(T1.INSEPCT_DATE,''yyyy-MM-dd'') INSEPCT_DATE,
	T1.ITEM,
	T1.ITEM_DESC,
	T1.ITEM_REVISION,
	T1.BATCH_ID,
	T1.CUSTOMER_NAME CUSTOMER, 
    T1.BATCH_NUMBER VENDOR_LOT, 
	T1.UNIT_MEASURE,
	T1.INSPECT_QUANTITY,
	T3.VALUE ITEM_SPEC,
    T1.APPLYER  
FROM Z_RAW_INSPECT T1
LEFT JOIN ITEM T2 ON (T2.SITE = :SITE AND T1.ITEM = T2.ITEM) 
LEFT JOIN CUSTOM_FIELDS T3 ON (T2.HANDLE = T3.HANDLE AND T3.ATTRIBUTE = ''ITEM_SPEC'')/*规格*/ 
WHERE T1.SITE = :SITE 
 AND T1.ERP_SEND NOT IN (''Y'')
 AND (:INSPECT_V = '''' OR T1.RAW_INSPECT_NUM = :INSPECT_V)  
 AND (:INSPECT_USER_V = '''' OR T1.APPLYER = :INSPECT_USER_V)  
 AND (:BEGIN_V = '''' OR CAST(T1.INSEPCT_DATE AS TIMESTAMP ) >= TO_TIMESTAMP(:BEGIN_V, ''yyyy-mm-dd hh24:mi:ss''))
 AND (:END_V = '''' OR CAST(T1.INSEPCT_DATE AS TIMESTAMP ) <   ADD_SECONDS(TO_TIMESTAMP(:END_V),24*60*60)) ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_02','LOGIC','Mobile-》原材料检验数据录入-》物料弹出框',NULL,'SELECT TOP 200 T1.ITEM NAME, T1.DESCRIPTION  FROM ITEM T1 
 WHERE T1.SITE = :SITE
 AND (:ITEM_V = '''' or T1.ITEM LIKE :ITEM_V ||''%'') ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_CONTAINER_PACKED_SFC','LOGIC','包装/解包-》获取活动中的可以被打包的sfc',NULL,'SELECT SFC.HANDLE,SFC.SFC,SFC.SITE,ITM.ITEM,ITM.REVISION,SFC.SHOP_ORDER_BO,SS.OPERATION_BO,SIW.RESOURCE_BO
FROM SFC_IN_WORK SIW
INNER JOIN SFC_STEP SS ON SS.HANDLE = SIW.SFC_STEP_BO
INNER JOIN SFC_ROUTER SRR ON SRR.HANDLE = SS.SFC_ROUTER_BO
INNER JOIN SFC_ROUTING SRG ON SRG.HANDLE = SRR.SFC_ROUTING_BO
INNER JOIN SFC ON SFC.HANDLE = SRG.SFC_BO
INNER JOIN ITEM ITM ON ITM.HANDLE = SFC.ITEM_BO
INNER JOIN STATUS ST ON ST.HANDLE = SFC.STATUS_BO
WHERE ST.STATUS_GROUP = ''SFC''
AND  ST.STATUS = ''403''
AND SFC.SITE = :SITE
AND (:SFC = '''' OR SFC.SFC LIKE :SFC||''%'')
AND (:OPERATION_BO = '''' OR SS.OPERATION_BO LIKE :OPERATION_BO||''%'')
AND (:ITEM = '''' OR ITM.ITEM LIKE :ITEM||''%'')
AND (:REVISION = '''' OR ITM.REVISION LIKE :REVISION||''%'')
AND (:SHOP_ORDER_BO = '''' OR SFC.SHOP_ORDER_BO LIKE :SHOP_ORDER_BO||''%'')
AND SIW.RESOURCE_BO = :RESOURCE_BO',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_03','LOGIC','Mobile-》原材料检验数据录入-》根据送检单号获取对应物料的数据收集组',NULL,'SELECT DISTINCT T1.HANDLE,T1.RAW_INSPECT_NUM,T2.ITEM,T5.DC_GROUP,T5.DESCRIPTION DC_GROUP_DESC 
FROM Z_RAW_INSPECT T1 
INNER JOIN ITEM T2 ON (T1.SITE = :SITE AND T1.ITEM = T2.ITEM)
INNER JOIN ATTACHED T3 ON (T3.ATTACHED_TO_GBO = T2.HANDLE)
INNER JOIN ATTACHMENT T4 ON (T3.ATTACHMENT_BO = T4.HANDLE)
INNER JOIN DC_GROUP T5 ON (T5.SITE = :SITE AND T5.HANDLE = T4.ATTACHED_FROM_GBO)
WHERE T1.SITE = :SITE
AND T1.RAW_INSPECT_NUM = :RAW_INSPECT_NUM ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_04','LOGIC','Mobile-》原材料检验数据录入-》读取收集组参数',NULL,'SELECT T2.PARAMETER_NAME,
       T2.DESCRIPTION PARAMETER_DESC,
       T2.MIN_VALUE,
       T2.MAX_VALUE,
       T2.REQUIRED_DATA_ENTRIES,
       T2.OPTIONAL_DATA_ENTRIES,
       T2.DATA_TYPE,
       T3.STATUS,
       T3.STATUS_DESCRIPTION,
	   T2.BOOLEAN_ZERO_VALUE,
	   T2.BOOLEAN_ONE_VALUE, 
	   T2.PROMPT,
	   T2.UNITS   
  FROM DC_GROUP T1
 INNER JOIN DC_PARAMETER T2 ON (T1.SITE = :SITE AND T1.HANDLE = T2.DC_GROUP_BO)
 INNER JOIN STATUS T3 ON (T3.SITE = :SITE AND T2.STATUS = T3.HANDLE)
 WHERE T1.DC_GROUP = :DC_GROUP ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'INSERT_Z_ABNORMAL','LOGIC','异常处理单导入->新增',NULL,'INSERT INTO Z_ABNORMAL(SITE,
WORK_SHOP,
DATE_TIME,
SEND_USER,
OPERATION,
RESRCE,
ATTRIBUTION_OF_RESPONSIBILITY,
CATEGORY,
MODEL,
SHOP_ORDER,
NC_CODE,
NC_DESC,
TEMPORARY_MEASURES,
PROVISIONAL_MEASURES,
REASON_ANALYSIS,
REASON_ANALYSIS_USER,
CORRECTIVE_ACTION,
CORRECTIVE_ACTION_USER,
EFFECT_CONFIRMED,
EFFECT_CONFIRMED_USER,
CREATED_USER_ID,
CREATED_DATE_TIME) VALUES(:SITE,
:WORK_SHOP,
:DATE_TIME,
:SEND_USER,
:OPERATION,
:RESRCE,
:ATTRIBUTION_OF_RESPONSIBILITY,
:CATEGORY,
:MODEL,
:SHOP_ORDER,
:NC_CODE,
:NC_DESC,
:TEMPORARY_MEASURES,
:PROVISIONAL_MEASURES,
:REASON_ANALYSIS,
:REASON_ANALYSIS_USER,
:CORRECTIVE_ACTION,
:CORRECTIVE_ACTION_USER,
:EFFECT_CONFIRMED,
:EFFECT_CONFIRMED_USER,
:CREATED_USER_ID,
:CREATED_DATE_TIME)',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'wangdaowen',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_05','LOGIC','Mobile-》原材料检验数据录入-》根据送检单号获取详情数据',NULL,'SELECT 	T1.HANDLE DC_GROUP_BO,
		    T2.HANDLE DC_PARAMETER_BO,
		    T2.PARAMETER_NAME,
       	T2.DESCRIPTION PARAMETER_DESC,
       	T2.MIN_VALUE,
       	T2.MAX_VALUE,
       	T2.REQUIRED_DATA_ENTRIES,
       	T2.OPTIONAL_DATA_ENTRIES,
       	T2.DATA_TYPE,
       	T3.STATUS,
       	T3.STATUS_DESCRIPTION,
	   	T2.BOOLEAN_ZERO_VALUE,
	   	T2.BOOLEAN_ONE_VALUE,
      T2.UNITS,
      T1.REVISION DC_GROUP_REVISION   
  FROM DC_GROUP T1 
 INNER JOIN DC_PARAMETER T2 ON T1.HANDLE = T2.DC_GROUP_BO 
 INNER JOIN STATUS T3 ON (T3.SITE = :SITE AND T2.STATUS = T3.HANDLE)
 WHERE T1.SITE = :SITE 
 AND T1.DC_GROUP = :DC_GROUP 
 AND PARAMETER_NAME = :PARAMETER_NAME
  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_06','LOGIC','Mobile-》原材料检验数据录入-》保存（Z_RAW_INSPECT_PARAMETRIC）',NULL,'INSERT INTO Z_RAW_INSPECT_PARAMETRIC
  (HANDLE,
   SITE,
   MEASURE_NAME,
   MEASURE_GROUP,
   PARAMETRIC_BO,
   "SEQUENCE",
   RESRCE,
   DESCRIPTION,
   COMPONENT_BO,
   COMPONENT_TYPE,
   PIN,
   MEASURE_STATUS,
   MEMO,
   MEASURE_TYPE,
   UNIT_OF_MEAS,
   DATA_TYPE,
   HIGH_LIMIT,
   LOW_LIMIT,
   EXPECTED,
   ACTUAL,
   ACTUAL_NUM,
   DC_COMMENT,
   DC_PARAMETER_BO,
   USED_LIMIT_SEQ,
   TEST_DATE_TIME,
   ELAPSED_TIME,
   ORIGINAL_ACTUAL,
   ORIGINAL_DC_COMMENT,
   ORIGINAL_TEST_DATE_TIME,
   EDITED,
   EDITED_USER_BO,
   EDITED_DATE_TIME,
   INTERNAL_MEASURE_ID,
   TRANSACTION_ID,
   PARA_CONTEXT_GBO,
   FIRST_SEQUENCE,
   OVERRIDE_USER_BO,
   DC_GROUP_REVISION,
   ERP_SENT,
   IS_QM_ACCEPTED,
   CREATED_USER_ID,
   CREATED_DATE_TIME,
   MODIFIED_USER_ID,
   MODIFIED_DATE_TIME)
VALUES
(  :handle,
   :site,
   :measure_name,
   :measure_group,
   :parametric_bo,
   :sequence,
   :resrce,
   :description,
   :component_bo,
   :component_type,
   :pin,
   :measure_status,
   :memo,
   :measure_type,
   :unit_of_meas,
   :data_type,
   :high_limit,
   :low_limit,
   :expected,
   :actual,
   :actual_num,
   :dc_comment,
   :dc_parameter_bo,
   :used_limit_seq,
   :test_date_time,
   :elapsed_time,
   :original_actual,
   :original_dc_comment,
   :original_test_date_time,
   :edited,
   :edited_user_bo,
   :edited_date_time,
   :internal_measure_id,
   :transaction_id,
   :para_context_gbo,
   :first_sequence,
   :override_user_bo,
   :dc_group_revision,
   :erp_sent,
   :is_qm_accepted,
   :created_user_id,
   :created_date_time,
   :modified_user_id,
   :modified_date_time) ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_07','LOGIC','Mobile-》原材料检验数据录入-》检查数据重复',NULL,'SELECT T.HANDLE FROM Z_RAW_INSPECT_PARAMETRIC T 
WHERE T.SITE = :SITE  
AND T.MEASURE_NAME = :PARAMETER_NAME 
AND T.MEASURE_GROUP = :DC_GROUP 
AND T.PARAMETRIC_BO = :INSPECTION_BO  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_08','LOGIC','Mobile-》原材料检验数据录入-》结果更新',NULL,'UPDATE Z_RAW_INSPECT SET INSEPCT_RESULT = :INSEPCT_RESULT WHERE SITE = :SITE AND RAW_INSPECT_NUM = :INSPECTION_NO  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_09','LOGIC','Mobile-》原材料检验数据录入-》删除(明细表)',NULL,'DELETE FROM Z_RAW_INSPECT_PARAMETRIC 
WHERE SITE = :SITE 
AND MEASURE_GROUP = :DC_GROUP 
AND PARAMETRIC_BO = :INSPECTION_BO  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_DEVICE_DATA','LOGIC','设备收集数据信息查询(未归档)-》查询',NULL,'SELECT * FROM (
	 SELECT TA.*, ROW_NUMBER() OVER(ORDER BY TA.CREATED_DATE DESC) RN FROM (  
	SELECT T.*
	FROM Z_DEVICE_DATA T
	WHERE SITE = :SITE
	AND cast(T.CREATED_DATE AS TIMESTAMP) >= TO_TIMESTAMP(:START_DATE_TIME,''YYYY-MM-DD HH24:MI:SS'')
	AND cast(T.CREATED_DATE AS TIMESTAMP) < TO_TIMESTAMP(:END_DATE_TIME,''YYYY-MM-DD HH24:MI:SS'')
		AND (:RESOURCE_TYPE = '''' OR T.RESOURCE_TYPE = :RESOURCE_TYPE)
		AND (:RESOURCE = '''' OR T.RESOURCE = :RESOURCE)
		AND (:DC_GROUP = '''' OR T.DC_GROUP = :DC_GROUP)
	)  TA
)
WHERE RN BETWEEN :STARTCOUNT AND :ENDCOUNT ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_RESOURCE_ALARM_DATA','LOGIC','获取设备报警数据',NULL,'SELECT * FROM WIP.Z_DEVICE_DATA WHERE SITE = :SITE AND RESOURCE_TYPE = :RESOURCE_TYPE AND cast(CREATED_DATE AS TIMESTAMP) >= TO_TIMESTAMP(:START_DATE_TIME,''YYYY-MM-DD HH24:MI:SS'') AND cast(CREATED_DATE AS TIMESTAMP) <= TO_TIMESTAMP(:END_DATE_TIME,''YYYY-MM-DD HH24:MI:SS'') ORDER BY CREATED_DATE ASC',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'yxj',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_REPORT_WORK_LOG_OPERATION_COUNT','LOGIC','工序或原材料报工-》查询工序报工数据行数',NULL,'SELECT COUNT(0) ROW_NUM
FROM PRODUCTION_LOG PL 
WHERE
	PL.SITE = :SITE
AND PL.TIMES_PROCESSED = 1
AND cast(PL.DATE_TIME AS TIMESTAMP) >= TO_TIMESTAMP(:START_DATE_TIME, ''yyyy-mm-dd hh24:mi:ss'')
AND cast(PL.DATE_TIME AS TIMESTAMP) < TO_TIMESTAMP(:END_DATE_TIME, ''yyyy-mm-dd hh24:mi:ss'')
AND (PL.QTY_SCRAPPED  > 0 OR PL.QTY_COMPLETED > 0 OR PL.QTY_NON_CONFORMED > 0)',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_T_SQL_LOGIC_01','LOGIC','工单分配维护-》根据资源获取详情',NULL,'SELECT T2.HANDLE,T2.SETUP_GBO 
FROM RESRCE T1  
INNER JOIN RESOURCE_SETUP T2 ON T1.HANDLE = T2.RESOURCE_BO 
WHERE T1.SITE = :SITE_V 
AND T1.RESRCE = :R_V   ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_DEVICE_DATA_TOTAL','LOGIC','设备收集数据信息查询(未归档)-》统计',NULL,'SELECT top 1 TA.RN TOTAL_RECORDS FROM (
	SELECT ROW_NUMBER() OVER(ORDER BY CREATED_DATE DESC) RN FROM ( 
		SELECT CREATED_DATE FROM Z_DEVICE_DATA T
	WHERE SITE = :SITE
	AND cast(T.CREATED_DATE AS TIMESTAMP) >= TO_TIMESTAMP(:START_DATE_TIME,''YYYY-MM-DD HH24:MI:SS'')
	AND cast(T.CREATED_DATE AS TIMESTAMP) < TO_TIMESTAMP(:END_DATE_TIME,''YYYY-MM-DD HH24:MI:SS'')
		AND (:RESOURCE_TYPE = '''' OR T.RESOURCE_TYPE = :RESOURCE_TYPE)
		AND (:RESOURCE = '''' OR T.RESOURCE = :RESOURCE)
		AND (:DC_GROUP = '''' OR T.DC_GROUP = :DC_GROUP)
	)
) TA 
ORDER BY TA.RN DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'BOARD_CORE_LOGIC_01','LOGIC','两小时工序产出看板-》工序自动完成搜索',NULL,'SELECT OPERATION TEXT_V,DESCRIPTION FROM OPERATION WHERE SITE = :SITE_V ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'BOARD_CORE_LOGIC_02','LOGIC','两小时工序产出看板-》车间自动完成搜索',NULL,'SELECT WORK_CENTER TEXT_V,DESCRIPTION FROM WORK_CENTER WHERE SITE = :SITE_V ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_WECHAT_CORPID_CORPSECRET','LOGIC','获取微信的CORPID和CORPSECRET',NULL,'SELECT ''wx93ed77082a5b6aed'' CORPID,''ncGpdMyPe6F_jeZmBM4cVJCAdMAaeuFiPE-cXQGARCFu1s25On6ECusKg6ac6_0a'' CORPSECRET FROM DUMMY',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'yxj',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'OPERATION_DIALOG_02','DIALOG','操作/工序','OPERATION','SELECT OPERATION,OPERATION,REVISION,DESCRIPTION FROM OPERATION WHERE SITE = ''''%SITE%'''' ','操作,操作版本,描述','OPERATION,REVISION,DESCRIPTION','OPERATION,OPERATION,REVISION,DESCRIPTION','0,1',' ORDER BY CREATED_DATE_TIME DESC  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'WORK_CENTER_DIALOG_02','DIALOG','工作中心 /产线','WORK_CENTER','SELECT T.WORK_CENTER,T.DESCRIPTION FROM WORK_CENTER T 
WHERE  T.WC_CATEGORY = ''''LEVEL3'''' AND T.SITE = ''''%SITE%'''' ','工作中心,描述','WORK_CENTER,DESCRIPTION ','WORK_CENTER,WORK_CENTER,DESCRIPTION ','0,1','ORDER BY T.CREATED_DATE_TIME DESC  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'BOARD_CORE_LOGIC_03','LOGIC','两小时工序产出看板-》白天',NULL,' SELECT ''08:30-10:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''10:30-12:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''12:30-14:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''14:30-16:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''16:30-18:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''18:30-20:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''20:30-22:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''22:30-(+)00:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''(+)00:30-(+)02:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''(+)02:30-(+)04:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''(+)04:30-(+)06:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''(+)06:30-(+)08:30'' DATE_TIME FROM DUMMY ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'BOARD_CORE_LOGIC_04','LOGIC','两小时工序产出看板-》凌晨',NULL,'SELECT ''(-)08:30-(-)10:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''(-)10:30-(-)12:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''(-)12:30-(-)14:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''(-)14:30-(-)16:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''(-)16:30-(-)18:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''(-)18:30-(-)20:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''(-)20:30-(-)22:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''(-)22:30-00:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''00:30-02:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''02:30-04:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''04:30-06:30'' DATE_TIME FROM DUMMY 
UNION
 SELECT ''06:30-08:30'' DATE_TIME FROM DUMMY ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'BOARD_CORE_LOGIC_06','LOGIC','两小时工序产出看板-》工作中心 -》统计图逻辑',NULL,'SELECT 
		C1.WORK_CENTER,
		TO_CHAR(TO_DECIMAL(C1.QTY_STARTED,6,2)) QTY_STARTED,
		TO_CHAR(TO_DECIMAL(C1.QTY_COMPLETED,6,2)) QTY_COMPLETED,
		TO_CHAR(TO_DECIMAL(C1.QTY_NON_CONFORMED,6,2)) QTY_NON_CONFORMED,
		TO_CHAR(TO_DECIMAL(C1.ONE_PASS_RATE,6,2)) ONE_PASS_RATE 
FROM
(
		SELECT T1.WORK_CENTER,
			SUM(T1.QTY_STARTED) QTY_STARTED,
			SUM(T1.QTY_COMPLETED) QTY_COMPLETED,
			SUM(T1.QTY_NON_CONFORMED) QTY_NON_CONFORMED,
		CASE WHEN (SUM(T1.QTY_COMPLETED) + SUM(T1.QTY_NON_CONFORMED)) = 0 THEN 0 
		ELSE SUM(T1.QTY_COMPLETED)/(SUM(T1.QTY_COMPLETED) + SUM(T1.QTY_NON_CONFORMED))*100 END ONE_PASS_RATE
		FROM (
			SELECT * FROM
			(
				SELECT DISTINCT T2.WORK_CENTER,T2.SFC,T2.QTY_STARTED,T2.QTY_COMPLETED,T2.QTY_NON_CONFORMED,
				ROW_NUMBER() OVER(PARTITION BY T2.SFC,T2.WORK_CENTER ORDER BY PARTITION_DATE DESC) INDEX_NUM 
				FROM PRODUCTION_LOG T2 
				WHERE T2.SITE = :SITE_V 
				AND ADD_SECONDS(TO_TIMESTAMP(T2.PARTITION_DATE),8*60*60) >= TO_TIMESTAMP(:BEGIN_V, ''yyyy-mm-dd hh24:mi:ss'')
				AND ADD_SECONDS(TO_TIMESTAMP(T2.PARTITION_DATE),8*60*60) < TO_TIMESTAMP(:END_V, ''yyyy-mm-dd hh24:mi:ss'')
				AND T2.PARTITION_DATE IS NOT NULL 
				AND T2.WORK_CENTER = :T_VALUE
			) T0 
			WHERE T0.INDEX_NUM = 1 	
		) T1
	GROUP BY T1.WORK_CENTER 
) C1 ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'BOARD_CORE_LOGIC_05','LOGIC','两小时工序产出看板-》工序-》统计图逻辑',NULL,'SELECT 
		C1.OPERATION,
		TO_CHAR(TO_DECIMAL(C1.QTY_STARTED,6,2)) QTY_STARTED,
		TO_CHAR(TO_DECIMAL(C1.QTY_COMPLETED,6,2)) QTY_COMPLETED,
		TO_CHAR(TO_DECIMAL(C1.QTY_NON_CONFORMED,6,2)) QTY_NON_CONFORMED,
		TO_CHAR(TO_DECIMAL(C1.ONE_PASS_RATE,6,2)) ONE_PASS_RATE 
FROM
(
		SELECT T1.OPERATION,
			SUM(T1.QTY_STARTED) QTY_STARTED,
			SUM(T1.QTY_COMPLETED) QTY_COMPLETED,
			SUM(T1.QTY_NON_CONFORMED) QTY_NON_CONFORMED,
		CASE WHEN (SUM(T1.QTY_COMPLETED) + SUM(T1.QTY_NON_CONFORMED)) = 0 THEN 0 
		ELSE SUM(T1.QTY_COMPLETED)/(SUM(T1.QTY_COMPLETED) + SUM(T1.QTY_NON_CONFORMED))*100 END ONE_PASS_RATE
		FROM (
			SELECT * FROM
			(
				SELECT DISTINCT T2.OPERATION,T2.SFC,T2.QTY_STARTED,T2.QTY_COMPLETED,T2.QTY_NON_CONFORMED,
				ROW_NUMBER() OVER(PARTITION BY T2.SFC,T2.OPERATION ORDER BY PARTITION_DATE DESC) INDEX_NUM 
				FROM PRODUCTION_LOG T2 
				WHERE T2.SITE = :SITE_V 
				AND ADD_SECONDS(TO_TIMESTAMP(T2.PARTITION_DATE),8*60*60) >= TO_TIMESTAMP(:BEGIN_V, ''yyyy-mm-dd hh24:mi:ss'')
				AND ADD_SECONDS(TO_TIMESTAMP(T2.PARTITION_DATE),8*60*60) < TO_TIMESTAMP(:END_V, ''yyyy-mm-dd hh24:mi:ss'')
				AND T2.PARTITION_DATE IS NOT NULL 
				AND T2.OPERATION = :T_VALUE 
			) T0 
			WHERE T0.INDEX_NUM = 1 	
		) T1
	GROUP BY T1.OPERATION 
) C1 ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_10','LOGIC','Mobile-》原材料检验数据录入-》查询',NULL,'SELECT T.MEASURE_NAME,T.MEASURE_GROUP,T.ACTUAL MEASURE_STATUS,T.PARAMETRIC_BO,T.OVERRIDE_USER_BO FROM Z_RAW_INSPECT_PARAMETRIC T 
WHERE SITE = :SITE 
AND MEASURE_GROUP = :DC_GROUP 
AND PARAMETRIC_BO = :INSPECTION_BO  
ORDER BY T.SEQUENCE DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'DELETE_INV_COUNT_ITEM_BY_HANDLE','LOGIC','盘点-》删除盘点行项目',NULL,'DELETE FROM Z_INVCOUNT_ITEM T WHERE T.HANDLE = :HANDLE',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CHECK_MOBILE_GET_INVENTORY_INFO','LOGIC','盘点-》查询物料库存批次相关信息',NULL,'SELECT ITM.ITEM,ITM.REVISION,ITM.DESCRIPTION,INV.QTY_ON_HAND,INV.INVENTORY_ID,
	 INVAD.ERP_BATCH,INVAD.QUALITY_LEVEL
FROM INVENTORY INV 
LEFT JOIN ITEM ITM ON ITM.HANDLE = INV.ITEM_BO
LEFT JOIN (
	SELECT T.INVENTORY_BO,
		MAX(CASE WHEN T.DATA_FIELD = ''BATCH_NUMBER'' THEN T.DATA_ATTR ELSE NULL END) ERP_BATCH,
		MAX(CASE WHEN T.DATA_FIELD = ''LEVEL'' THEN T.DATA_ATTR ELSE NULL END) QUALITY_LEVEL
	FROM INVENTORY_ASSY_DATA T
	WHERE T.DATA_FIELD IN (''BATCH_NUMBER'',''LEVEL'')
	GROUP BY T.INVENTORY_BO
) INVAD ON INVAD.INVENTORY_BO = INV.HANDLE
WHERE INV.SITE = :SITE
AND INV.INVENTORY_ID = :INVENTORY_ID',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CHECK_MOBILE_INSERT_ITEM_INFO','LOGIC','盘点-》新增盘点行项目',NULL,'INSERT INTO Z_INVCOUNT_ITEM
(HANDLE, SITE, BILL_CODE,  ITEM, REVISION, DESCRIPTION, 
BATCH, ERP_BATCH, QUALITY_LEVEL, QTY_ON_HAND, QTY_COUNT, QTY_ADJUST, STATUS)
VALUES(:HANDLE, :SITE, :BILL_CODE,  :ITEM, :REVISION, :DESCRIPTION, 
:BATCH, :ERP_BATCH, :QUALITY_LEVEL, :QTY_ON_HAND, :QTY_COUNT, :QTY_ADJUST, :STATUS);',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CHECK_MOBILE_INSERT_HEAD_INFO','LOGIC','盘点-》新增盘点头项目',NULL,'INSERT INTO Z_INVCOUNT_HEAD
(HANDLE, SITE, BILL_CODE, BILL_DATE, COUNT_DATE, STORAGE, ERP_SEND, NOTE, 
CREATED_USER, CREATED_DATE_TIME, MODIFIED_USER, MODIFIED_DATE_TIME)
VALUES(:HANDLE, :SITE, :BILL_CODE, now(), :COUNT_DATE, :STORAGE, :ERP_SEND, :NOTE, 
:CREATED_USER, now(), :MODIFIED_USER, now());',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CHECK_MOBILE_GET_MAX_BILL_CODE','LOGIC','盘点-》根据条件查询查询当天最大编码的盘点单号',NULL,'SELECT top 1 T.BILL_CODE FROM Z_INVCOUNT_HEAD T 
WHERE T.SITE = :SITE AND T.BILL_CODE LIKE :BILL_CODE||''%''
ORDER BY T.BILL_CODE DESC',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CORE_REPORT_03_EXCEL','EXCEL','巡检报表-》下载',NULL,'SELECT DISTINCT T1.BATCH_NUMBER,TO_CHAR(T1.CREATE_DATE_TIME,''yyyy-mm-dd hh24:mi:ss'') INSPECT_DATE_TIME,T1.BATCH_QTY,T1.INSPECT_RESULT,T2.USER_ID INSPECT_USER,T3.DESCRIPTION WORK_DESC,T4.DESCRIPTION OPERATION_DESC,
T5.SFC,T6.SHOP_ORDER,T7.ITEM,T7.DESCRIPTION ITEM_DESC,T8.VALUE ITEM_SPEC,T9.SAMPLE_QTY,T10.MEASURE_NAME,T10.DESCRIPTION MEASURE_DESC,T10.ACTUAL,TO_CHAR(T10.TEST_DATE_TIME,''yyyy-mm-dd hh24:mi:ss'') TEST_DATE_TIME,T10.UNIT_OF_MEAS UNITS,T10.HIGH_LIMIT,T10.LOW_LIMIT 
FROM Z_INSPECT_BATCH_NUMBER T1 
INNER JOIN USR T2 ON T1.CREATE_USER_BO = T2.HANDLE 
LEFT JOIN WORK_CENTER T3 ON T1.WORK_CENTER_BO = T3.HANDLE 
INNER JOIN OPERATION T4 ON T1.OPERATION_BO = T4.HANDLE 
INNER JOIN Z_INSPECT_BATCH_MEMBER T9 ON T1.HANDLE = T9.BATCH_NUMBER_BO 
INNER JOIN ITEM T7 ON T9.ITEM_BO = T7.HANDLE 
INNER JOIN SFC T5 ON T9.SFC_BO = T5.HANDLE 
INNER JOIN SHOP_ORDER T6 ON T9.SHOP_ORDER_BO = T6.HANDLE 
LEFT JOIN CUSTOM_FIELDS T8 ON T9.ITEM_BO = T8.HANDLE AND T8."ATTRIBUTE" = ''ITEM_SPEC'' 
LEFT JOIN PARAMETRIC_MEASURE T10 ON T9.SFC_BO = T10.PARA_CONTEXT_GBO 
WHERE T2.SITE = :SITE 
AND (:MATERIAL is null or T7.ITEM LIKE :MATERIAL||''%'') 
AND (:OPERATION is null or T4.OPERATION LIKE :OPERATION||''%'' ) 
AND (:BEGIN_TIME is null OR TO_DATE(TO_CHAR(T1.CREATE_DATE_TIME,''yyyy-mm-dd'')) >= TO_DATE(:BEGIN_TIME,''yyyy-mm-dd'')) 
AND (:END_TIME is null OR TO_DATE(TO_CHAR(T1.CREATE_DATE_TIME,''yyyy-mm-dd'')) <= TO_DATE(:END_TIME,''yyyy-mm-dd''))',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'/com/sapdev/template/INSPECTION_REPORT.xlsx','Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_NEEDWARNING_EQUINFO','LOGIC','获取需要获得预警的设备信息',NULL,'SELECT RE.RESRCE, RE.SITE, DG.DC_GROUP, DG.HANDLE GROUPHANDLE, RE.DESCRIPTION RESRCEDESCRIPTION ,DUP.OPTION_VALUE PARAMETER_NAME, DR.MIN_VALUE ,DR.MAX_VALUE, DR.DESCRIPTION FIELDDESCRIPTION
FROM RESRCE RE 
INNER JOIN ATTACHED ATT ON ATT.ATTACHED_TO_GBO = RE.HANDLE
INNER JOIN ATTACHMENT AC ON AC.HANDLE = ATT.ATTACHMENT_BO
INNER JOIN DC_GROUP DG ON DG.HANDLE = AC.ATTACHED_FROM_GBO
INNER JOIN DC_PARAMETER DR ON DR.DC_GROUP_BO = DG.HANDLE
INNER JOIN DC_USER_OPTIONS DUO ON (DUO.DC_PARAMETER_BO = DR.HANDLE AND DUO.OPTION_NAME = ''PARAMETER'' AND DUO.OPTION_VALUE = ''1'')
INNER JOIN DC_USER_OPTIONS DUP ON (DUP.DC_PARAMETER_BO = DR.HANDLE AND DUP.OPTION_NAME = ''TARGET'')
WHERE RE.SITE = DG.SITE',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_LASTEQUIPMENT_USEINFO','LOGIC','获取最近一次设备的使用信息',NULL,'SELECT *
FROM Z_DEVICE_DATA
WHERE (RESOURCE, DC_GROUP, TO_TIMESTAMP(REPLACE(CREATED_DATE,''T'','' ''))) IN
(SELECT RESOURCE, DC_GROUP, MAX(TO_TIMESTAMP(REPLACE(CREATED_DATE,''T'','' ''))) CREATED_DATE  FROM Z_DEVICE_DATA
WHERE RESOURCE IS NOT NULL AND RESOURCE != '''' AND DC_GROUP IS NOT NULL AND DC_GROUP != ''''
GROUP BY RESOURCE, DC_GROUP)',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'PRINTING_CORE_01','LOGIC','打印=》读取文档详情',NULL,'SELECT T.SITE,T.DOCUMENT,T.TEMPLATE FROM DOCUMENT T WHERE T.HANDLE = :DOCUMENT_BO ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'PRINTING_CORE_02','LOGIC','打印=》文档模板配置读取',NULL,'SELECT * FROM Z_ATTRIBUTE_CODE T WHERE T.FIELD_TYPE = ''PRINT'' ORDER BY T.HANDLE DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'PRINT_CODE_LOGIC_1','LOGIC','打印-》生产标识卡打印-》数据',NULL,'SELECT T3.VALUE PRINT_A,
T1.SFC PRINT_B,
T2.SHOP_ORDER PRINT_C,
T5.VALUE PRINT_D,
T4.DESCRIPTION PRINT_E,
ROUND(T1.QTY_COMPLETED,2) PRINT_F,
T1.USER_ID PRINT_H,
CURRENT_TIMESTAMP PRINT_I 
FROM  PRODUCTION_LOG T1 
INNER JOIN SHOP_ORDER T2 ON T1.SHOP_ORDER_BO = T2.HANDLE 
INNER JOIN OPERATION T4 ON T1.OPERATION = T4.OPERATION AND T1.OPERATION_REVISION = T4.REVISION
LEFT JOIN CUSTOM_FIELDS T3 ON T2.ITEM_BO = T3.HANDLE AND T3.ATTRIBUTE = ''ITEM_SPEC'' 
LEFT JOIN CUSTOM_FIELDS T5 ON T2.HANDLE = T5.HANDLE AND T5.ATTRIBUTE = ''PARENT_SHOP_ORDER'' 
WHERE T1.SFC = :TEXT_V 
AND T1.SITE = :SITE_V
AND T1.QTY_COMPLETED > 0 
AND T1.DATE_TIME = (SELECT MAX(P.DATE_TIME) FROM PRODUCTION_LOG P WHERE P.SFC = :TEXT_V AND P.QTY_COMPLETED > 0)',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_DEFAULT_WEIXIN_PERSON_LIABLE','LOGIC','获取默认微信责任人',NULL,'SELECT ''8656|6920'' PERSON_LIABLE FROM DUMMY',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'SELECT_REPORT_WORK_LOG_BY_CONDITION','LOGIC','工序或原材料报工-》查询（多条件）报工报工状态记录',NULL,'SELECT * FROM Z_REPORT_WORK_LOG T 
WHERE T.SITE = :SITE
AND T.REPORT_WORK_TYPE = :REPORT_WORK_TYPE
AND T.PRODUCTION_SHIFT_BO = :PRODUCTION_SHIFT_BO
AND T.START_DATE_TIME = :START_DATE_TIME
AND T.END_DATE_TIME = :END_DATE_TIME',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_11','LOGIC','Mobile-》原材料检验数据录入-》删除(主表)',NULL,'DELETE FROM Z_RAW_INSPECT WHERE SITE = :SITE AND HANDLE = :PARAMETRIC_BO   ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_12','LOGIC','Mobile-》原材料检验数据录入-》查询明细表根据单号',NULL,'SELECT T.HANDLE FROM Z_RAW_INSPECT_PARAMETRIC T WHERE T.SITE = :SITE_V AND T.PARAMETRIC_BO = :PARAMETRIC_BO  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_SERVICE_LOG_LIST','LOGIC','接口日志监控-》报表',NULL,'SELECT * FROM (   
     SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.END_DATE DESC) RN FROM (  
       SELECT T1.HANDLE,cast(T1.SEQ as int) SEQ,T1.SITE,T1.SERVICE_TYPE,T1.SERVICE_CODE,T1.SERVICE_IP,T1.SERVICE_URL,
	T1.SERVICE_STATUS,T1.EXECUTE_TIME,T1.START_DATA,T1.END_DATE,T1.EXCEPTION_MSG ,
	MAP(:NWA_LANG,''en'',T2.DICT_EN_VALUE,T2.DICT_ZH_VALUE) DICT_ZH_VALUE,'' '' ON_CLICK 
	FROM Z_SERVICE_LOG T1  
	LEFT JOIN Z_EXT_DICT T2 ON T1.SERVICE_CODE = T2.DICT_NAME   
	WHERE T2.DICT_GROUP in (''ServiceGroup'',''JobGroup'')  
    AND (:SERVICE_CODE_V = '''' or T1.SERVICE_CODE = :SERVICE_CODE_V) 
	AND (:SERVICE_TYPE_V = '''' or T1.SERVICE_TYPE = :SERVICE_TYPE_V) 
	AND (:STATUS_V = '''' or T1.SERVICE_STATUS = :STATUS_V) 
   ) A   
)  
WHERE RN BETWEEN :STARTCOUNT AND :ENDCOUNT ',NULL,NULL,NULL,NULL,NULL,NULL,'[[  
      {field:''SEQ'',title:''序号'',width:80,align:''left'',sortable:true},  
	  {field:''SITE'',title:''站点'',width:50,align:''center'',sortable:true},
      {field:''SERVICE_STATUS'',title:''状态'',width:50,align:''left'',sortable:true,
		formatter: function(value,row,index){
			if (row.SERVICE_STATUS == ''Y''){
				return ''<font style=\''color:green\''>完成<font>'';
			} else {
				return ''<font style=\''color:red\''>异常<font>'';
			}
		}
	},
      {field:''SERVICE_TYPE'',title:''接口类型'',width:100,align:''left'',sortable:true},
      {field:''SERVICE_CODE'',title:''接口服务'',width:200,align:''left'',sortable:true},  
      {field:''DICT_ZH_VALUE'',title:''接口名称'',width:200,align:''left''},  
      {field:''EXECUTE_TIME'',title:''耗时(ms)'',width:100,align:''left'',sortable:true}, 
      {field:''START_DATA'',title:''开始时间'',width:130,align:''left'',sortable:true},
      {field:''END_DATE'',title:''结束时间'',width:130,align:''left'',sortable:true},
      {field:''ON_CLICK'',title:''操作'',width:50,align:''center'',
		formatter: function(value,row,index){
				if (row.SERVICE_STATUS == ''Y''){
					return ''<img src=\''''+contextPath+''/com/sapdev/common/images/msg_success.png\''  ondblclick =\"$_impl_w(\''''+row.HANDLE+''\'')\"  width=\''16\'' >'';
				} else {
					return ''<img src=\''''+contextPath+''/com/sapdev/common/images/msg_error.png\''  ondblclick =\"$_impl_w(\''''+row.HANDLE+''\'')\"  width=\''16\''>'';
				}
		}
       },
      {field:''EXCEPTION_MSG'',title:''结果返回'',width:500,align:''left'',
		formatter: function(value,row,index){
		    return ''<div title=\''''+row.EXCEPTION_MSG+''\''>''+row.EXCEPTION_MSG+''<div>'';
		}
      },
	 {field:''SERVICE_IP'',title:''客户端'',width:150,align:''left''},
     {field:''SERVICE_URL'',title:''请求链接'',width:300,align:''left'',
		formatter: function(value,row,index){
		    return ''<div title=\''''+row.SERVICE_URL+''\''>''+row.SERVICE_URL+''<div>'';
		}
	}  
  ]]  ','[[  
      {field:''SEQ'',title:''NO'',width:50,align:''left''},  
	  {field:''SITE'',title:''Site'',width:30,align:''center''},
      {field:''SERVICE_STATUS'',title:''Status'',width:30,align:''left'',
		formatter: function(value,row,index){
			if (row.SERVICE_STATUS == ''Y''){
				return ''<font style=\''color:green\''>Success<font>'';
			} else {
				return ''<font style=\''color:red\''>Fail<font>'';
			}
		}
	},
      {field:''SERVICE_TYPE'',title:''Service Type'',width:40,align:''left''},
      {field:''SERVICE_CODE'',title:''Service Code'',width:150,align:''left''},  
      {field:''DICT_ZH_VALUE'',title:''Service Name'',width:150,align:''left''},  
      {field:''EXECUTE_TIME'',title:''Times'',width:60,align:''left''}, 
      {field:''START_DATA'',title:''Start time'',width:80,align:''left''},
      {field:''END_DATE'',title:''End time'',width:80,align:''left''},
      {field:''ON_CLICK'',title:''Operation'',width:20,align:''center'',
		formatter: function(value,row,index){
				if (row.SERVICE_STATUS == ''Y''){
					return ''<img src=\''''+contextPath+''/com/sapdev/common/images/msg_success.png\''  ondblclick =\"$_impl_w(\''''+row.HANDLE+''\'')\"  width=\''16\'' >'';
				} else {
					return ''<img src=\''''+contextPath+''/com/sapdev/common/images/msg_error.png\''  ondblclick =\"$_impl_w(\''''+row.HANDLE+''\'')\"  width=\''16\''>'';
				}
		}
       },
      {field:''EXCEPTION_MSG'',title:''Message'',width:200,align:''left'',
		formatter: function(value,row,index){
		    return ''<div title=\''''+row.EXCEPTION_MSG+''\''>''+row.EXCEPTION_MSG+''<div>'';
		}
      },
     {field:''SERVICE_IP'',title:''Client'',width:80,align:''left''},
     {field:''SERVICE_URL'',title:''Request Url'',width:200,align:''left'',
		formatter: function(value,row,index){
		    return ''<div title=\''''+row.SERVICE_URL+''\''>''+row.SERVICE_URL+''<div>'';
		}
	}      
  ]]  ','[NULL]','[NULL]','[NULL]','/com/sapdev/pod/report_form.jsp',NULL,'Cheney','15');
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_ASSEMBLY_VOLTAGE_CHECK','LOGIC','压差范围检查-》装配集合和电压值',NULL,'WITH A1 AS(
	/*获取单个SFC的电压值*/
	SELECT T1.HANDLE,T4.ACTUAL,T3.PARA_CONTEXT_GBO MODULE_SFC_BO 
	FROM SFC_ASSY T1 
	INNER JOIN INVENTORY T2 ON (T2.SITE = :SITE AND T1.INVENTORY_BO = T2.HANDLE)
	INNER JOIN PARAMETRIC T3 ON (T3.SITE = :SITE AND T3.PARA_CONTEXT_GBO = T2.INVENTORY_CONTEXT_GBO)
	INNER JOIN PARAMETRIC_MEASURE T4 ON T3.HANDLE = T4.PARAMETRIC_BO 
	WHERE T1.SITE = :SITE AND T4.MEASURE_NAME = ''VOLTAGE'' AND T1.REMOVED = ''false''
),
A2 AS (
	/*获取SFC装配的小模块SFC集合*/
	SELECT T2.HANDLE,T2.COMPONENT_BO
	FROM SFC_BOM T1 
	INNER JOIN SFC_ASSY T2 ON T2.SFC_BOM_BO = T1.HANDLE
	INNER JOIN ITEM T3 ON (T3.SITE=:SITE AND T2.COMPONENT_BO = T3.HANDLE )
	WHERE SFC_BO = :SFC_BO AND T3.HANDLE = :COMPONENT_REF 
)
SELECT A1.ACTUAL,A1.MODULE_SFC_BO,A2.COMPONENT_BO
FROM A1 
INNER JOIN A2 ON A1.HANDLE = A2.HANDLE 
ORDER BY A1.ACTUAL ASC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_SFC_VOLTAGE','LOGIC','压差范围检查-》小模块SFC电压值',NULL,'SELECT T2.ACTUAL,T1.PARA_CONTEXT_GBO MODULE_SFC_BO FROM PARAMETRIC T1
			 INNER JOIN PARAMETRIC_MEASURE T2 ON T1.HANDLE = T2.PARAMETRIC_BO
			 WHERE T1.SITE=:SITE AND T1.PARA_CONTEXT_GBO = :SFC_BO ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_SERVICE_MSG_BY_HANDLE','LOGIC','接口日志监控-》根据HANDLE获取内容',NULL,'SELECT T.EXCEPTION_MSG FROM Z_SERVICE_LOG T WHERE T.HANDLE = :HANDLE',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_FIRST_REMINDER_01','LOGIC','首件提醒-》HOOK-》检查Activity_log最后的Complete记录',NULL,'SELECT TOP 1 T1.SFC,T1.USER_ID,T1.DATE_TIME,T1.ITEM   
  FROM production_log T1
 INNER JOIN OPERATION T2 ON (T2.SITE = :SITE AND T1.OPERATION = T2.OPERATION)
 INNER JOIN RESRCE T3 ON (T3.SITE = :SITE AND T1.RESRCE = T3.RESRCE)
 WHERE T1.SITE = :SITE 
   AND T2.HANDLE = :OPERATION_BO
   AND T3.HANDLE = :RESRCE_BO
 ORDER BY T1.DATE_TIME DESC  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_FIRST_REMINDER_02','LOGIC','首件提醒-》HOOK-》设备状态切换，请进行首件检验',NULL,'/*设备停机后开机,通过Activity_log找到该资源上最近一笔complete记录的时间(time1）和Resource_time_log表中最近的一笔activity_bo=CHG_EQUIP_STATUS的Create_date_time（time2）,如果time2>time1,则提示,设备状态切换，请进行首件检验*/
SELECT TOP 1 T.CREATED_DATE_TIME FROM RESOURCE_TIME_LOG T 
WHERE T.SITE = :STIE 
AND T.ACTIVITY_BO =''CHG_EQUIP_STATUS'' 
AND T.RESOURCE_BO = :RESRCE_BO 
ORDER BY T.CREATED_DATE_TIME DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_FIRST_REMINDER_03','LOGIC','首件提醒-》HOOK-》物料原材料批次更换，请进行首件检验',NULL,'WITH A1 AS
(
	 /*通过COMP_TIME_LOG表查询该资源上最近一笔记录（END_DATE_TIME值最大）的INVENTORY_ID（INV1）*/
	 SELECT TOP 1 T1.INVENTORY_BO,T2.DATA_ATTR,T1.RESOURCE_BO 
	 FROM COMP_TIME_LOG T1
	 INNER JOIN INVENTORY_ASSY_DATA T2 ON (T1.INVENTORY_BO = T2.INVENTORY_BO AND T2.DATA_FIELD = ''VENDOR_LOT'')
	 WHERE T1.RESOURCE_BO = :RESRCE_BO
	 AND T1.END_DATE_TIME IS NOT NULL 
	 AND T1.END_DATE_TIME <> '''' 
	 ORDER BY T1.END_DATE_TIME DESC 
),
A2 AS
(
	 /*通过COMP_TIME_LOG表查询该资源上最近一笔记录（END_DATE_TIME为空）的INVENTORY_ID（INV2）*/
	 SELECT TOP 1 T1.INVENTORY_BO,T2.DATA_ATTR,T1.RESOURCE_BO    
	 FROM COMP_TIME_LOG T1
	 INNER JOIN INVENTORY_ASSY_DATA T2 ON (T1.INVENTORY_BO = T2.INVENTORY_BO AND T2.DATA_FIELD = ''VENDOR_LOT'')
	 WHERE T1.RESOURCE_BO = :RESRCE_BO
	 AND (T1.END_DATE_TIME IS NULL OR T1.END_DATE_TIME = '' '')
)
SELECT A1.DATA_ATTR DATA_ATTR_1,A2.DATA_ATTR DATA_ATTR_2 
FROM A1 
LEFT JOIN A2 ON (A1.RESOURCE_BO = A2.RESOURCE_BO)  
/*对比INV1和INV2的属性字段VENDOR_LOT,如果两个Vendor_lot值不一致,则提示：物料原材料批次更换，请进行首件检验*/',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'REPORT_SFC_TEST_1','LOGIC','SFC报表定制测试',NULL,'SELECT * FROM (  
     SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.CREATED_DATE_TIME DESC) RN FROM (
        SELECT t.handle,t.site,t.sfc,t.status_bo,T.CREATED_DATE_TIME FROM sfc t       
   ) A   
)  
WHERE RN BETWEEN :STARTCOUNT AND :ENDCOUNT ',NULL,NULL,NULL,NULL,NULL,NULL,'[[  
      {field:''SFC'',title:''SFC测试'',width:150,align:''left''},  
      {field:''HANDLE'',title:''SFC标识'',width:150,align:''left''},
      {field:''SITE'',title:''站点'',width:150,align:''left''},  
      {field:''STATUS_BO'',title:''状态测试'',width:100,align:''left''},
      {field:''CREATED_DATE_TIME'',title:''创建时间'',width:150,align:''left''} 
  ]]  
 ','[[  
      {field:''SFC'',title:''SFC'',width:150,align:''left''},  
      {field:''HANDLE'',title:''HANDLE'',width:150,align:''left''},
      {field:''SITE'',title:''Site'',width:150,align:''left''},  
      {field:''STATUS_BO'',title:''Status'',width:100,align:''left''},
      {field:''CREATED_DATE_TIME'',title:''Create Date'',width:150,align:''left''} 
  ]]  
 ','[NULL]','[NULL]','[NULL]','/com/sapdev/pod/report_form.jsp',NULL,'Cheney','10');
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'WORK_CENTER_DIALOG','DIALOG','工作中心 /产线','WORK_CENTER','SELECT TOP 200 T.HANDLE,T.WORK_CENTER,T.DESCRIPTION FROM WORK_CENTER T WHERE T.SITE = ''''%SITE%'''' AND T.WORK_CENTER  LIKE ''''{0}%''''  AND T.WC_CATEGORY IN (''''LEVEL2'''',''''LEVEL4'''')','工作中心,描述','WORK_CENTER,DESCRIPTION ','HANDLE,WORK_CENTER,DESCRIPTION ','0,1','ORDER BY T.CREATED_DATE_TIME DESC  ',NULL,'[NULL]',NULL,'[NULL]','[NULL]','[NULL]',NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'Z_REPAIR_LOG_SHIFT','DIALOG','班次','SHIFT','SELECT DISTINCT T.PRODUCTION_SHIFT HANDLE,T.PRODUCTION_SHIFT,T.DESCRIPTION FROM PRODUCTION_SHIFT T
WHERE T.PRODUCTION_SHIFT LIKE ''''{0}%''''  ','班次,描述','SHIFT,DESCRIPTION','HANDLE,PRODUCTION_SHIFT,DESCRIPTION','0,1',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'Z_REPAIR_LOG_RESOURCE_TYPE','DIALOG','资源类型','RESOURCE_TYPE','SELECT TOP 200 T.HANDLE,T.RESOURCE_TYPE,T.DESCRIPTION FROM RESOURCE_TYPE T WHERE T.SITE = ''''%SITE%'''' AND T.RESOURCE_TYPE LIKE ''''{0}%'''' ','资源类型,描述','RESOURCE_TYPE,DESCRIPTION','HANDLE,RESOURCE_TYPE,DESCRIPTION','0,1',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'RESRCE_DIALOG','DIALOG','资源','RESOURCE','SELECT TOP 200 T1.HANDLE,T1.RESRCE,T1.DESCRIPTION,T2.STATUS_DESCRIPTION 
FROM RESRCE T1 
INNER JOIN STATUS T2 ON (T2.SITE= ''''%SITE%'''' AND T2.STATUS_GROUP=''''RESOURCE'''' AND T1.STATUS_BO = T2.HANDLE) 
WHERE T1.SITE = ''''%SITE%'''' AND T1.RESRCE LIKE ''''{0}%''''  ','资源,描述,状态 ','RESRCE,DESCRIPTION,STATUS','HANDLE,RESRCE,DESCRIPTION,STATUS_DESCRIPTION','0,1',' ORDER BY T1.CREATED_DATE_TIME DESC ',NULL,'[NULL]',NULL,'[NULL]','[NULL]','[NULL]',NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'USER_DIALOG_01','DIALOG','员工','USER','SELECT TOP 200 T1.HANDLE, T1.USER_ID,T4.FIELD_VALUE USER_NAME 
  FROM USR T1
INNER JOIN USER_GROUP_MEMBER T2 ON T1.HANDLE = T2.USER_OR_GROUP_GBO 
INNER JOIN USER_GROUP T3 ON T3.HANDLE = T2.USER_GROUP_BO 
LEFT JOIN Z_USER_CODE T4 ON T1.USER_ID = T4.FIELD_KEY 
 WHERE T1.SITE = ''''%SITE%''''  AND T1.USER_ID LIKE ''''{0}%'''' ','用户,姓名','USER,USER_NAME','HANDLE,USER_ID,USER_NAME','0,1',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'INSERT_Z_EQPREPAIR_LOG','LOGIC','维修记录维护-》新增',NULL,'INSERT INTO Z_EQPREPAIR_LOG
  (HANDLE,
   SN,
   SITE,
   RESOURCE_NO,
   RESOURCE_TYPE,
   WORK_CENTER,
   SHIFT,
   APPLY_DTIME,
   REPAIR_START_DTIME,
   REPAIR_END_DTIME,
   DESCRIPTION,
   ANALYEZ,
   LONG_MEASURE,
   TEMP_MEASURE,
   APPLY_USER_ID,
   REPAIR_USER_ID,
   QC_USER_ID,
   GY_USER_ID,
   MODIFIED_USER_ID,
   MODIFIED_DATE_TIME)
VALUES
  (:HANDLE,
   :SN,
   :SITE,
   :RESRCE_V,
   :RESRCE_TYPE_V,
   :WORK_CENTER_V,
   :SHIFT_V,
   :REPAIR_TIME_V,
   :REPAIR_START_DTIME,
   :REPAIR_END_DTIME,
   :GZ_DESC_V,
   :GZ_ANALYSIS_V,
   :LONG_HANDLER_V,
   :TEMP_HANDLER_V,
   :BX_USER_V,
   :WX_USER_V,
   :PZ_USER_V,
   :GY_USER_V,
   :CURR_USER,
   :CURR_DATE) ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_EQPREPAIR_LOG_SEQ','LOGIC','维修记录维护-》序列',NULL,'SELECT Z_EQPREPAIR_LOG_SEQ.NEXTVAL SEQ_V FROM DUMMY ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_EQPREPAIR_LOG_LIST','LOGIC','维修记录维护-》报表',NULL,'SELECT * FROM (  
     SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.MODIFIED_DATE_TIME DESC) RN FROM (
         SELECT T.*  FROM Z_EQPREPAIR_LOG T 
         Where t.SITE = :SITE_V
         AND (:WORK_CENTER_V is null or T.WORK_CENTER LIKE :WORK_CENTER_V||''%'')
         AND (:SHIFT_V is null or T.SHIFT LIKE :SHIFT_V||''%'')
         AND (:RESRCE_TYPE_V is null or T.RESOURCE_TYPE LIKE :RESRCE_TYPE_V||''%'')
         AND (:RESRCE_V is null or T.RESOURCE_NO LIKE :RESRCE_V||''%'')           	
         AND (:REPAIR_TIME_V = '''' OR (TO_DATE(t.APPLY_DTIME), ''YYYY/MM/DD'') = (TO_DATE(:REPAIR_TIME_V), ''YYYY/MM/DD'')) 
   ) A   
)  
WHERE RN BETWEEN :STARTCOUNT AND :ENDCOUNT ',NULL,NULL,NULL,NULL,NULL,NULL,'[[  
      {field:''HANDLE'',title:''选择'',width:20,align:''left'',
		formatter: function(value,row,index){
				return ''<input type=\''checkbox\'' name=\''sn_check\'' value=\''''+row.SN+''\'' />'';
		}
	  },  
      {field:''SN'',title:''维修编号'',width:80,align:''left''},  
      {field:''WORK_CENTER'',title:''车间'',width:80,align:''left''},
      {field:''RESOURCE_NO'',title:''设备号'',width:80,align:''left''},
      {field:''RESOURCE_TYPE'',title:''设备类型'',width:80,align:''left''},
      {field:''SHIFT'',title:''班别'',width:40,align:''left''},  
      {field:''APPLY_USER_ID'',title:''报修人'',width:60,align:''left''},
      {field:''REPAIR_USER_ID'',title:''维修人'',width:60,align:''left''}, 
	{field:''QC_USER_ID'',title:''品质确认人'',width:60,align:''left''}, 
	{field:''GY_USER_ID'',title:''工艺确认人'',width:60,align:''left''}, 
      {field:''APPLY_DTIME'',title:''报修时间'',width:100,align:''left''},
      {field:''DESCRIPTION'',title:''故障描述'',width:150,align:''left''},
      {field:''ANALYEZ'',title:''故障分析'',width:150,align:''left''} 
  ]] 
','[[  
	{field:''HANDLE'',title:''CHOOSE'',width:20,align:''left'',
		formatter: function(value,row,index){
				return ''<input type=\''checkbox\'' name=\''sn_check\'' value=\''''+row.SN+''\'' />'';
		}
	  },  
      {field:''SN'',title:''SN'',width:80,align:''left''},  
      {field:''WORK_CENTER'',title:''Work Center'',width:80,align:''left''},
      {field:''RESOURCE_NO'',title:''Resource'',width:80,align:''left''},
      {field:''RESOURCE_TYPE'',title:''Resource Type'',width:80,align:''left''},
      {field:''SHIFT'',title:''Shift'',width:40,align:''left''},  
      {field:''APPLY_USER_ID'',title:''Apply User'',width:80,align:''left''},
      {field:''REPAIR_USER_ID'',title:''Repair User'',width:80,align:''left''}, 
      {field:''APPLY_DTIME'',title:''Apply Time'',width:80,align:''left''},
      {field:''DESCRIPTION'',title:''Fault Desciption'',width:150,align:''left''} 
  ]]  ',NULL,NULL,NULL,'/com/sapdev/pod/report_form.jsp',NULL,'Cheney','10');
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_EQPREPAIR_LOG_LIST_TOTAL','LOGIC','维修记录维护-》报表统计',NULL,'SELECT COUNT(1) TOTAL_RECORDS FROM (  
   SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.MODIFIED_DATE_TIME DESC) RN FROM (
         SELECT T.*  FROM Z_EQPREPAIR_LOG T 
         Where t.SITE = :SITE_V
         AND (:WORK_CENTER_V is null or T.WORK_CENTER LIKE :WORK_CENTER_V||''%'')
         AND (:SHIFT_V is null or T.SHIFT LIKE :SHIFT_V||''%'')
         AND (:RESRCE_TYPE_V is null or T.RESOURCE_TYPE LIKE :RESRCE_TYPE_V||''%'')
         AND (:RESRCE_V is null or T.RESOURCE_NO LIKE :RESRCE_V||''%'')           	
         AND (:REPAIR_TIME_V = '''' OR (TO_DATE(t.APPLY_DTIME), ''YYYY/MM/DD'') = (TO_DATE(:REPAIR_TIME_V), ''YYYY/MM/DD'')) 
   ) A   
)  
WHERE 1=1 ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_PAGE_CODE ','LOGIC','PAGE CODE配置',NULL,'SELECT * FROM Z_PAGE_CODE ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'ITEM_DIALOG','DIALOG','物料','ITEM','SELECT TOP 200 T1.HANDLE, T1.ITEM, T1.DESCRIPTION,T1.UNIT_OF_MEASURE,T2.VALUE ITEM_MODEL,T3.VALUE ITEM_SPEC,
 T1.ITEM||''''@''''||T1.DESCRIPTION||''''@''''||T1.UNIT_OF_MEASURE||''''@''''||T3.VALUE||''''&''''||T2.VALUE ITEM_DESC 
 FROM ITEM T1 
 LEFT JOIN CUSTOM_FIELDS T2 ON (T1.HANDLE = T2.HANDLE AND T2.ATTRIBUTE = ''''ITEM_MODEL'''')/*型号*/ 
 LEFT JOIN CUSTOM_FIELDS T3 ON (T1.HANDLE = T3.HANDLE AND T3.ATTRIBUTE = ''''ITEM_SPEC'''')/*规格*/ 
 WHERE T1.SITE = ''''%SITE%''''  
 AND T1.ITEM LIKE ''''{0}%''''   ','物料,物料描述,单位,型号,规格','ITEM_DESC,ITEM,DESCRIPTION,UNIT_OF_MEASURE,ITEM_MODEL,ITEM_SPEC','HANDLE,ITEM,DESCRIPTION,UNIT_OF_MEASURE,ITEM_MODEL,ITEM_SPEC','0,1',' ORDER BY T1.CREATED_DATE_TIME DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_EQPREPAIR_ITEM_DETAILED','LOGIC','维修记录维护-》根据物料获取物料详细信息',NULL,'SELECT T1.HANDLE, T1.ITEM, T1.DESCRIPTION,T1.UNIT_OF_MEASURE,T2.VALUE ITEM_MODEL,T3.VALUE ITEM_SPEC 
 FROM ITEM T1 
 LEFT JOIN CUSTOM_FIELDS T2 ON (T1.HANDLE = T2.HANDLE AND T2.ATTRIBUTE = ''ITEM_MODEL'')/*型号*/ 
 LEFT JOIN CUSTOM_FIELDS T3 ON (T1.HANDLE = T3.HANDLE AND T3.ATTRIBUTE = ''ITEM_SPEC'')/*规格*/  
 WHERE T1.SITE = :SITE_V  
 AND T1.ITEM LIKE :ITEM_V||''%''   
 order by t1.created_date_time desc ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'INSERT_Z_EQPCHANGE_ACCESSORIES','LOGIC','维修记录维护-》零配件-》新增',NULL,'INSERT INTO Z_EQPCHANGE_ACCESSORIES
  (HANDLE,
   SITE,
   SN,
   SEQ,
   ITEM,
   ITEM_DESCRIPTION,
   ITEM_MODEL,
   QTY,
   UNIT,
   CREATE_DATE,
   CREATE_USER) 
VALUES
  (:HANDLE,
   :SITE_V,
   :SN_V,
   :SEQ_V,
   :ITEM_V,
   :ITEM_DESC_V,
   :MODEL_V,
   :QTY_V,
   :UNIT_V,
   :CURR_DATE,
   :CURR_USER)  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_EQPCHANGE_ACCESSORIES','LOGIC','维修记录维护-》零配件-》报表',NULL,'SELECT * FROM (  
     SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.CREATE_DATE DESC) RN FROM (
         SELECT T.*  FROM Z_EQPCHANGE_ACCESSORIES T 
         Where T.SITE = :SITE_V 
		 AND T.SN = :SN_V
         AND (:ITEM_V IS NULL OR T.ITEM LIKE :ITEM_V||''%'')
   ) A   
)  
WHERE RN BETWEEN :STARTCOUNT AND :ENDCOUNT ',NULL,NULL,NULL,NULL,NULL,NULL,'[[  
      {field:''HANDLE'',title:''选择'',width:30,align:''left'',
		formatter: function(value,row,index){
				return ''<input type=\''checkbox\'' name=\''parts_check\'' value=\''''+row.HANDLE+''\'' />'';
		}
	  },  
      {field:''SN'',title:''维修编号'',width:100,align:''left''},  
      {field:''ITEM'',title:''物料'',width:100,align:''left''},
      {field:''ITEM_DESCRIPTION'',title:''物料描述'',width:120,align:''left''},
      {field:''ITEM_MODEL'',title:''规格型号'',width:100,align:''left''},
      {field:''QTY'',title:''数量'',width:80,align:''left''},  
      {field:''UNIT'',title:''单位'',width:60,align:''left''} 
      
  ]] 
','[[  
      {field:''HANDLE'',title:''CHOOSE'',width:30,align:''left'',
		formatter: function(value,row,index){
				return ''<input type=\''checkbox\'' name=\''parts_check\'' value=\''''+row.HANDLE+''\'' />'';
		}
	  },  
      {field:''SEQ'',title:''No'',width:30,align:''left''},
      {field:''SN'',title:''Device No'',width:100,align:''left''},  
      {field:''ITEM'',title:''Item'',width:100,align:''left''},
      {field:''ITEM_DESCRIPTION'',title:''Item Description'',width:120,align:''left''},
      {field:''ITEM_MODEL'',title:''Model'',width:100,align:''left''},
      {field:''QTY'',title:''Qty'',width:50,align:''left''},  
      {field:''UNIT'',title:''Unit'',width:50,align:''left''} 
      
  ]] 
',NULL,NULL,NULL,'/com/sapdev/pod/report_form.jsp',NULL,'Cheney','10');
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_EQPCHANGE_ACCESSORIES_TOTAL','LOGIC','维修记录维护-》零配件-》报表统计',NULL,'SELECT COUNT(1) TOTAL_RECORDS FROM (  
   SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.CREATE_DATE DESC) RN FROM (
         SELECT T.* FROM Z_EQPCHANGE_ACCESSORIES T 
         Where T.SITE = :SITE_V 
         AND T.SN = :SN_V 
         AND (:ITEM_V IS NULL OR T.ITEM LIKE :ITEM_V||''%'') 
   ) A   
)  
WHERE 1=1 ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'OPERATION_DIALOG','DIALOG','操作/工序','OPERATION','SELECT TOP 200 HANDLE,OPERATION,REVISION,DESCRIPTION,STATUS_BO,TYPE,CURRENT_REVISION FROM OPERATION WHERE SITE = ''''%SITE%'''' AND OPERATION LIKE ''''{0}%'''' ','操作,操作版本,描述,状态,类型,当前版本','OPERATION,REVISION,DESCRIPTION,STATUS,TYPE,CURRENT_REVISION ','HANDLE,OPERATION,REVISION,DESCRIPTION,STATUS_BO,TYPE,CURRENT_REVISION ','0,1',' ORDER BY CREATED_DATE_TIME DESC  ',NULL,'[NULL]',NULL,'[NULL]','[NULL]','[NULL]',NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'SHOPORDER_DIALOG','DIALOG','工单','SHOPORDER','SELECT TOP 200 T.HANDLE,T.SHOP_ORDER,T.QTY_TO_BUILD,T.CREATED_DATE_TIME,T.SITE FROM  SHOP_ORDER T  WHERE T.SITE = ''''%SITE%'''' AND T.SHOP_ORDER LIKE ''''{0}%'''' ','订单号,生产台套数,计划开始生产时间,工厂号','SHOPORDER,QTY,CREATED_DATE_TIME,SITE','HANDLE,SHOP_ORDER,QTY_TO_BUILD,CREATED_DATE_TIME,SITE','0,1',' ORDER BY T.CREATED_DATE_TIME ASC',NULL,'[NULL]',NULL,'[NULL]','[NULL]','[NULL]',NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_ACCESSORIES_ADD_SEQ','LOGIC','维修记录维护-》零配件-》新增-》序号统计',NULL,'SELECT COUNT(1) COUNT_TOTALS FROM Z_EQPCHANGE_ACCESSORIES WHERE SITE = :SITE_V AND SN = :SN_V ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_ACCESSORIES_DETAILS','LOGIC','维修记录维护-》详情',NULL,'SELECT T.*  FROM Z_EQPREPAIR_LOG T WHERE T.SITE = :SITE_V AND T.SN = :SN_V  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'RESRCE_DIALOG_2','DIALOG','资源','RESOURCE','SELECT TOP 200 T1.HANDLE,T1.RESRCE,T1.DESCRIPTION,T4.STATUS_DESCRIPTION 
FROM RESRCE T1 
INNER JOIN RESOURCE_TYPE_RESOURCE T2 ON (T1.HANDLE = T2.RESOURCE_BO)
INNER JOIN RESOURCE_TYPE T3 ON T2.RESOURCE_TYPE_BO = T3.HANDLE 
LEFT JOIN STATUS T4 ON (T4.SITE= ''''%SITE%'''' AND T4.STATUS_GROUP=''''RESOURCE'''' AND T1.STATUS_BO = T4.HANDLE) 
WHERE T1.SITE = ''''%SITE%'''' AND T1.RESRCE LIKE ''''{0}%''''  AND T3.RESOURCE_TYPE LIKE ''''{1}%'''' ','资源,描述,状态 ','RESRCE,DESCRIPTION,STATUS','HANDLE,RESRCE,DESCRIPTION,STATUS_DESCRIPTION','0,1',' ORDER BY T1.CREATED_DATE_TIME DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_WEB_SERVICE_MEUSER_REQ_URL','LOGIC','访问ME的用户服务webservice路径',NULL,'SELECT ''http://10.10.180.13:50000/manufacturing-erpservices/ErpUserService''  web_service_meuser_req_url FROM dummy',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MEUSER_ACTION_ACCOUNT_PASSWORD','LOGIC','访问ME的用户服务身份验证帐号密码字符串',NULL,'SELECT ''site_admin:Sapm1p888'' account_password FROM dummy',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'STORAGE_DIALOG','DIALOG','存储地点','STORAGE','SELECT TOP 200 T.HANDLE,T.STORAGE_LOCATION,T.DESCRIPTION 
FROM STORAGE_LOCATION T 
WHERE T.SITE = ''''%SITE%'''' AND T.STORAGE_LOCATION LIKE ''''{0}%''''  ','存储地点,描述','STORAGE_LOCATION,DESCRIPTION ','HANDLE,STORAGE_LOCATION,DESCRIPTION ','0,1',' ORDER BY T.CREATED_DATE_TIME DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'STORAGE_BATCH_01','DIALOG','库存批次','STORAGE INVENTORY','SELECT T1.HANDLE,T1.INVENTORY_ID,T1.DESCRIPTION,T4.STATUS_DESCRIPTION 
FROM INVENTORY T1 
INNER JOIN ITEM T2 ON (T2.SITE = ''''%SITE%'''' AND T1.ITEM_BO = T2.HANDLE)
INNER JOIN STORAGE_LOCATION T3 ON (T3.SITE = ''''%SITE%'''' AND T1.STORAGE_LOCATION_BO = T3.HANDLE)
LEFT JOIN STATUS T4 ON (T4.SITE = ''''%SITE%'''' AND T1.STATUS_BO = T4.HANDLE)
WHERE T1.SITE = ''''%SITE%'''' 
AND T1.INVENTORY_ID LIKE ''''{0}%'''' 
AND T2.ITEM LIKE ''''{1}%''''  
AND T3.STORAGE_LOCATION LIKE ''''{2}%'''' ','批次,描述,状态','INVENTORY_ID,DESCRIPTION,STATUS','HANDLE,INVENTORY_ID,DESCRIPTION,STATUS_DESCRIPTION ','0,1',' ORDER BY T1.CREATED_DATE_TIME DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'ERP_BATCH_01','DIALOG','ERP批次','ERP BATCH','SELECT T1.HANDLE,T1.DATA_ATTR 
 FROM INVENTORY_ASSY_DATA T1
INNER JOIN INVENTORY T2 ON (T2.SITE = ''''%SITE%'''' AND T1.INVENTORY_BO = T2.HANDLE)
WHERE T1.DATA_FIELD = ''''BATCH_NUMBER'''' 
AND T1.DATA_ATTR LIKE ''''{0}%'''' 
AND T2.INVENTORY_ID LIKE ''''{1}%''''  ','ERP批次','DATA_ATTR ','HANDLE,DATA_ATTR ','0,1',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_MAINT_INV_01','LOGIC','物料退料调拨-》查询列表',NULL,'SELECT 
	   T2.ITEM,
	   T2.REVISION,
       T2.DESCRIPTION,
       T1.INVENTORY_ID,
       T1.QTY_ON_HAND,
       T3.STORAGE_LOCATION,
       T5.DATA_ATTR,
       T6.DATA_ATTR STATUS_LEVEL,
       T7.DATA_ATTR VENDOR  
  FROM INVENTORY T1 
INNER JOIN ITEM T2 ON (T2.SITE = :SITE_V AND T1.ITEM_BO = T2.HANDLE) 
INNER JOIN STORAGE_LOCATION T3 ON (T3.SITE = :SITE_V AND T1.STORAGE_LOCATION_BO = T3.HANDLE) 
INNER JOIN INVENTORY_ASSY_DATA T5 ON (T1.HANDLE = T5.INVENTORY_BO AND T5.DATA_FIELD = ''BATCH_NUMBER'') 
LEFT JOIN INVENTORY_ASSY_DATA T6 ON (T1.HANDLE = T6.INVENTORY_BO AND T6.DATA_FIELD = ''LEVEL'') 
LEFT JOIN INVENTORY_ASSY_DATA T7 ON (T1.HANDLE = T7.INVENTORY_BO AND T7.DATA_FIELD = ''ERP_VENDOR'') 
WHERE T1.SITE = :SITE_V  
AND T1.QTY_ON_HAND > 0
AND (:ITEM_V = '''' or T2.ITEM = :ITEM_V) 
AND (:STORAGE_V = '''' or T3.STORAGE_LOCATION LIKE :STORAGE_V||''%'')
AND (:STOCK_V = '''' or T1.INVENTORY_ID LIKE :STOCK_V||''%'')
AND (:ERP_BATCH_V = '''' or T5.DATA_ATTR LIKE :ERP_BATCH_V||''%'')  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_REPORT_WORK_LOG_LIST','LOGIC','工序或原材料报工-》查询报工中发送给NC成功与否的记录',NULL,'SELECT HANDLE,SITE,REPORT_WORK_TYPE,PRODUCTION_SHIFT_BO,START_DATE_TIME,END_DATE_TIME,SEND_NC 
FROM Z_REPORT_WORK_LOG 
WHERE SITE = :SITE AND SEND_NC = :SEND_NC AND REPORT_WORK_TYPE = :REPORT_WORK_TYPE',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_REPORT_WORK_LOG_OPERATION','LOGIC','工序或原材料报工-》查询工序报工',NULL,'SELECT PL.OPERATION,PL.OPERATION_REVISION,CF.VALUE DEPARTMENT,SO.SHOP_ORDER,
	   PLU.PRODUCT_TEAM,PL.QTY_SCRAPPED,PL.QTY_NON_CONFORMED,PL.QTY_COMPLETED
FROM (
	SELECT T.SHOP_ORDER_BO,T.OPERATION,T.OPERATION_REVISION,SUM(T.QTY_COMPLETED) QTY_COMPLETED,
	   SUM(T.QTY_SCRAPPED) QTY_SCRAPPED,SUM(T.QTY_NON_CONFORMED) QTY_NON_CONFORMED
	FROM PRODUCTION_LOG T
	WHERE
		T.SITE = :SITE
	AND T.TIMES_PROCESSED = 1
	AND cast(T.DATE_TIME AS TIMESTAMP) >= TO_TIMESTAMP(:START_DATE_TIME, ''yyyy-mm-dd hh24:mi:ss'')
	AND cast(T.DATE_TIME AS TIMESTAMP) < TO_TIMESTAMP(:END_DATE_TIME, ''yyyy-mm-dd hh24:mi:ss'')
	AND (T.QTY_SCRAPPED  > 0 OR T.QTY_COMPLETED > 0 OR T.QTY_NON_CONFORMED > 0)
	GROUP BY T.SHOP_ORDER_BO,T.OPERATION,T.OPERATION_REVISION
) PL 
LEFT JOIN (
	SELECT OPERATION,OPERATION_REVISION,SHOP_ORDER_BO,PRODUCT_TEAM
	FROM(
		SELECT  row_number() over(partition by T.OPERATION,T.OPERATION_REVISION,T.SHOP_ORDER_BO order by T.USER_ID) MY_NUM,
				T.OPERATION,T.OPERATION_REVISION,T.SHOP_ORDER_BO,US.NAME PRODUCT_TEAM
		FROM PRODUCTION_LOG T
		LEFT JOIN USR U ON U.USER_ID = T.USER_ID AND U.SITE = T.SITE
		LEFT JOIN USER_LABOR UL ON UL.USER_BO = U.HANDLE
		LEFT JOIN USER_SHIFT US ON US.HANDLE = UL.USER_SHIFT_BO
		WHERE
			T.SITE = :SITE
		AND cast(T.DATE_TIME AS TIMESTAMP) >= TO_TIMESTAMP(:START_DATE_TIME, ''yyyy-mm-dd hh24:mi:ss'')
		AND cast(T.DATE_TIME AS TIMESTAMP) < TO_TIMESTAMP(:END_DATE_TIME, ''yyyy-mm-dd hh24:mi:ss'')
	)
	WHERE MY_NUM = 1
) PLU ON PLU.OPERATION = PL.OPERATION AND PLU.OPERATION_REVISION = PL.OPERATION_REVISION 
	  AND PLU.SHOP_ORDER_BO = PL.SHOP_ORDER_BO 
LEFT JOIN SHOP_ORDER SO ON SO.HANDLE = PL.SHOP_ORDER_BO
LEFT JOIN CUSTOM_FIELDS CF ON CF.HANDLE = SO.HANDLE AND CF."ATTRIBUTE" = :DEPARTMENT',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_RAW_MATERIAL_INSPECTION_RESULT','LOGIC','查询原材料检验任务',NULL,'SELECT HANDLE, INVENTORY_ORGANIZATION_REVISION, QUALITY_INSPECTION_CENTER_REVISION, INSEPCT_TYPE, INSPECT_REPORT, TO_CHAR(REPORT_DATE,''YYYY-MM-DD HH:MM:SS'') REPORT_DATE, RAW_INSPECT_NUM,
TO_CHAR(INSEPCT_DATE,''YYYY-MM-DD HH:MM:SS'') INSEPCT_DATE, CUSTOMER, CUSTOMER_NAME, ITEM, ITEM_DESC, ITEM_REVISION, VENDOR_LOT, BATCH_ID, UNIT_MEASURE, INSPECT_QUANTITY, QUALIFIED_QUANTITY,
APPLYER, COMMENT, ERP_SEND, INSEPCT_RESULT, CREATED_USER_ID, TO_CHAR(CREATED_DATE_TIME, ''YYYY-MM-DD HH:MM:SS'') CREATED_DATE_TIME, MODIFIED_USER_ID, TO_CHAR(MODIFIED_DATE_TIME,''YYYY-MM-DD HH:MM:SS'') MODIFIED_DATE_TIME FROM Z_RAW_INSPECT WHERE SITE = :SITE AND RAW_INSPECT_NUM = :RAW_INSPECT_NUM',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'UPDATE_RAW_MATERIAL_INSPECTION_RESULT','LOGIC','更新原材料检验任务',NULL,'UPDATE Z_RAW_INSPECT SET ERP_SEND = :ERP_SEND WHERE SITE = :SITE AND RAW_INSPECT_NUM = :RAW_INSPECT_NUM',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'UPDATE_REPORT_WORK_LOG','LOGIC','工序或原材料报工-》更新报工状态',NULL,'UPDATE Z_REPORT_WORK_LOG SET 
SEND_NC =:SEND_NC WHERE HANDLE IN (:HANDLES) AND REPORT_WORK_TYPE = :REPORT_WORK_TYPE',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_EQPREPAIR_LOG_EXCEL','EXCEL','维修记录维护-》下载',NULL,'SELECT T.*  FROM Z_EQPREPAIR_LOG T 
         Where t.SITE = :SITE
         AND (:WORK_CENTER_V = '''' or T.WORK_CENTER LIKE :WORK_CENTER_V||''%'')
         AND (:SHIFT_V = '''' or T.SHIFT LIKE :SHIFT_V||''%'')
         AND (:RESRCE_TYPE_V = '''' or T.RESOURCE_TYPE LIKE :RESRCE_TYPE_V||''%'')
         AND (:RESRCE_V = '''' or T.RESOURCE_NO LIKE :RESRCE_V||''%'')           	
         AND (:REPAIR_TIME_V = '''' OR (TO_DATE(t.APPLY_DTIME), ''YYYY/MM/DD'') = (TO_DATE(:REPAIR_TIME_V), ''YYYY/MM/DD''))  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'/com/sapdev/template/DEVICE_LOG_MAINTENANCE.xls','Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'UN_BIND_ITEM_ITEM_GROUP','LOGIC','解绑物料与物料组的关系',NULL,'DELETE FROM ITEM_GROUP_MEMBER WHERE  ITEM_BO = :ITEM_BO',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_REPORT_WORK_LOG_MATERIAL','LOGIC','工序或原材料报工-》查询原材料报工',NULL,'SELECT SA.QTY,SA.INVENTORY_ID,SA.STORAGE_LOCATION,ITM.ITEM RAW_ITEM,ITM.REVISION,ITM.UNIT_OF_MEASURE,
	   SO.SHOP_ORDER,SOITM.ITEM,CF.VALUE DEPT
FROM (
	SELECT SUM(T.QTY) QTY,IAD.DATA_ATTR INVENTORY_ID,T.COMPONENT_BO,T.SHOP_ORDER_BO,SL.STORAGE_LOCATION
	FROM SFC_ASSY T
	LEFT JOIN INVENTORY_ASSY_DATA IAD ON IAD.INVENTORY_BO = T.INVENTORY_BO AND IAD.DATA_FIELD = ''BATCH_NUMBER''
	LEFT JOIN INVENTORY INV ON INV.HANDLE = T.INVENTORY_BO
	LEFT JOIN STORAGE_LOCATION SL ON SL.HANDLE = INV.STORAGE_LOCATION_BO
	WHERE T.SITE = :SITE
	AND T.REMOVED = ''false''
	AND cast(T.ASSEMBLED_DATE AS TIMESTAMP) >= TO_TIMESTAMP(:START_DATE_TIME, ''yyyy-mm-dd hh24:mi:ss'')
	AND cast(T.ASSEMBLED_DATE AS TIMESTAMP) < TO_TIMESTAMP(:END_DATE_TIME, ''yyyy-mm-dd hh24:mi:ss'')
	GROUP BY IAD.DATA_ATTR,SL.STORAGE_LOCATION,T.COMPONENT_BO,T.SHOP_ORDER_BO
) SA 
LEFT JOIN ITEM ITM ON ITM.HANDLE = SA.COMPONENT_BO
LEFT JOIN SHOP_ORDER SO ON SO.HANDLE = SA.SHOP_ORDER_BO
LEFT JOIN ITEM SOITM ON SOITM.HANDLE = SO.ITEM_BO
LEFT JOIN CUSTOM_FIELDS CF ON CF.HANDLE = SO.HANDLE AND CF."ATTRIBUTE" = ''DEPT''',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'INSERT_REPORT_WORK_LOG','LOGIC','工序或原材料报工-》新增报工状态',NULL,'INSERT INTO WIP.Z_REPORT_WORK_LOG
(HANDLE, SITE, REPORT_WORK_TYPE, PRODUCTION_SHIFT_BO, START_DATE_TIME, END_DATE_TIME, SEND_NC, EXTEND1, EXTEND2, EXTEND3)
VALUES(:HANDLE, :SITE, :REPORT_WORK_TYPE, :PRODUCTION_SHIFT_BO, TO_TIMESTAMP(:START_DATE_TIME,''YYYY-MM-DD HH24:MI:SS''), TO_TIMESTAMP(:END_DATE_TIME,''YYYY-MM-DD HH24:MI:SS''), :SEND_NC, :EXTEND1, :EXTEND2, :EXTEND3);',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CORE_REPORT_02_TOTAL','LOGIC','未完成保养清单-》Total',NULL,'SELECT COUNT(1) TOTAL_RECORDS FROM (  
   SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.PLAN_MAINTENANCE_DATE DESC) RN FROM (
	          SELECT 
        		T1.MAINTENANCE_CODE,
        		TO_CHAR(T1.PLAN_MAINTENANCE_DATE, ''YYYY/MM/DD'') PLAN_MAINTENANCE_DATE,
  			    TO_CHAR(T1.REAL_MAINTENANCE_DATE, ''YYYY/MM/DD'') REAL_MAINTENANCE_DATE,
        		T1.MAINTENANCE_CONTENT,
          	T1.USER_ID,
          	T1.REMARK,
          	T2.RESRCE,
          	T2.DESCRIPTION,
          	T4.RESOURCE_TYPE,
          	T5.MAINTENANCE_CODE PLAN_MAINTENANCE_CODE 
     FROM Z_EQPMAINTENANCE_LOG T1
     INNER JOIN RESRCE T2 ON (T2.SITE = :SITE_V AND T1.RESOURCE_BO = T2.HANDLE)
     INNER JOIN RESOURCE_TYPE_RESOURCE T3 ON (T2.HANDLE = T3.RESOURCE_BO)
     INNER JOIN RESOURCE_TYPE T4 ON T3.RESOURCE_TYPE_BO = T4.HANDLE 
     INNER JOIN Z_EQPMAINTENANCE_PLAN T5 ON (T5.SITE = :SITE_V AND T1.Z_EQPMAINTENANCE_PLAN_BO = T5.HANDLE)
     INNER JOIN Z_EQPMAINTENANCE_TYPE T6 ON (T6.SITE = :SITE_V AND T5.Z_EQPMAINTENANCE_TYPE_BO = T6.HANDLE)
     WHERE T1.SITE = :SITE_V 
          AND (:RESRCE_V IS NULL OR T2.RESRCE LIKE :RESRCE_V||''%'')  
          AND (:RESRCE_TYPE_V IS NULL OR T4.RESOURCE_TYPE LIKE :RESRCE_TYPE_V||''%'' )
          AND (:MAINTENANCE_TYPE IS NULL OR T6.MAINTENANCE_TYPE = :MAINTENANCE_TYPE )  
	  	    AND (:BEGIN_TIME_V IS NULL OR T1.REAL_MAINTENANCE_DATE >= TO_DATE(:BEGIN_TIME_V,''YYYY-MM-DD'')) 
	        AND (:END_TIME_V IS NULL OR T1.REAL_MAINTENANCE_DATE <= TO_DATE(:END_TIME_V,''YYYY-MM-DD'')) 
   ) A   
)  
WHERE 1=1 ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'INSERT_Z_RAW_INSPECT','LOGIC','原材料检验任务->新增',NULL,'INSERT INTO WIP.Z_RAW_INSPECT
(HANDLE, SITE, INVENTORY_ORGANIZATION_REVISION, QUALITY_INSPECTION_CENTER_REVISION, INSEPCT_TYPE, INSPECT_REPORT, REPORT_DATE, RAW_INSPECT_NUM, INSEPCT_DATE, CUSTOMER, CUSTOMER_NAME, ITEM, ITEM_DESC, ITEM_REVISION, VENDOR_LOT, BATCH_ID, UNIT_MEASURE, INSPECT_QUANTITY, QUALIFIED_QUANTITY, APPLYER, COMMENT, ERP_SEND, INSEPCT_RESULT, CREATED_USER_ID, CREATED_DATE_TIME, MODIFIED_USER_ID, MODIFIED_DATE_TIME,BATCH_NUMBER)
VALUES(:HANDLE,
:INVENTORY_ORGANIZATION_REVISION,
:INVENTORY_ORGANIZATION_REVISION,
:QUALITY_INSPECTION_CENTER_REVISION,
:INSEPCT_TYPE,
:INSPECT_REPORT,
:REPORT_DATE,
:RAW_INSPECT_NUM,
:INSEPCT_DATE,
:CUSTOMER,
:CUSTOMER_NAME,
:ITEM,
:ITEM_DESC,
:ITEM_REVISION,
:VENDOR_LOT,
:BATCH_ID,
:UNIT_MEASURE,
:INSPECT_QUANTITY,
:QUALIFIED_QUANTITY,
:APPLYER,
:COMMENT,
:ERP_SEND,
:INSEPCT_RESULT,
:CREATED_USER_ID,
:CREATED_DATE_TIME,
:MODIFIED_USER_ID,
:MODIFIED_DATE_TIME,
:BATCH_NUMBER)',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'wangdaowen',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_REPORT_WORK_PRODUCTION_SHIFT','LOGIC','工序或原材料报工-》查询报工班次',NULL,'SELECT HANDLE,PRODUCTION_SHIFT,START_TIME,END_TIME FROM PRODUCTION_SHIFT PS WHERE PS.HANDLE LIKE :SITE_LIKE_PARAM ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_REPORT_WORK_LOG_MATERIAL_COUNT','LOGIC','工序或原材料报工-》查询原材料报工数据行数',NULL,'SELECT COUNT(0) ROW_NUM
FROM SFC_ASSY SA 
WHERE
	SA.SITE = :SITE
AND SA.REMOVED = ''false''
AND cast(SA.ASSEMBLED_DATE AS TIMESTAMP) >= TO_TIMESTAMP(:START_DATE_TIME, ''yyyy-mm-dd hh24:mi:ss'')
AND cast(SA.ASSEMBLED_DATE AS TIMESTAMP) < TO_TIMESTAMP(:END_DATE_TIME, ''yyyy-mm-dd hh24:mi:ss'')',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'DC_GROUP_DIALOG','DIALOG','数据收集组','DC GROUP','SELECT TOP 200 D.HANDLE,D.DC_GROUP,D.DESCRIPTION,D.REVISION
FROM DC_GROUP D
WHERE D.SITE = ''''%SITE%'''' AND D.DC_GROUP LIKE ''''{0}%''''  ','数据收集组名称,描述','DC_GROUP,DESCRIPTION ','HANDLE,DC_GROUP,DESCRIPTION','0,1',' ORDER BY D.CREATED_DATE_TIME DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_MODULE_LOGIC_01','LOGIC','设备保养记录报表-》读取保养类型',NULL,'SELECT DISTINCT MAINTENANCE_TYPE FROM Z_EQPMAINTENANCE_TYPE TYP
INNER JOIN Z_EQPMAINTENANCE_PLAN PLAN ON PLAN.Z_EQPMAINTENANCE_TYPE_BO=TYP.HANDLE
INNER JOIN Z_EQPMAINTENANCE_PLAN_EQP EQP ON EQP.Z_EQPMAINTENANCE_PLAN_BO=PLAN.HANDLE
WHERE PLAN.SITE= :SITE_V ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CORE_REPORT_02_EXCEL','EXCEL','设备保养记录报表-》下载',NULL,'SELECT 
        		T1.MAINTENANCE_CODE,
        		TO_CHAR(T1.PLAN_MAINTENANCE_DATE, ''YYYY/MM/DD'') PLAN_MAINTENANCE_DATE,
  			    TO_CHAR(T1.REAL_MAINTENANCE_DATE, ''YYYY/MM/DD'') REAL_MAINTENANCE_DATE,
        		T1.MAINTENANCE_CONTENT,
          	T1.USER_ID,
          	T1.REMARK,
          	T2.RESRCE,
          	T2.DESCRIPTION,
          	T4.RESOURCE_TYPE,
          	T5.MAINTENANCE_CODE PLAN_MAINTENANCE_CODE 
     FROM Z_EQPMAINTENANCE_LOG T1
     INNER JOIN RESRCE T2 ON (T2.SITE = :SITE_V AND T1.RESOURCE_BO = T2.HANDLE)
     INNER JOIN RESOURCE_TYPE_RESOURCE T3 ON (T2.HANDLE = T3.RESOURCE_BO)
     INNER JOIN RESOURCE_TYPE T4 ON T3.RESOURCE_TYPE_BO = T4.HANDLE 
     INNER JOIN Z_EQPMAINTENANCE_PLAN T5 ON (T5.SITE = :SITE_V AND T1.Z_EQPMAINTENANCE_PLAN_BO = T5.HANDLE)
     INNER JOIN Z_EQPMAINTENANCE_TYPE T6 ON (T6.SITE = :SITE_V AND T5.Z_EQPMAINTENANCE_TYPE_BO = T6.HANDLE)
     WHERE T1.SITE = :SITE_V 
          AND (:RESRCE_V IS NULL OR T2.RESRCE LIKE :RESRCE_V||''%'')  
          AND (:RESRCE_TYPE_V IS NULL OR T4.RESOURCE_TYPE LIKE :RESRCE_TYPE_V||''%'' )
          AND (:MAINTENANCE_TYPE IS NULL OR T6.MAINTENANCE_TYPE = :MAINTENANCE_TYPE )  
	  	    AND (:BEGIN_TIME_V IS NULL OR T1.REAL_MAINTENANCE_DATE >= TO_DATE(:BEGIN_TIME_V,''YYYY-MM-DD'')) 
	        AND (:END_TIME_V IS NULL OR T1.REAL_MAINTENANCE_DATE <= TO_DATE(:END_TIME_V,''YYYY-MM-DD'')) ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'/com/sapdev/template/EQUIPMENT_MAINTENANCE_RECORD.xlsx','Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CORE_REPORT_03','LOGIC','巡检报表-》报表',NULL,'SELECT * FROM (  SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.BATCH_NUMBER DESC) RN FROM (
        SELECT DISTINCT A1.BATCH_NUMBER,TO_CHAR(A1.CREATE_DATE_TIME,''yyyy-mm-dd hh24:mi:ss'') INSPECT_DATE_TIME,A1.BATCH_QTY,A1.INSPECT_RESULT,B.USER_ID INSPECT_USER,C.DESCRIPTION WORK_DESC,D.DESCRIPTION OPERATION_DESC,
A1.HANDLE FROM Z_INSPECT_BATCH_NUMBER A1
INNER JOIN USR B ON A1.CREATE_USER_BO = B.HANDLE
LEFT JOIN WORK_CENTER C ON A1.WORK_CENTER_BO = C.HANDLE
INNER JOIN OPERATION D ON A1.OPERATION_BO = D.HANDLE
INNER JOIN Z_INSPECT_BATCH_MEMBER A2 ON A1.HANDLE = A2.BATCH_NUMBER_BO
INNER JOIN ITEM E ON A2.ITEM_BO = E.HANDLE 
WHERE B.SITE = :SITE 
AND (:MATERIAL is null or E.ITEM LIKE :MATERIAL||''%'') 
AND (:OPERATION is null or D.OPERATION LIKE :OPERATION||''%'' ) 
AND (:BEGIN_TIME is null OR TO_DATE(TO_CHAR(A1.CREATE_DATE_TIME,''yyyy-mm-dd'')) >= TO_DATE(:BEGIN_TIME,''yyyy-mm-dd'')) 
AND (:END_TIME is null OR TO_DATE(TO_CHAR(A1.CREATE_DATE_TIME,''yyyy-mm-dd'')) <= TO_DATE(:END_TIME,''yyyy-mm-dd''))
   ) A   
)  
WHERE RN BETWEEN :STARTCOUNT AND :ENDCOUNT',NULL,NULL,NULL,NULL,NULL,NULL,'[[  
      {field:''BATCH_NUMBER'',title:''检验编号'',width:80,align:''left''},   
      {field:''INSPECT_DATE_TIME'',title:''检验时间'',width:80,align:''left''},   
      {field:''BATCH_QTY'',title:''检验数量'',width:60,align:''left''},
      {field:''INSPECT_RESULT'',title:''检验结果'',width:60,align:''left''},
      {field:''INSPECT_USER'',title:''检验员'',width:60,align:''left''},
      {field:''WORK_DESC'',title:''线别'',width:100,align:''left''},
      {field:''OPERATION_DESC'',title:''工序'',width:100,align:''left''},
	  {field:''HANDLE'',title:''详细'',width:100,align:''left'',
		formatter:function(value,row,index){
		    return ''<img src=\"/manufacturing/com/sap/me/system/common/client/images/showdetails_icon.gif\" onClick=\"$_init_open_windows(\''''+contextPath+''/LoadPodServlet?method=V_07&P_KEY=P_07&BATCH_NUMBER=''+row.BATCH_NUMBER + ''\'',\''''+row.BATCH_NUMBER +''\'') \">'';
		}
      	}    
  ]]
','[[  
      {field:''BATCH_NUMBER'',title:''Inspect NO'',width:80,align:''left''},   
      {field:''INSPECT_DATE_TIME'',title:''Inspect Date'',width:80,align:''left''},   
      {field:''BATCH_QTY'',title:''Inspect Num'',width:60,align:''left''},
      {field:''INSPECT_RESULT'',title:''Inspect Result'',width:60,align:''left''},
      {field:''INSPECT_USER'',title:''Inspect User'',width:60,align:''left''},
      {field:''WORK_DESC'',title:''Work Center'',width:100,align:''left''},
      {field:''OPERATION_DESC'',title:''Operation'',width:100,align:''left''},  
      {field:''HANDLE'',title:''Detail'',width:100,align:''left'',
		formatter: function(value,row,index){
		    return ''<img src=\"/manufacturing/com/sap/me/system/common/client/images/showdetails_icon.gif\" onClick=\"$_init_open_windows(\''''+contextPath+''/LoadPodServlet?method=V_07&P_KEY=P_07&BATCH_NUMBER=''+row.BATCH_NUMBER + ''\'',\''''+row.BATCH_NUMBER +''\'') \">'';
		}
      	}    
  ]]',NULL,NULL,NULL,'/com/sapdev/pod/report_form.jsp',NULL,'Wuhao','10');
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'DC_PARAMETER_DIALOG','DIALOG','数据收集组参数','DC PARAMETER','SELECT TOP 200 DP.HANDLE,DP.PARAMETER_NAME,DP.DESCRIPTION
FROM DC_PARAMETER DP
LEFT JOIN DC_GROUP DG ON DG.HANDLE = DP.DC_GROUP_BO
WHERE DG.SITE= ''''%SITE%'''' AND DP.PARAMETER_NAME LIKE ''''{0}%''''  
AND DG.DC_GROUP LIKE ''''{1}%'''' AND DG.REVISION LIKE ''''{2}%''''','参数,描述','PARAMETER_NAME,DESCRIPTION','HANDLE,PARAMETER_NAME,DESCRIPTION','0,1',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'UPDATE_Z_RAW_INSPECT_PARAMETRIC','LOGIC','原材料检验数据编辑-》修改原材料数据',NULL,'UPDATE Z_RAW_INSPECT_PARAMETRIC SET 
ORIGINAL_ACTUAL = :ORIGINAL_ACTUAL,
ACTUAL = :ACTUAL
WHERE HANDLE= :HANDLE',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_WEB_SERVICE_REQ_SECURITY','LOGIC','webService访问的用户名和密码',NULL,'SELECT ''sa2'' USR_NAME,''sa2'' PWD FROM DUMMY',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_FIRST_REMINDER_04','LOGIC','首件提醒-》HOOK-》根据SFC查询产品（ITEM）',NULL,'SELECT  T2.ITEM FROM SFC T1
			INNER JOIN ITEM T2 ON (T2.SITE = :SITE  AND T1.ITEM_BO = T2.HANDLE)
			WHERE T1.SITE= :SITE  AND T1.SFC = :SFC_V
',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_RAW_DEFAULT_DATA_COLLECTION_DCGROUP','LOGIC','获取默认的材料设备数据收集组',NULL,'SELECT ''WCA00001'' DCGROUP, ''A'' VERSION  FROM dummy',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CORE_REPORT_03_TOTAL','LOGIC','巡检报表-》Total',NULL,'SELECT COUNT(1) TOTAL_RECORDS FROM (  
   SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.BATCH_NUMBER DESC) RN FROM (
        SELECT DISTINCT A1.BATCH_NUMBER,TO_CHAR(A1.CREATE_DATE_TIME,''yyyy-mm-dd hh24:mi:ss'') INSPECT_DATE_TIME,A1.BATCH_QTY,A1.INSPECT_RESULT,B.USER_ID INSPECT_USER,C.DESCRIPTION WORK_DESC,D.DESCRIPTION OPERATION_DESC,
A1.HANDLE FROM Z_INSPECT_BATCH_NUMBER A1
INNER JOIN USR B ON A1.CREATE_USER_BO = B.HANDLE
LEFT JOIN WORK_CENTER C ON A1.WORK_CENTER_BO = C.HANDLE
INNER JOIN OPERATION D ON A1.OPERATION_BO = D.HANDLE
INNER JOIN Z_INSPECT_BATCH_MEMBER A2 ON A1.HANDLE = A2.BATCH_NUMBER_BO
INNER JOIN ITEM E ON A2.ITEM_BO = E.HANDLE 
WHERE B.SITE = :SITE 
AND (:MATERIAL is null or E.ITEM LIKE :MATERIAL||''%'') 
AND (:OPERATION is null or D.OPERATION LIKE :OPERATION||''%'' ) 
AND (:BEGIN_TIME is null OR TO_DATE(TO_CHAR(A1.CREATE_DATE_TIME,''yyyy-mm-dd'')) >= TO_DATE(:BEGIN_TIME,''yyyy-mm-dd'')) 
AND (:END_TIME is null OR TO_DATE(TO_CHAR(A1.CREATE_DATE_TIME,''yyyy-mm-dd'')) <= TO_DATE(:END_TIME,''yyyy-mm-dd''))
   ) A   
)  
WHERE 1=1',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_REPORT_PRODUCTION_LOG_COUNT','LOGIC','生产报告（即完工信息）-》查询班次站点生产报告行数',NULL,'SELECT COUNT(0) ROW_NUM
FROM
(
SELECT DISPL.SITE, DISPL.DATE_TIME, DISPL.ITEM, DISPL.ITEM_REVISION, IADZ.DATA_ATTR BATCH, INV.QTY_ON_HAND QTY, SO.SHOP_ORDER, CF.VALUE DEPT, 
IADQ.DATA_ATTR QUALITY_LEVEL, IADS.DATA_ATTR STALL, ''1'' DEALMETHOD
FROM 
(
SELECT SITE, MAX(DATE_TIME) DATE_TIME, ITEM, ITEM_REVISION, SHOP_ORDER_BO, SFC FROM PRODUCTION_LOG
WHERE DATE_TIME > TO_TIMESTAMP(:START_DATE_TIME) AND DATE_TIME <= TO_TIMESTAMP(:END_DATE_TIME)
AND SITE = :SITE AND QTY_SCRAPPED = 0
GROUP BY SITE, ITEM, ITEM_REVISION, SHOP_ORDER_BO, SFC
) DISPL
INNER JOIN INVENTORY INV ON INV.INVENTORY_ID = DISPL.SFC
LEFT JOIN SHOP_ORDER SO ON DISPL.SHOP_ORDER_BO = SO.HANDLE
LEFT JOIN SHOP_ORDER_TYPE ST ON SO.SHOP_ORDER_TYPE_BO = ST.HANDLE
LEFT JOIN CUSTOM_FIELDS CF ON (CF.HANDLE = DISPL.SHOP_ORDER_BO AND CF.ATTRIBUTE = ''DEPT'')
LEFT JOIN INVENTORY_ASSY_DATA IADQ ON (IADQ.INVENTORY_BO = INV.HANDLE AND IADQ.DATA_FIELD=''LEVEL'')
LEFT JOIN INVENTORY_ASSY_DATA IADS ON (IADS.INVENTORY_BO = INV.HANDLE AND IADS.DATA_FIELD=''GEAR'')
LEFT JOIN INVENTORY_ASSY_DATA IADZ ON (IADZ.INVENTORY_BO = INV.HANDLE AND IADZ.DATA_FIELD=''BATCH_NUMBER'')
WHERE ST.ORDER_TYPE != ''REWORK'' AND INV.QTY_ON_HAND != 0

UNION ALL

SELECT DISPL.SITE, DISPL.DATE_TIME, DISPL.ITEM, DISPL.ITEM_REVISION, '''' BATCH, INV.QTY_ON_HAND QTY, SO.SHOP_ORDER, CF.VALUE DEPT, 
'''' QUALITY_LEVEL, '''' STALL, ''2'' DEALMETHOD
FROM 
(
SELECT  SITE, MAX(DATE_TIME) DATE_TIME, ITEM, ITEM_REVISION, SHOP_ORDER_BO, SFC FROM PRODUCTION_LOG
WHERE DATE_TIME > TO_TIMESTAMP(:START_DATE_TIME) AND DATE_TIME <= TO_TIMESTAMP(:END_DATE_TIME)
AND SITE = :SITE AND QTY_SCRAPPED > 0
GROUP BY SITE, ITEM, ITEM_REVISION, SHOP_ORDER_BO, SFC
) DISPL
INNER JOIN INVENTORY INV ON INV.INVENTORY_ID = DISPL.SFC
LEFT JOIN SHOP_ORDER SO ON DISPL.SHOP_ORDER_BO = SO.HANDLE
LEFT JOIN SHOP_ORDER_TYPE ST ON SO.SHOP_ORDER_TYPE_BO = ST.HANDLE
LEFT JOIN CUSTOM_FIELDS CF ON (CF.HANDLE = DISPL.SHOP_ORDER_BO AND CF.ATTRIBUTE = ''DEPT'')
WHERE ST.ORDER_TYPE != ''REWORK'' AND INV.QTY_ON_HAND != 0
)',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'TOOL_BUMBER_DIALOG','DIALOG','工具编号','TOOL NUMBER','SELECT TOP 200 ROW_NUMBER() OVER(ORDER BY T.MODIFIED_DATE_TIME DESC) AS ROW_ID,T.HANDLE,T.TOOL_NUMBER,T.DESCRIPTION 
FROM TOOL_NUMBER T WHERE T.SITE = ''''%SITE%''''  #< AND T.TOOL_NUMBER LIKE ''''%{0}%''''>#  ','序号,工具编号,工具描述','TOOL_NUMBER,DESCRIPTION ','TOOL_NUMBER,ROW_ID,TOOL_NUMBER,DESCRIPTION ','0,2',' ORDER BY T.MODIFIED_DATE_TIME DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_PRODUCTION_LOG_BY_SITE_TIME','LOGIC','生产报告（即完工信息）-》根据班次站点查询生产报告',NULL,'SELECT DISPL.SITE, DISPL.DATE_TIME, DISPL.ITEM, DISPL.ITEM_REVISION, IADZ.DATA_ATTR BATCH, INV.QTY_ON_HAND QTY, SO.SHOP_ORDER, CF.VALUE DEPT, 
IADQ.DATA_ATTR QUALITY_LEVEL, IADS.DATA_ATTR STALL, ''1'' DEALMETHOD
FROM 
(
SELECT  SITE, MAX(DATE_TIME) DATE_TIME, ITEM, ITEM_REVISION, SHOP_ORDER_BO, SFC FROM PRODUCTION_LOG
WHERE DATE_TIME > TO_TIMESTAMP(:START_DATE_TIME) AND DATE_TIME <= TO_TIMESTAMP(:END_DATE_TIME)
AND SITE = :SITE AND QTY_SCRAPPED = 0
GROUP BY SITE, ITEM, ITEM_REVISION, SHOP_ORDER_BO, SFC
) DISPL
INNER JOIN INVENTORY INV ON INV.INVENTORY_ID = DISPL.SFC
LEFT JOIN SHOP_ORDER SO ON DISPL.SHOP_ORDER_BO = SO.HANDLE
LEFT JOIN SHOP_ORDER_TYPE ST ON SO.SHOP_ORDER_TYPE_BO = ST.HANDLE
LEFT JOIN CUSTOM_FIELDS CF ON (CF.HANDLE = DISPL.SHOP_ORDER_BO AND CF.ATTRIBUTE = ''DEPT'')
LEFT JOIN INVENTORY_ASSY_DATA IADQ ON (IADQ.INVENTORY_BO = INV.HANDLE AND IADQ.DATA_FIELD=''LEVEL'')
LEFT JOIN INVENTORY_ASSY_DATA IADS ON (IADS.INVENTORY_BO = INV.HANDLE AND IADS.DATA_FIELD=''GEAR'')
LEFT JOIN INVENTORY_ASSY_DATA IADZ ON (IADZ.INVENTORY_BO = INV.HANDLE AND IADZ.DATA_FIELD=''BATCH_NUMBER'')
WHERE ST.ORDER_TYPE != ''REWORK'' AND INV.QTY_ON_HAND != 0

UNION ALL

SELECT DISPL.SITE, DISPL.DATE_TIME, DISPL.ITEM, DISPL.ITEM_REVISION, '''' BATCH, INV.QTY_ON_HAND QTY, SO.SHOP_ORDER, CF.VALUE DEPT, 
'''' QUALITY_LEVEL, '''' STALL, ''2'' DEALMETHOD
FROM 
(
SELECT  SITE, MAX(DATE_TIME) DATE_TIME, ITEM, ITEM_REVISION, SHOP_ORDER_BO, SFC FROM PRODUCTION_LOG
WHERE DATE_TIME > TO_TIMESTAMP(:START_DATE_TIME) AND DATE_TIME <= TO_TIMESTAMP(:END_DATE_TIME)
AND SITE = :SITE AND QTY_SCRAPPED > 0
GROUP BY SITE, ITEM, ITEM_REVISION, SHOP_ORDER_BO, SFC
) DISPL
INNER JOIN INVENTORY INV ON INV.INVENTORY_ID = DISPL.SFC
LEFT JOIN SHOP_ORDER SO ON DISPL.SHOP_ORDER_BO = SO.HANDLE
LEFT JOIN SHOP_ORDER_TYPE ST ON SO.SHOP_ORDER_TYPE_BO = ST.HANDLE
LEFT JOIN CUSTOM_FIELDS CF ON (CF.HANDLE = DISPL.SHOP_ORDER_BO AND CF.ATTRIBUTE = ''DEPT'')
WHERE ST.ORDER_TYPE != ''REWORK'' AND INV.QTY_ON_HAND != 0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_DEVICE_DATA_NEWEST_ONE_RECORD','LOGIC','设备数据信息查询-》最新录入的一条数据',NULL,'SELECT TOP 1 HANDLE,SITE,STATUS,RESOURCE_TYPE,RESOURCE,DESCRIPTION,CREATED_DATE,Field1,Field2,Field3,Field4,Field5,Field6,Field7,Field8,Field9,Field10,Field11,Field12,
Field13,Field14,Field15,Field16,Field17,Field18,Field19,Field20,Field21,Field22,Field23,Field24,Field25,Field26,Field27,Field28,Field29,Field30,Field31,
Field32,Field33,Field34,Field35,Field36,Field37,Field38,Field39,Field40,Field41,Field42,Field43,Field44,Field45,Field46,Field47,Field48,Field49,Field50
FROM Z_DEVICE_DATA ZDA
WHERE ZDA.RESOURCE = :RESOURCE
AND ZDA.SITE = :SITE
ORDER BY ZDA.CREATED_DATE DESC',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'UPDATE_INV_COUNT_SIGN','LOGIC','更新库存盘点发送标志',NULL,'UPDATE Z_INVCOUNT_HEAD SET ERP_SEND = :ERP_SEND WHERE SITE = :SITE AND BILL_CODE = :BILL_CODE',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'RESRCE_DIALOG_03','DIALOG','资源','RESOURCE','SELECT TOP 200 T1.RESRCE,T1.RESRCE,T4.WORK_CENTER,T1.DESCRIPTION,T2.STATUS_DESCRIPTION 
 FROM RESRCE T1 
INNER JOIN STATUS T2 ON (T2.SITE= ''''%SITE%'''' AND T2.STATUS_GROUP=''''RESOURCE'''' AND T1.STATUS_BO = T2.HANDLE) 
INNER JOIN WORK_CENTER_MEMBER T3 ON (T1.HANDLE = T3.WORK_CENTER_OR_RESOURCE_GBO)
INNER JOIN WORK_CENTER T4 ON (T4.SITE = ''''%SITE%'''' AND T4.HANDLE = T3.WORK_CENTER_BO)
WHERE T1.SITE = ''''%SITE%'''' AND T4.WORK_CENTER LIKE ''''{1}%'''' ','资源,工作中心,描述,状态 ','RESRCE,WORK_CENTER,DESCRIPTION,STATUS','RESRCE,RESRCE,WORK_CENTER,DESCRIPTION,STATUS_DESCRIPTION','0,1',' ORDER BY T1.CREATED_DATE_TIME DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_INV_COUNT_ITEM','LOGIC','查询盘点单行项目数据',NULL,'SELECT * FROM Z_INVCOUNT_ITEM WHERE SITE = :SITE AND BILL_CODE = :BILL_CODE ORDER BY ITEM',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_INV_COUNT_HEAD','LOGIC','查询盘点单抬头数据',NULL,'SELECT * FROM Z_INVCOUNT_HEAD WHERE SITE = :SITE AND BILL_CODE = :BILL_CODE',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_RESOURCE_SETUP_LIST_01','LOGIC','工单分配维护-》根据资源读取资源设置信息',NULL,'SELECT T2.HANDLE,T2.SETUP_GBO 
FROM RESRCE T1 
INNER JOIN RESOURCE_SETUP T2 ON T1.HANDLE = T2.RESOURCE_BO 
WHERE T1.SITE = :SITE_V  AND T1.RESRCE = :RESOURCE_V ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_RESOURCE_SETUP_LIST_02','LOGIC','工单分配维护-》根据HANDLE删除资源设置',NULL,'DELETE FROM RESOURCE_SETUP WHERE HANDLE = :HANDLE_V',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'INSERT_RESOURCE_SETUP','LOGIC','工单分配维护-》资源设置新增',NULL,'INSERT INTO RESOURCE_SETUP(HANDLE,RESOURCE_BO,SETUP_GBO,USER_BO,DATE_TIME,SEQUENCE,STATE) values(:HANDLE,:RESOURCE_BO,:SETUP_GBO,:USER_BO,:DATE_TIME,:SEQUENCE,:STATE) ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'UPDATE_INV_COUNT_STATUS','LOGIC','更新库存盘点调整状态',NULL,'UPDATE Z_INVCOUNT_ITEM SET STATUS = :STATUS WHERE SITE = :SITE AND BILL_CODE = :BILL_CODE AND ITEM = :ITEM AND REVISION = :REVISION AND BATCH = :BATCH',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'INSERT_Z_MASTER_DATA_LOG','LOGIC','主数据同步-》追踪表新增',NULL,'INSERT INTO Z_MASTER_DATA_LOG
(HANDLE, PARENT_ID, DATA_FLAG, SITE, CODE, BO_HANDLE, NC_DATA_JSON, DEAL_STATUS, MESSAGE, DEAL_DATE_TIME,DEAL_CLASS)
VALUES(:HANDLE, :PARENT_ID, :DATA_FLAG, :SITE, :CODE, :BO_HANDLE, :NC_DATA_JSON, :DEAL_STATUS, :MESSAGE, now(),:DEAL_CLASS);
',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'DELETE_Z_MASTER_DATA_LOG','LOGIC','主数据同步-》追踪表删除',NULL,'DELETE FROM Z_MASTER_DATA_LOG T WHERE T.BO_HANDLE = ''1'' AND T.DEAL_STATUS = ''1''',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_PRODUCT_SIGN_PRINTING_01','LOGIC','生成标识卡打印-》根SFCBO读取PROCESS_LOT',NULL,'SELECT T1.SFC,T3.PROCESS_LOT,T1.QTY SFC_QTY  
FROM SFC T1 
INNER JOIN PROCESS_LOT_MEMBER T2 ON (T1.HANDLE = T2.MEMBER_GBO)
INNER JOIN PROCESS_LOT T3 ON (T3.SITE = :SITE_V  AND T3.HANDLE = T2.PROCESS_LOT_BO)
WHERE T1.SITE = :SITE_V AND T1.HANDLE = :SFC_BO ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_PRODUCT_SIGN_PRINTING_02','LOGIC','生成标识卡打印-》根SFC读取最近的操作信息',NULL,'SELECT TOP 1 
T.USER_ID, 
TO_CHAR(T.DATE_TIME, ''YYYY-MM-DD HH24:MI:SS'') DATE_TIME,
T.SFC,
T3.OPERATION,
T.OPERATION_REVISION,
T.ITEM,
T.ITEM_REVISION,
T2.SHOP_ORDER,
T3.DESCRIPTION 
FROM ACTIVITY_LOG T
INNER JOIN SHOP_ORDER T2 ON (T2.SITE = :SITE_V AND T.SHOP_ORDER_BO = T2.HANDLE)
INNER JOIN OPERATION T3 ON (T3.SITE = :SITE_V AND T.OPERATION = T3.OPERATION AND T.OPERATION_REVISION = T3.REVISION)
WHERE T.SITE = :SITE_V AND T.SFC = :SFC_V
ORDER BY T.DATE_TIME DESC  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_PRODUCT_SIGN_PRINTING_03','LOGIC','生成标识卡打印-》根据PROCESS_LOT获取SFC总量',NULL,'SELECT SUM(T1.QTY) PROCESS_QTY
FROM SFC T1 
INNER JOIN PROCESS_LOT_MEMBER T2 ON (T1.HANDLE = T2.MEMBER_GBO)
INNER JOIN PROCESS_LOT T3 ON (T3.SITE = :SITE_V  AND T3.HANDLE = T2.PROCESS_LOT_BO)
WHERE T1.SITE = :SITE_V AND T3.PROCESS_LOT = :PROCESS_LOT  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_PRODUCT_SIGN_PRINTING_04','LOGIC','生成标识卡打印-》根据SFC获取详情',NULL,'SELECT T.SFC,T.QTY SFC_QTY  FROM SFC T WHERE T.HANDLE = :SFC_BO AND T.SITE = :SITE_V',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CORE_REPORT_01','LOGIC','未完成保养清单-》报表',NULL,'SELECT * FROM (  
     SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.NEXT_MAINTENANCE_DATE DESC) RN FROM (
	SELECT RES.RESRCE,
	RES.DESCRIPTION RESOURCE_DESC,
	TO_CHAR(ZEPE.NEXT_MAINTENANCE_DATE, ''YYYY/MM/DD'') NEXT_MAINTENANCE_DATE,
	ZEP.DESCRIPTION,
	ZEP.MAINTENANCE_CODE,
	ZEP.MAINTENANCE_USER_ID,
	MAINTYPE.MAINTENANCE_TYPE,
	T6.RESOURCE_TYPE 
	FROM Z_EQPMAINTENANCE_PLAN_EQP ZEPE
	INNER JOIN Z_EQPMAINTENANCE_PLAN ZEP ON ZEPE.Z_EQPMAINTENANCE_PLAN_BO = ZEP.HANDLE
	INNER JOIN RESRCE RES ON ZEPE.RESOURCE_BO = RES.HANDLE
	INNER JOIN RESOURCE_TYPE_RESOURCE T5 ON RES.HANDLE = T5.RESOURCE_BO
	INNER JOIN RESOURCE_TYPE T6 ON (T6.SITE = :SITE_V AND T5.RESOURCE_TYPE_BO = T6.HANDLE)
	INNER JOIN Z_EQPMAINTENANCE_TYPE MAINTYPE ON ZEP.Z_EQPMAINTENANCE_TYPE_BO = MAINTYPE.HANDLE
	WHERE ZEPE.SITE = :SITE_V 
	AND ZEPE.NEXT_MAINTENANCE_DATE < CURRENT_TIMESTAMP 
	AND (:RESRCE_TYPE_V is null or T6.RESOURCE_TYPE LIKE :RESRCE_TYPE_V||''%'')
	AND (:RESRCE_V is null or RES.RESRCE LIKE :RESRCE_V||''%'')  
	ORDER BY ZEPE.NEXT_MAINTENANCE_DATE ASC 
   ) A   
)  
WHERE RN BETWEEN :STARTCOUNT AND :ENDCOUNT ',NULL,NULL,NULL,NULL,NULL,NULL,'[[  
      {field:''RESRCE'',title:''设备编码'',width:60,align:''left''},  
 	 {field:''RESOURCE_TYPE'',title:''设备类型'',width:60,align:''left''},  
      {field:''RESOURCE_DESC'',title:''设备名称'',width:60,align:''left''},
      {field:''MAINTENANCE_CODE'',title:''保养计划编号'',width:60,align:''left''},
      {field:''NEXT_MAINTENANCE_DATE'',title:''计划保养日期'',width:80,align:''left''},
      {field:''MAINTENANCE_USER_ID'',title:''保养责任人'',width:40,align:''left''},  
      {field:''MAINTENANCE_TYPE'',title:''保养类型'',width:60,align:''left''},
 	{field:''DESCRIPTION'',title:''设备保养计划描述'',width:150,align:''left'',
		formatter: function(value,row,index){
		    return ''<div title=\''''+row.DESCRIPTION+''\''>''+_$values(row.DESCRIPTION)+''<div>'';
		}
      	}    
  ]]  ','[[  
      {field:''RESOURCE_CODE'',title:''device no'',width:80,align:''left''},  
	 {field:''RESOURCE_TYPE'',title:''device type'',width:60,align:''left''},  
      {field:''RESOURCE_NAME'',title:''device name'',width:80,align:''left''},
      {field:''MAINTAIN_PLAN_CODE'',title:''maintain number'',width:80,align:''left''},
      {field:''MAINTAIN_PLAN_DATE'',title:''maintain date'',width:80,align:''left''},
      {field:''MAINTAIN_USER'',title:''maintain user'',width:40,align:''left''},  
      {field:''MAINTENANCE_TYPE'',title:''maintain type User'',width:80,align:''left''},
 	 {field:''DESCRIPTION'',title:''maintain plan desc'',width:200,align:''left'',
		formatter: function(value,row,index){
		    return ''<div title=\''''+row.DESCRIPTION+''\''>''+row.DESCRIPTION+''<div>'';
		}
      	}    
  ]]  
',NULL,NULL,NULL,'/com/sapdev/pod/report_form.jsp',NULL,'Cheney','10');
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CORE_REPORT_01_TOTAL','LOGIC','未完成保养清单-》Total',NULL,'SELECT COUNT(1) TOTAL_RECORDS FROM (  
   SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.NEXT_MAINTENANCE_DATE DESC) RN FROM (
	SELECT RES.RESRCE,
	RES.DESCRIPTION RESOURCE_DESC,
	TO_CHAR(ZEPE.NEXT_MAINTENANCE_DATE, ''YYYY/MM/DD'') NEXT_MAINTENANCE_DATE,
	ZEP.DESCRIPTION,
	ZEP.MAINTENANCE_CODE,
	ZEP.MAINTENANCE_USER_ID,
	MAINTYPE.MAINTENANCE_TYPE,
	T6.RESOURCE_TYPE 
	FROM Z_EQPMAINTENANCE_PLAN_EQP ZEPE
	INNER JOIN Z_EQPMAINTENANCE_PLAN ZEP ON ZEPE.Z_EQPMAINTENANCE_PLAN_BO = ZEP.HANDLE
	INNER JOIN RESRCE RES ON ZEPE.RESOURCE_BO = RES.HANDLE
	INNER JOIN RESOURCE_TYPE_RESOURCE T5 ON RES.HANDLE = T5.RESOURCE_BO
	INNER JOIN RESOURCE_TYPE T6 ON (T6.SITE = :SITE_V AND T5.RESOURCE_TYPE_BO = T6.HANDLE)
	INNER JOIN Z_EQPMAINTENANCE_TYPE MAINTYPE ON ZEP.Z_EQPMAINTENANCE_TYPE_BO = MAINTYPE.HANDLE
	WHERE ZEPE.SITE = :SITE_V 
	AND ZEPE.NEXT_MAINTENANCE_DATE < CURRENT_TIMESTAMP 
	AND (:RESRCE_TYPE_V is null or T6.RESOURCE_TYPE LIKE :RESRCE_TYPE_V||''%'')
	AND (:RESRCE_V is null or RES.RESRCE LIKE :RESRCE_V||''%'')  
	ORDER BY ZEPE.NEXT_MAINTENANCE_DATE ASC 
   ) A   
)  
WHERE 1=1 ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_RAW_INSPECT_PARAMETRIC','LOGIC','原材料检验数据编辑-》查询原材料数据',NULL,'SELECT ZRI.RAW_INSPECT_NUM,ZRIP.MEASURE_GROUP, ZRIP.DC_GROUP_REVISION,ZRIP.DC_PARAMETER_BO,ZRIP.MEASURE_NAME,ZRIP.DESCRIPTION,ZRIP.ACTUAL,
ZRI.CREATED_DATE_TIME,ZRI.ITEM_DESC,CF.VALUE ITEM_SPEC,ZRI.ITEM,ZRI.ITEM_REVISION,ZRIP.DC_COMMENT,ZRIP.ORIGINAL_ACTUAL,ZRIP.HANDLE
FROM Z_RAW_INSPECT_PARAMETRIC ZRIP 
INNER JOIN Z_RAW_INSPECT ZRI ON ZRI.HANDLE = ZRIP.PARAMETRIC_BO
LEFT JOIN ITEM ITM ON ITM.ITEM = ZRI.ITEM AND ITM.REVISION = ZRI.ITEM_REVISION AND ITM.SITE = ZRI.SITE
LEFT JOIN CUSTOM_FIELDS CF ON CF.HANDLE = ITM.HANDLE AND CF."ATTRIBUTE" = ''ITEM_SPEC''
WHERE  ZRI.SITE = :SITE
AND (:PARAMETRIC_BO = '''' OR ZRI.RAW_INSPECT_NUM LIKE :PARAMETRIC_BO||''%'')
AND (:MEASURE_GROUP = '''' OR ZRIP.MEASURE_GROUP LIKE :MEASURE_GROUP||''%'')
AND (:DC_GROUP_REVISION = '''' OR ZRIP.DC_GROUP_REVISION LIKE :DC_GROUP_REVISION||''%'')
AND (:MEASURE_NAME = '''' OR ZRIP.MEASURE_NAME LIKE :MEASURE_NAME||''%'')
ORDER BY ZRIP."SEQUENCE" ASC',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'INSERT_Z_RAW_INSPECT_LOG','LOGIC','原材料检验数据编辑-》新增修改记录表',NULL,'INSERT INTO Z_RAW_INSPECT_LOG
(HANDLE, SITE,CONTEXT_GBO, DC_GROUP_BO, DC_PARAMETER_BO, ORIGINAL_ACTUAL, ACTUAL_NUM, UPDATE_USER_BO, UPDATE_DATE_TIME)
VALUES(BINTOHEX(SYSUUID), :SITE,:CONTEXT_GBO, :DC_GROUP_BO, :DC_PARAMETER_BO, :ORIGINAL_ACTUAL, :ACTUAL_NUM, :UPDATE_USER_BO, now());',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CORE_REPORT_02','LOGIC','设备保养记录报表-》报表',NULL,'SELECT * FROM (  
     SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.REAL_MAINTENANCE_DATE DESC) RN FROM (
          SELECT 
        		T1.MAINTENANCE_CODE,
        		TO_CHAR(T1.PLAN_MAINTENANCE_DATE, ''YYYY/MM/DD'') PLAN_MAINTENANCE_DATE,
  			    TO_CHAR(T1.REAL_MAINTENANCE_DATE, ''YYYY/MM/DD'') REAL_MAINTENANCE_DATE,
        		T1.MAINTENANCE_CONTENT,
          	T7.FIELD_VALUE,
          	T1.REMARK,
          	T2.RESRCE,
          	T2.DESCRIPTION,
          	T4.RESOURCE_TYPE,
          	T5.MAINTENANCE_CODE PLAN_MAINTENANCE_CODE 
     FROM Z_EQPMAINTENANCE_LOG T1
     INNER JOIN RESRCE T2 ON (T2.SITE = :SITE_V AND T1.RESOURCE_BO = T2.HANDLE)
     INNER JOIN RESOURCE_TYPE_RESOURCE T3 ON (T2.HANDLE = T3.RESOURCE_BO)
     INNER JOIN RESOURCE_TYPE T4 ON T3.RESOURCE_TYPE_BO = T4.HANDLE 
     INNER JOIN Z_EQPMAINTENANCE_PLAN T5 ON (T5.SITE = :SITE_V AND T1.Z_EQPMAINTENANCE_PLAN_BO = T5.HANDLE)
     INNER JOIN Z_EQPMAINTENANCE_TYPE T6 ON (T6.SITE = :SITE_V AND T5.Z_EQPMAINTENANCE_TYPE_BO = T6.HANDLE)
	 INNER JOIN Z_USER_CODE T7 ON (T1.USER_ID = T7.FIELD_KEY)
     WHERE T1.SITE = :SITE_V 
          AND (:RESRCE_V IS NULL OR T2.RESRCE LIKE :RESRCE_V||''%'')  
          AND (:RESRCE_TYPE_V IS NULL OR T4.RESOURCE_TYPE LIKE :RESRCE_TYPE_V||''%'' )
          AND (:MAINTENANCE_TYPE IS NULL OR T6.MAINTENANCE_TYPE = :MAINTENANCE_TYPE )  
	  	    AND (:BEGIN_TIME_V IS NULL OR T1.REAL_MAINTENANCE_DATE >= TO_DATE(:BEGIN_TIME_V,''YYYY-MM-DD'')) 
	        AND (:END_TIME_V IS NULL OR T1.REAL_MAINTENANCE_DATE <= TO_DATE(:END_TIME_V,''YYYY-MM-DD'')) 
   ) A   
)  
WHERE RN BETWEEN :STARTCOUNT AND :ENDCOUNT ',NULL,NULL,NULL,NULL,NULL,NULL,'[[  
      {field:''RESRCE'',title:''设备编码'',width:60,align:''left''},   
      {field:''RESOURCE_TYPE'',title:''设备类型'',width:60,align:''left''},   
      {field:''DESCRIPTION'',title:''设备名称'',width:60,align:''left''},
      {field:''MAINTENANCE_CODE'',title:''保养编号'',width:60,align:''left''},
{field:''PLAN_MAINTENANCE_CODE'',title:''计划编号'',width:60,align:''left''},
      {field:''PLAN_MAINTENANCE_DATE'',title:''计划保养日期'',width:80,align:''left''},
      {field:''REAL_MAINTENANCE_DATE'',title:''实际保养日期'',width:80,align:''left''},
      {field:''MAINTENANCE_CONTENT'',title:''保养内容'',width:100,align:''left'',
		formatter: function(value,row,index){
		    return ''<div ondblclick =\"$_copy_w(\''''+row.MAINTENANCE_CONTENT+''\'')\"  title=\''''+row.MAINTENANCE_CONTENT+''\''>''+_$values(row.MAINTENANCE_CONTENT)+''<div>'';
		}
      	},
      {field:''FIELD_VALUE'',title:''保养人'',width:50,align:''left''},  
      {field:''REMARK'',title:''备注'',width:150,align:''left'',
		formatter: function(value,row,index){
		    return ''<div ondblclick =\"$_copy_w(\''''+row.REMARK+''\'')\"  title=\''''+row.REMARK+''\''>''+_$values(row.REMARK)+''<div>'';
		}
      	}    
  ]]  ','[[  
      {field:''RESRCE'',title:''Device NO'',width:60,align:''left''},   
      {field:''RESOURCE_TYPE'',title:''Device Type'',width:60,align:''left''},   
      {field:''DESCRIPTION'',title:''Device Name'',width:60,align:''left''},
      {field:''MAINTENANCE_CODE'',title:''Maintenance Code'',width:60,align:''left''},
{field:''PLAN_MAINTENANCE_CODE'',title:''PLAN CODE'',width:60,align:''left''},
      {field:''PLAN_MAINTENANCE_DATE'',title:''Plan Date'',width:80,align:''left''},
      {field:''REAL_MAINTENANCE_DATE'',title:''Real Date'',width:80,align:''left''},
      {field:''MAINTENANCE_CONTENT'',title:''Content'',width:60,align:''left''},
      {field:''FIELD_VALUE'',title:''User'',width:40,align:''left''},  
      {field:''REMARK'',title:''Remark'',width:150,align:''left'',
		formatter: function(value,row,index){
		    return ''<div title=\''''+row.REMARK+''\''>''+_$values(row.REMARK)+''<div>'';
		}
      	}    
  ]]  ',NULL,NULL,NULL,'/com/sapdev/pod/report_form.jsp',NULL,'Cheney','10');
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'Z_EXT_DICT_TYPEGROUP_DIALOG','DIALOG','日志类型','LOG TPYE','SELECT T.STATUS,T.DICT_NAME,T.DICT_ZH_VALUE,T.DICT_EN_VALUE,T.DESCRIPTION FROM Z_EXT_DICT T 
WHERE T.STATUS = ''''1'''' AND T.DICT_GROUP = ''''TypeGroup'''' AND T.DICT_NAME LIKE ''''{0}%''''','接口类型,接口名称','SERVICE TYPE,SERVICE NAME','STATUS,DICT_NAME,DICT_ZH_VALUE','0,1',NULL,NULL,'[NULL]',NULL,'[NULL]','[NULL]','[NULL]',NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'Z_EXT_DICT_SERVICEGROUP_DIALOG','DIALOG','服务类型','SERVICE TYPE','SELECT T.STATUS,T.DICT_NAME,T.DICT_ZH_VALUE,T.DICT_EN_VALUE,T.DESCRIPTION FROM Z_EXT_DICT T 
WHERE T.STATUS = ''''1'''' AND T.DICT_GROUP = ''''ServiceGroup'''' AND T.DICT_NAME LIKE ''''{0}%''''','接口服务,接口名称','SERVICE TYPE,SERVICE NAME','STATUS,DICT_NAME,DICT_ZH_VALUE','0,1',NULL,NULL,'[NULL]',NULL,'[NULL]','[NULL]','[NULL]',NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_WEB_SERVICE_REQ_URL','LOGIC','webService访问路径',NULL,'SELECT ''http://172.16.18.5:80/uapws/service/sd'' web_service_req_url FROM dummy',NULL,NULL,NULL,NULL,NULL,NULL,'[NULL]',NULL,'[NULL]','[NULL]','[NULL]',NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'INSERT_Z_DEVICE_DATA','LOGIC','设备数据信息收集',NULL,'INSERT INTO Z_DEVICE_DATA
(HANDLE,SITE,STATUS,STATUS_DEVICE_TRANSFER,RESOURCE_TYPE,RESOURCE,DESCRIPTION,DC_GROUP,CREATED_DATE,Field1,Field2,Field3,Field4,Field5,Field6,Field7,
Field8,Field9,Field10,Field11,Field12,
Field13,Field14,Field15,Field16,Field17,Field18,Field19,Field20,Field21,Field22,Field23,Field24,Field25,Field26,Field27,Field28,Field29,Field30,Field31,
Field32,Field33,Field34,Field35,Field36,Field37,Field38,Field39,Field40,Field41,Field42,Field43,Field44,Field45,Field46,Field47,Field48,Field49,Field50,
Field51,Field52,Field53,Field54,Field55,Field56,Field57,Field58,Field59,Field60,Field61,Field62,Field63,Field64,Field65,Field66,Field67,Field68,Field69,
Field70,Field71,Field72,Field73,Field74,Field75,Field76,Field77,Field78,Field79,Field80,Field81,Field82,Field83,Field84,Field85,Field86,Field87,Field88,
Field89,Field90,Field91,Field92,Field93,Field94,Field95,Field96,Field97,Field98,Field99,Field100
) 
VALUES (
:handle,:site,:status,1,:resourceType,:resource,:description,:dcGroup,now(),:field1,:field2,:field3,:field4,:field5,:field6,:field7,:field8,:field9,:field10,:field11,:field12,
:field13,:field14,:field15,:field16,:field17,:field18,:field19,:field20,:field21,:field22,:field23,:field24,:field25,:field26,:field27,:field28,:field29,:field30,:field31,
:field32,:field33,:field34,:field35,:field36,:field37,:field38,:field39,:field40,:field41,:field42,:field43,:field44,:field45,:field46,:field47,:field48,:field49,:field50,
:field51,:field52,:field53,:field54,:field55,:field56,:field57,:field58,:field59,:field60,:field61,:field62,:field63,:field64,:field65,:field66,:field67,:field68,:field69,
:field70,:field71,:field72,:field73,:field74,:field75,:field76,:field77,:field78,:field79,:field80,:field81,:field82,:field83,:field84,:field85,:field86,:field87,:field88,
:field89,:field90,:field91,:field92,:field93,:field94,:field95,:field96,:field97,:field98,:field99,:field100
);',NULL,NULL,NULL,NULL,NULL,NULL,'[NULL]',NULL,'[NULL]','[NULL]','[NULL]',NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_WEB_SERVICE_CB_REQ_URL','LOGIC','webService callBack访问路径',NULL,'SELECT ''http://172.16.18.5:1008/uapws/service/xny'' web_service_req_url FROM dummy',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'REPORT_SFC_TEST_1_EXCEL','EXCEL','SFC报表定制测试-》下载',NULL,'SELECT t.handle,t.site,t.sfc,t.status_bo,T.CREATED_DATE_TIME FROM sfc t  ',NULL,NULL,NULL,NULL,NULL,NULL,'[NULL]',NULL,'[NULL]','[NULL]','[NULL]',NULL,'/com/sapdev/template/REPORT_SFC_TEST_1.xls','Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'POD_RESOURCE_01_LOGIC','LOGIC','国际化',NULL,'SELECT T.* FROM Z_POD_RESOURCE T WHERE T.POD_TYPE IN (''POD_API'',:POD_TYPE)',NULL,NULL,NULL,NULL,NULL,NULL,'[NULL]',NULL,'[NULL]','[NULL]','[NULL]',NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'REPORT_SFC_TEST_1_TOTAL','LOGIC','SFC报表定制测试-》分页总数',NULL,'SELECT count(1) TOTAL_RECORDS FROM (  
   SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.CREATED_DATE_TIME DESC) RN FROM (
       SELECT t.handle,t.site,t.sfc,t.status_bo,T.CREATED_DATE_TIME FROM sfc t       
   ) A   
)  
WHERE 1=1 ',NULL,NULL,NULL,NULL,NULL,NULL,'[NULL]',NULL,'[NULL]','[NULL]','[NULL]',NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'INSERT_Z_SERVICE_LOG','LOGIC','接口日志监控-》新增',NULL,'
INSERT INTO WIP.Z_SERVICE_LOG
(HANDLE,SITE, SERVICE_TYPE, SERVICE_CODE, SERVICE_IP, EXCEPTION_MSG, SERVICE_URL, SERVICE_STATUS, EXECUTE_TIME, START_DATA, END_DATE, SERVICE_CODE_PATH,SEQ)
VALUES(:HANDLE,:SITE,:SERVICE_TYPE,:SERVICE_CODE, :SERVICE_IP, :EXCEPTION_MSG, :SERVICE_URL,:SERVICE_STATUS, :EXECUTE_TIME, :START_DATA, :END_DATE, :SERVICE_CODE_PATH,:SEQ);
',NULL,NULL,NULL,NULL,NULL,NULL,'[NULL]',NULL,'[NULL]','[NULL]','[NULL]',NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_SERVICE_LOG_SEQ','LOGIC','接口日志监控-》序列',NULL,'SELECT Z_SERVICE_LOG_SEQ.NEXTVAL SEQ_V FROM DUMMY ',NULL,NULL,NULL,NULL,NULL,NULL,'[NULL]',NULL,'[NULL]','[NULL]','[NULL]',NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_SERVICE_LOG_LIST_TOTAL','LOGIC','接口日志监控-》统计',NULL,'SELECT TOP 1 TA.RN TOTAL_RECORDS FROM (
   SELECT ROW_NUMBER() OVER(ORDER BY END_DATE DESC) RN FROM (
    SELECT T1.END_DATE FROM Z_SERVICE_LOG T1  
	LEFT JOIN Z_EXT_DICT T2 ON T1.SERVICE_CODE = T2.DICT_NAME   
	WHERE T2.DICT_GROUP in (''ServiceGroup'',''JobGroup'')  
    AND (:SERVICE_CODE_V like '''' or T1.SERVICE_CODE = :SERVICE_CODE_V) 
	AND (:SERVICE_TYPE_V like '''' or T1.SERVICE_TYPE = :SERVICE_TYPE_V) 
	AND (:STATUS_V like '''' or T1.SERVICE_STATUS = :STATUS_V) 
   )   
) TA
ORDER BY TA.RN DESC ',NULL,NULL,NULL,NULL,NULL,NULL,'[NULL]',NULL,'[NULL]','[NULL]','[NULL]',NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_BLENDING_04','LOGIC','HOOK-》SFC自动合批-》XML',NULL,'<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:mep="mepapi:com:sap:me:production" xmlns:prod="http://www.sap.com/me/production">
   <soapenv:Header/>
   <soapenv:Body>
      <mep:autoSplitSfc>
         <mep:Site>{0}</mep:Site>
         <mep:Request>
            <prod:sfcRef>{1}</prod:sfcRef>
            <prod:resourceRef>{2}</prod:resourceRef>
            <prod:operationRef>{3}</prod:operationRef>
            <prod:newSfcList>
               <prod:quantity>{4}</prod:quantity>
            </prod:newSfcList>
         </mep:Request>
      </mep:autoSplitSfc>
   </soapenv:Body>
</soapenv:Envelope>',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_BLENDING_03','LOGIC','HOOK-》SFC自动合批-》调用NWA拆分WebService',NULL,'SELECT ''http://10.10.156.11:50000/manufacturing-papiservices/SplitSerializeServiceWSService'' W_URL FROM DUMMY',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_BLENDING_02','LOGIC','HOOK-》SFC自动合批-》根据SFC获取工单',NULL,'SELECT T3.SHOP_ORDER FROM SFC T1 
INNER JOIN SHOP_ORDER T3 ON (T3.SITE = :SITE_V AND T1.SHOP_ORDER_BO = T3.HANDLE)
WHERE T1.SITE = :SITE_V AND T1.SFC = :SFC_V  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_BLENDING_01','LOGIC','HOOK-》SFC自动合批-》根据SFC获取合批SFC',NULL,'SELECT T1.SFC,T2.QTY  FROM SFC_ID_HISTORY T1 
INNER JOIN SFC T2 ON (T2.SITE = :SITE_V AND T1.SFC = T2.SFC)
WHERE T1.REASON = ''M'' AND T1.SFC_BO = :SFC_BO  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'PRINT_CODE_LOGIC_2','LOGIC','打印-》材料物料标识卡打印-》数据',NULL,'SELECT T2.INVENTORY_ID   PRINT_A,
T4.DATA_ATTR      PRINT_B,
T5.DATA_ATTR      PRINT_C,
T3.VALUE          PRINT_D,
round(T2.QTY_ON_HAND,2) PRINT_E,
CURRENT_TIMESTAMP PRINT_F,
T6.DATA_ATTR PRINT_G 
FROM ITEM T1
INNER JOIN INVENTORY T2 ON (T1.HANDLE = T2.ITEM_BO) 
LEFT JOIN CUSTOM_FIELDS T3 ON (T1.HANDLE = T3.HANDLE AND T3.ATTRIBUTE = ''ITEM_SPEC'') 
LEFT JOIN INVENTORY_ASSY_DATA T4 ON T2.HANDLE = T4.INVENTORY_BO AND T4.DATA_FIELD = ''BATCH_NUMBER'' 
LEFT JOIN INVENTORY_ASSY_DATA T5 ON T2.HANDLE = T5.INVENTORY_BO AND T5.DATA_FIELD = ''ERP_VENDOR'' 
LEFT JOIN INVENTORY_ASSY_DATA T6 ON T2.HANDLE = T6.INVENTORY_BO AND T6.DATA_FIELD = ''LINE'' 
WHERE T2.INVENTORY_ID = :TEXT_V 
AND T1.SITE = :SITE_V ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_BLENDING_05','LOGIC','HOOK-》SFC自动合批-》根据当前工序获取下一道排序工序',NULL,'SELECT BB.OPERATION_BO
  FROM SFC_STEP AA 
 INNER JOIN  
 ( 
      SELECT A.SFC_ROUTER_BO, E.OPERATION_BO 
      FROM SFC_STEP A 
      INNER JOIN SFC_ROUTER B ON B.HANDLE = A.SFC_ROUTER_BO 
      INNER JOIN ROUTER_STEP C ON C.ROUTER_BO = B.ROUTER_BO AND C.STEP_ID = A.STEP_ID 
      INNER JOIN ROUTER_NEXT_STEP D ON D.ROUTER_STEP_BO = C.HANDLE 
      INNER JOIN ROUTER_OPERATION E ON E.ROUTER_STEP_BO = D.NEXT_STEP_BO 
      WHERE A.OPERATION_BO = :CURR_OPERATION_BO 
        AND A.SFC_ROUTER_BO LIKE ''%''||:SFC_BO||''%'' 
  ) BB ON (AA.SFC_ROUTER_BO = BB.SFC_ROUTER_BO AND AA.OPERATION_BO = BB.OPERATION_BO) 
 WHERE AA.QTY_IN_QUEUE > 0 ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_BLENDING_06','LOGIC','HOOK-》SFC自动合批-》根据Operation获取Handle',NULL,'SELECT T.HANDLE FROM OPERATION T WHERE T.SITE = :SITE_V AND T.OPERATION = :N_OPERATION_V ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'HOOK_BLENDING_07','LOGIC','HOOK-》SFC自动合批-》根据Operation获取资源',NULL,'SELECT T3.RESOURCE_BO
				 FROM OPERATION T1 
				INNER JOIN RESOURCE_TYPE T2 ON (T1.RESOURCE_TYPE_BO = T2.HANDLE)
				INNER JOIN RESOURCE_TYPE_RESOURCE T3 ON (T2.HANDLE = T3.RESOURCE_TYPE_BO)
				WHERE T1.SITE = :SITE_V AND T1.HANDLE = :NEXT_OPERATION_BO ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CORE_REPORT_CONFIG_PAGE','LOGIC','通用报表-》HANA分页',NULL,'SELECT COUNT(1) TOTAL_RECORDS FROM (  
   SELECT A.*, ROW_NUMBER() OVER() RN FROM (
	{0}
   ) A   
)  
WHERE 1=1 ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'ROUTER_DIALOG','DIALOG','工艺路线','ROUTER','SELECT TOP 200 T.HANDLE,T.ROUTER,T.DESCRIPTION,T.REVISION,T.CURRENT_REVISION FROM ROUTER T
WHERE T.SITE = ''''%SITE%'''' AND T.ROUTER LIKE ''''{0}%''''  ','工艺路线,描述,版本,当前版本','ROUTER,DESCRIPTION,REVISION,CURRENT_REVISION','HANDLE,ROUTER,DESCRIPTION,REVISION,CURRENT_REVISION','0,1','ORDER BY T.CREATED_DATE_TIME DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'WORKSHOP_DIALOG','DIALOG','车间','SHOPSHOP','SELECT TOP 200 T.HANDLE,T.WORK_CENTER,T.DESCRIPTION FROM WORK_CENTER T
WHERE  T.WC_CATEGORY IN  (''''LEVEL4'''',''''LEVEL2'''') AND T.SITE = ''''%SITE%'''' AND T.WORK_CENTER LIKE ''''{0}%'''' ','车间,描述','WORK_CENTER,DESCRIPTION','HANDLE,WORK_CENTER,DESCRIPTION','0,1','ORDER BY T.CREATED_DATE_TIME DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'ITEM_DIALOG_02','DIALOG','物料','ITEM',' SELECT TOP 200 T1.HANDLE, T1.ITEM, T1.DESCRIPTION,T1.UNIT_OF_MEASURE,T2.VALUE ITEM_MODEL,T3.VALUE ITEM_SPEC,T1.ITEM_TYPE 
 FROM ITEM T1 
 LEFT JOIN CUSTOM_FIELDS T2 ON (T1.HANDLE = T2.HANDLE AND T2.ATTRIBUTE = ''''ITEM_MODEL'''')/*型号*/ 
 LEFT JOIN CUSTOM_FIELDS T3 ON (T1.HANDLE = T3.HANDLE AND T3.ATTRIBUTE = ''''ITEM_SPEC'''')/*规格*/ 
 WHERE T1.ITEM_TYPE IN (''''M'''',''''B'''') AND T1.SITE = ''''%SITE%''''  
 AND T1.ITEM LIKE ''''{0}%''''   ','物料,物料描述,单位,型号,规格,物料型号','ITEM_DESC,ITEM,DESCRIPTION,UNIT_OF_MEASURE,ITEM_MODEL,ITEM_SPEC,ITEM_TYPE','HANDLE,ITEM,DESCRIPTION,UNIT_OF_MEASURE,ITEM_MODEL,ITEM_SPEC,ITEM_TYPE','0,1',' ORDER BY T1.CREATED_DATE_TIME DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'PRINT_CODE_LOGIC_3','LOGIC','打印-》材料包装标识卡打印-》数据',NULL,'SELECT T2.CONTAINER_NUMBER PRINT_A,T3.VALUE PRINT_B,T4.SFC PRINT_C,T5.SHOP_ORDER PRINT_D,
SUM(T1.QTY) PRINT_E,T6.USER_ID START_USER_ID,CURRENT_TIMESTAMP PRINT_G,
''P1''||'';''||TO_CHAR(T7.ITEM)||'';''||TO_CHAR(T4.SFC)||'';''||TO_CHAR(SUM(T1.QTY))||'';'' PRINT_H 
FROM CONTAINER_MEMBER T1 
INNER JOIN CONTAINER_DATA T2 ON T1.CONTAINER_DATA_BO = T2.HANDLE 
LEFT JOIN CUSTOM_FIELDS T3 ON T1.ITEM_BO = T3.HANDLE AND T3."ATTRIBUTE" = ''ITEM_SPEC'' 
INNER JOIN SFC T4 ON T1.SFC_BO = T4.HANDLE 
INNER JOIN SHOP_ORDER T5 ON T1.SHOP_ORDER_BO = T5.HANDLE 
INNER JOIN USR T6 ON T2.USER_BO = T6.HANDLE 
INNER JOIN ITEM T7 ON T1.ITEM_BO = T7.HANDLE 
WHERE T2.CONTAINER_NUMBER = :TEXT_V 
AND T2.SITE = :SITE_V 
GROUP BY T2.CONTAINER_NUMBER,T3.VALUE,SFC,T5.SHOP_ORDER,T6.USER_ID,T7.ITEM',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'REPORT_EXCELLENT_RATE_01','LOGIC','优率报表-》上',NULL,'WITH C1 AS(
	SELECT 
		 {2}
		SUM(T3.QTY_STARTED) QTY_STARTED,
		SUM(T3.QTY_COMPLETED) QTY_COMPLETED,
		SUM(T3.QTY_SCRAPPED) QTY_SCRAPPED,
		SUM(T3.QTY_FAILED) QTY_FAILED,
		CASE WHEN (SUM(T3.QTY_COMPLETED) + SUM(T3.QTY_SCRAPPED)) = 0 THEN 0 
			ELSE SUM(T3.QTY_COMPLETED)/(SUM(T3.QTY_COMPLETED) + SUM(T3.QTY_SCRAPPED)) END TWO_PASS_RATE,
		ROW_NUMBER() OVER(PARTITION BY T3.OPERATION ORDER BY T3.OPERATION) INDEX_NUM 
	FROM (
		SELECT DISTINCT T1.SITE,T1.OPERATION,T2.DESCRIPTION SO_DESCRIPTION,T4.SHOP_ORDER,T1.WORK_CENTER,T1.ITEM,T1.RESRCE,
			T1.SFC,T1.QTY_STARTED,T1.QTY_COMPLETED,T1.QTY_SCRAPPED,T1.QTY_FAILED,
			TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60), ''''YYYY-MM-DD'''') T_DAY,
			TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60),''''WW'''') T_WEEK,
			TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60),''''MM'''') T_MONTH,
			TO_CHAR(T1.PARTITION_DATE,''''HH24'''')+8 T_HH,
			CASE WHEN 
				CAST(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60) AS TIMESTAMP) BETWEEN 
					TO_TIMESTAMP(TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60), ''''YYYY-MM-DD'''') || '''' 08:30:00'''', ''''yyyy-mm-dd hh24:mi:ss'''')
				AND
					TO_TIMESTAMP(TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60), ''''YYYY-MM-DD'''') || '''' 20:30:00'''', ''''yyyy-mm-dd hh24:mi:ss'''')
			THEN ''''A''''
			ELSE ''''B'''' 
			END T_SHIFT 
			FROM PRODUCTION_LOG T1 
			INNER JOIN OPERATION T2 ON (T2.SITE = ''''{0}'''' AND T1.OPERATION = T2.OPERATION)
			INNER JOIN SHOP_ORDER T4 ON (T4.SITE = ''''{0}'''' AND T4.HANDLE = T1.SHOP_ORDER_BO)
		WHERE T1.SITE = ''''{0}'''' 
		AND ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60) >= TO_TIMESTAMP(''''{5}'''', ''''yyyy-mm-dd hh24:mi:ss'''')
		AND ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60) < TO_TIMESTAMP(''''{6}'''', ''''yyyy-mm-dd hh24:mi:ss'''')
		{1} 
	) T3
	{3}  
),
C2 AS(
	SELECT 
		{2} 
		MAX(CASE T3.INDEX_NUM WHEN 1 THEN T3.DESCRIPTION  END) NC_CODE_1,
		MAX(CASE T3.INDEX_NUM WHEN 1 THEN ROUND(T3.NC_QTY,2) END) NC_CODE_1_N,
		MAX(CASE T3.INDEX_NUM WHEN 2 THEN T3.DESCRIPTION  END) NC_CODE_2,
		MAX(CASE T3.INDEX_NUM WHEN 2 THEN ROUND(T3.NC_QTY,2) END) NC_CODE_2_N,
		MAX(CASE T3.INDEX_NUM WHEN 3 THEN T3.DESCRIPTION  END) NC_CODE_3,
		MAX(CASE T3.INDEX_NUM WHEN 3 THEN ROUND(T3.NC_QTY,2) END) NC_CODE_3_N,
		MAX(CASE T3.INDEX_NUM WHEN 4 THEN T3.DESCRIPTION  END) NC_CODE_4,
		MAX(CASE T3.INDEX_NUM WHEN 4 THEN ROUND(T3.NC_QTY,2) END) NC_CODE_4_N,
		MAX(CASE T3.INDEX_NUM WHEN 5 THEN T3.DESCRIPTION  END) NC_CODE_5,
		MAX(CASE T3.INDEX_NUM WHEN 5 THEN ROUND(T3.NC_QTY,2) END) NC_CODE_5_N  
	 FROM
	(
		SELECT  
				{13} 
				T1.DESCRIPTION,
				SUM(T1.QTY) NC_QTY,
				''1'' SO_DESCRIPTION,			
				ROW_NUMBER() OVER(PARTITION BY {13} T1.OPERATION ORDER BY SUM(T1.QTY) DESC) INDEX_NUM  
		FROM(
			SELECT DISTINCT T1.SITE,T1.OPERATION,T8.SHOP_ORDER,T1.WORK_CENTER,T1.ITEM,T1.RESRCE, T7.DESCRIPTION,T1.SFC ,T5.QTY ,
				TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60), ''''YYYY-MM-DD'''') T_DAY,
				TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60),''''WW'''') T_WEEK,
				TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60),''''MM'''') T_MONTH,
				TO_CHAR(T1.PARTITION_DATE,''''HH24'''')+8 T_HH,
				CASE WHEN 
				CAST(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60) AS TIMESTAMP) BETWEEN 
					TO_TIMESTAMP(TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60), ''''YYYY-MM-DD'''') || '''' 08:30:00'''', ''''yyyy-mm-dd hh24:mi:ss'''')
				AND
					TO_TIMESTAMP(TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60), ''''YYYY-MM-DD'''') || '''' 20:30:00'''', ''''yyyy-mm-dd hh24:mi:ss'''')
				THEN ''''A''''
				ELSE ''''B'''' 
				END T_SHIFT  
				FROM NC_DATA T5
				INNER JOIN SFC T2 ON (T2.HANDLE = T5.NC_CONTEXT_GBO AND T2.SITE = ''''{0}'''') 
				INNER JOIN NC_CODE T7 ON (T7.HANDLE = T5.NC_CODE_BO AND T7.SITE = ''''{0}'''')
				INNER JOIN OPERATION T6 ON (T5.OPERATION_BO = T6.HANDLE AND T6.SITE = ''''{0}'''')
				INNER JOIN PRODUCTION_LOG T1 ON (T2.SFC = T1.SFC AND T1.SITE = ''''{0}'''' AND T1.OPERATION = T6.OPERATION)
				INNER JOIN SHOP_ORDER T8 ON (T8.SITE = ''''{0}'''' AND T1.SHOP_ORDER_BO = T8.HANDLE)
			WHERE T5.SITE = ''''{0}'''' 
			{15}
			AND ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60) >= TO_TIMESTAMP(''''{5}'''', ''''yyyy-mm-dd hh24:mi:ss'''')
			AND ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60) < TO_TIMESTAMP(''''{6}'''', ''''yyyy-mm-dd hh24:mi:ss'''')
		) T1 
			GROUP BY {13} T1.DESCRIPTION 
	) T3 
	{3} 
),  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney','15');
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'REPORT_EXCELLENT_RATE_02','LOGIC','优率报表-》下',NULL,'C3 AS( 
	   SELECT DISTINCT 
			{2} 
		SUM(T3.QTY_NON_CONFORMED) QTY_NON_CONFORMED,
		SUM(T3.QTY_COMPLETED) QTY_COMPLETED,
		CASE WHEN (SUM(T3.QTY_COMPLETED) + SUM(T3.QTY_NON_CONFORMED)) = 0 THEN 0 
			ELSE SUM(T3.QTY_COMPLETED)/(SUM(T3.QTY_COMPLETED) + SUM(T3.QTY_NON_CONFORMED)) END ONE_PASS_RATE,
		ROW_NUMBER() OVER(PARTITION BY T3.OPERATION ORDER BY T3.OPERATION) INDEX_NUM 
	FROM (
		SELECT DISTINCT T1.SITE,T1.OPERATION,T2.DESCRIPTION SO_DESCRIPTION,T4.SHOP_ORDER,T1.WORK_CENTER,T1.ITEM,T1.RESRCE,
			T1.SFC,T1.QTY_COMPLETED,T1.QTY_NON_CONFORMED,
			TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60), ''''YYYY-MM-DD'''') T_DAY,
			TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60),''''WW'''') T_WEEK,
			TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60),''''MM'''') T_MONTH,
			TO_CHAR(T1.PARTITION_DATE,''''HH24'''')+8 T_HH,
			CASE WHEN 
				CAST(T1.PARTITION_DATE AS TIMESTAMP) BETWEEN 
					TO_TIMESTAMP(TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60), ''''YYYY-MM-DD'''') || '''' 08:30:00'''', ''''yyyy-mm-dd hh24:mi:ss'''')
				AND
					TO_TIMESTAMP(TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60), ''''YYYY-MM-DD'''') || '''' 20:30:00'''', ''''yyyy-mm-dd hh24:mi:ss'''')
			THEN ''''A''''
			ELSE ''''B'''' 
			END T_SHIFT 
			FROM PRODUCTION_LOG T1 
			INNER JOIN OPERATION T2 ON (T2.SITE = ''''{0}'''' AND T1.OPERATION = T2.OPERATION) 
			INNER JOIN SHOP_ORDER T4 ON (T4.SITE = ''''{0}'''' AND T4.HANDLE = T1.SHOP_ORDER_BO)  
		WHERE T1.SITE = ''''{0}'''' 
		AND ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60) >= TO_TIMESTAMP(''''{5}'''', ''''yyyy-mm-dd hh24:mi:ss'''')
		AND ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60) < TO_TIMESTAMP(''''{6}'''', ''''yyyy-mm-dd hh24:mi:ss'''')
		AND T1.TIMES_PROCESSED = ''''1'''' 
		{1}
	) T3
	 {3} 

),
C4 AS(
	SELECT T8.FLOOR_ORDER,T8.LINE_NO,T8.OPERATION  
	FROM (
		SELECT T2.WORK_CENTER FLOOR_ORDER,T3.WORK_CENTER LINE_NO,T1.OPERATION 
		FROM WORK_CENTER_MEMBER T5 
		INNER JOIN WORK_CENTER T2 ON (T5.WORK_CENTER_BO = T2.HANDLE AND T2.WC_CATEGORY IN (''''LEVEL2'''',''''LEVEL4''''))
		INNER JOIN WORK_CENTER T3 ON (T5.WORK_CENTER_OR_RESOURCE_GBO = T3.HANDLE AND T3.WC_CATEGORY IN (''''LEVEL1'''',''''LEVEL3''''))
		INNER JOIN PRODUCTION_LOG T1 ON (T3.WORK_CENTER = T1.WORK_CENTER AND T1.SITE = ''''{0}'''') 
		WHERE T1.SITE = ''''{0}'''' 
		AND ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60) >= TO_TIMESTAMP(''''{5}'''', ''''yyyy-mm-dd hh24:mi:ss'''')
		AND ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60) < TO_TIMESTAMP(''''{6}'''', ''''yyyy-mm-dd hh24:mi:ss'''')
	) T8 
	WHERE 1=1 
	{11} 
	GROUP BY T8.FLOOR_ORDER,T8.LINE_NO,T8.OPERATION  
)
SELECT TOP {8} * FROM (
	SELECT 
		 {9}
		ROW_NUMBER() OVER(ORDER BY MAX(C1.INDEX_NUM)) INDEX_NUM_2,
		CAST(MAX(ROUND(C1.QTY_STARTED,2)) AS INT) QTY_STARTED,
		CAST(MAX(ROUND(C1.QTY_COMPLETED,2)) AS INT)  QTY_COMPLETED,
		CAST(MAX(ROUND(C1.QTY_SCRAPPED,2)) AS INT) QTY_SCRAPPED,
		CAST(MAX(ROUND(C1.QTY_FAILED,2)) AS INT) QTY_FAILED, 
		CASE WHEN MAX(ROUND(C3.QTY_COMPLETED,2)) IS NULL THEN 0  ELSE MAX(ROUND(C3.QTY_COMPLETED,2)) END ONE_PASS_QTY,
		CASE WHEN MAX(ROUND(C3.QTY_NON_CONFORMED,2))  IS NULL THEN 0  ELSE MAX(ROUND(C3.QTY_NON_CONFORMED,2)) END  NC_QTY,
		CASE WHEN MAX(ROUND(C3.ONE_PASS_RATE,2)* 100)  IS NULL  THEN ''''0%''''   
			 WHEN LENGTH(MAX(C3.ONE_PASS_RATE)) >= 6 THEN MAX(TO_NUMBER(SUBSTRING(C3.ONE_PASS_RATE,0,6))* 100) || ''''%''''
			 ELSE MAX(C3.ONE_PASS_RATE * 100) || ''''%''''  END ONE_PASS_RATE,
		CASE WHEN MAX(ROUND(C1.TWO_PASS_RATE,2)* 100)  IS NULL  THEN ''''0%''''   
			 WHEN LENGTH(MAX(C1.TWO_PASS_RATE)) >= 6 THEN MAX(TO_NUMBER(SUBSTRING(C1.TWO_PASS_RATE,0,6))* 100) || ''''%''''
			 ELSE MAX(C1.TWO_PASS_RATE * 100) || ''''%''''  END TWO_PASS_RATE,
		MAX(C2.NC_CODE_1) NC_CODE_1,
		MAX(C2.NC_CODE_1_N) NC_CODE_1_N,
		MAX(C2.NC_CODE_2) NC_CODE_2,
		MAX(C2.NC_CODE_2_N) NC_CODE_2_N,
		MAX(C2.NC_CODE_3) NC_CODE_3,
		MAX(C2.NC_CODE_3_N) NC_CODE_3_N,
		MAX(C2.NC_CODE_4) NC_CODE_4,
		MAX(C2.NC_CODE_4_N) NC_CODE_4_N,
		MAX(C2.NC_CODE_5) NC_CODE_5,
		MAX(C2.NC_CODE_5_N) NC_CODE_5_N 
	FROM C1 
	LEFT JOIN C2 ON (C1.OPERATION = C2.OPERATION {14})
	LEFT JOIN C3 ON ( {16} )
	{12}
	{10} 
) A1
WHERE A1.INDEX_NUM_2 > {7} AND A1.INDEX_NUM_2 <= {4}   ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney','15');
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'REPORT_EXCELLENT_RATE_03','LOGIC','优率报表-》分页',NULL,'C3 AS( 
	   SELECT DISTINCT 
			{2} 
		SUM(T3.QTY_NON_CONFORMED) QTY_NON_CONFORMED,
		SUM(T3.QTY_COMPLETED) QTY_COMPLETED,
		CASE WHEN (SUM(T3.QTY_COMPLETED) + SUM(T3.QTY_NON_CONFORMED)) = 0 THEN 0 
			ELSE SUM(T3.QTY_COMPLETED)/(SUM(T3.QTY_COMPLETED) + SUM(T3.QTY_NON_CONFORMED)) END ONE_PASS_RATE,
		ROW_NUMBER() OVER(PARTITION BY T3.OPERATION ORDER BY T3.OPERATION) INDEX_NUM 
	FROM (
		SELECT DISTINCT T1.SITE,T1.OPERATION,T2.DESCRIPTION SO_DESCRIPTION,T4.SHOP_ORDER,T1.WORK_CENTER,T1.ITEM,T1.RESRCE,
			T1.SFC,T1.QTY_COMPLETED,T1.QTY_NON_CONFORMED,
			TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60), ''''YYYY-MM-DD'''') T_DAY,
			TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60),''''WW'''') T_WEEK,
			TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60),''''MM'''') T_MONTH,
			TO_CHAR(T1.PARTITION_DATE,''''HH24'''')+8 T_HH,
			CASE WHEN 
				CAST(T1.PARTITION_DATE AS TIMESTAMP) BETWEEN 
					TO_TIMESTAMP(TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60), ''''YYYY-MM-DD'''') || '''' 08:30:00'''', ''''yyyy-mm-dd hh24:mi:ss'''')
				AND
					TO_TIMESTAMP(TO_CHAR(ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60), ''''YYYY-MM-DD'''') || '''' 20:30:00'''', ''''yyyy-mm-dd hh24:mi:ss'''')
			THEN ''''A''''
			ELSE ''''B'''' 
			END T_SHIFT 
			FROM PRODUCTION_LOG T1 
			INNER JOIN OPERATION T2 ON (T2.SITE = ''''{0}'''' AND T1.OPERATION = T2.OPERATION) 
			INNER JOIN SHOP_ORDER T4 ON (T4.SITE = ''''{0}'''' AND T4.HANDLE = T1.SHOP_ORDER_BO)  
		WHERE T1.SITE = ''''{0}'''' 
		AND ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60) >= TO_TIMESTAMP(''''{5}'''', ''''yyyy-mm-dd hh24:mi:ss'''')
		AND ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60) < TO_TIMESTAMP(''''{6}'''', ''''yyyy-mm-dd hh24:mi:ss'''')
		AND T1.TIMES_PROCESSED = ''''1'''' 
		{1}
	) T3
	 {3} 

),
C4 AS(
	SELECT T8.FLOOR_ORDER,T8.LINE_NO,T8.OPERATION  
	FROM (
		SELECT T2.WORK_CENTER FLOOR_ORDER,T3.WORK_CENTER LINE_NO,T1.OPERATION 
		FROM WORK_CENTER_MEMBER T5 
		INNER JOIN WORK_CENTER T2 ON (T5.WORK_CENTER_BO = T2.HANDLE AND T2.WC_CATEGORY IN (''''LEVEL2'''',''''LEVEL4''''))
		INNER JOIN WORK_CENTER T3 ON (T5.WORK_CENTER_OR_RESOURCE_GBO = T3.HANDLE AND T3.WC_CATEGORY IN (''''LEVEL1'''',''''LEVEL3''''))
		INNER JOIN PRODUCTION_LOG T1 ON (T3.WORK_CENTER = T1.WORK_CENTER AND T1.SITE = ''''{0}'''') 
		WHERE T1.SITE = ''''{0}'''' 
		AND ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60) >= TO_TIMESTAMP(''''{5}'''', ''''yyyy-mm-dd hh24:mi:ss'''')
		AND ADD_SECONDS(TO_TIMESTAMP(T1.PARTITION_DATE),8*60*60) < TO_TIMESTAMP(''''{6}'''', ''''yyyy-mm-dd hh24:mi:ss'''')
	) T8 
	WHERE 1=1 
	{11} 
	GROUP BY T8.FLOOR_ORDER,T8.LINE_NO,T8.OPERATION  
)
SELECT TOP 1 TA.RN TOTAL_RECORDS FROM (
SELECT ROW_NUMBER() OVER(ORDER BY RN DESC) RN FROM (
	SELECT 
		 {9}
		ROW_NUMBER() OVER(ORDER BY MAX(C1.INDEX_NUM)) RN  
	FROM C1 
	LEFT JOIN C2 ON (C1.OPERATION = C2.OPERATION {14})
	LEFT JOIN C3 ON  ( {16} ) 
	{12}
	{10} 
	)
) TA
ORDER BY TA.RN DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'PRINT_CODE_LOGIC_4','LOGIC','打印-》锂电物料标识卡打印-》数据',NULL,'SELECT T2.INVENTORY_ID   PRINT_A,
T1.ITEM           PRINT_B,
T1.DESCRIPTION    PRINT_C,
T3.VALUE          PRINT_D,
round(T2.QTY_ON_HAND,2) PRINT_E,
CURRENT_TIMESTAMP PRINT_F  
FROM ITEM T1 
INNER JOIN INVENTORY T2 ON (T1.HANDLE = T2.ITEM_BO) 
LEFT JOIN CUSTOM_FIELDS T3 ON (T1.HANDLE = T3.HANDLE AND T3.ATTRIBUTE = ''ITEM_SPEC'') 
WHERE T2.INVENTORY_ID = :TEXT_V 
AND T1.SITE = :SITE_V ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'USER_DIALOG_02','DIALOG','员工','USER','SELECT TOP 200 T1.HANDLE, T1.USER_ID,T3.DESCRIPTION GROUP_DESCRIPTION 
  FROM USR T1
INNER JOIN USER_GROUP_MEMBER T2 ON T1.HANDLE = T2.USER_OR_GROUP_GBO
INNER JOIN USER_GROUP T3 ON T3.HANDLE = T2.USER_GROUP_BO 
 WHERE 
 T1.SITE = ''''%SITE%''''  
 AND T3.USER_GROUP IN (''''Z_CELL_SB_DIRCTOR'''',''''Z_CL_SB_ENGINEER'''',''''Z_CL_SB_DIRECTOR'''',''''Z_CL_SB_LEADER'''',''''Z_CELL_SB_CLERK'''',''''Z_CELL_SB_ENGINEER'''',''''Z_CELL_SB_MANAGER'''')
 AND T1.USER_ID LIKE ''''{0}%''''  ','用户,用户组','USER,GROUP DESCRIPTION','HANDLE,USER_ID,GROUP_DESCRIPTION','0,1',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_SFC_TIME_BY_RESOURCE','LOGIC','SFC执行时间统计',NULL,'SELECT SFC, SFCSTATUS, ADDSECONDS FROM
(
SELECT SFC.SFC,''活动中'' SFCSTATUS, SECONDS_BETWEEN(SIW.DATE_STARTED, CURRENT_UTCTIMESTAMP) ADDSECONDS FROM SFC_IN_WORK SIW
INNER JOIN SFC_STEP SS ON SIW.SFC_STEP_BO = SS.HANDLE
INNER JOIN SFC_ROUTER SR ON SS.SFC_ROUTER_BO = SR.HANDLE
INNER JOIN SFC_ROUTING SRG ON SR.SFC_ROUTING_BO = SRG.HANDLE
INNER JOIN SFC ON SFC.HANDLE = SRG.SFC_BO
INNER JOIN RESRCE RE ON RE.HANDLE = SIW.RESOURCE_BO
WHERE RE.SITE = :SITE
AND RE.RESRCE = :RESOURCE
 
UNION ALL
 
SELECT SFC.SFC,
''排队中'' SFCSTATUS,
0 ADDSECONDS
FROM RESRCE RE
INNER JOIN WORK_CENTER_MEMBER WCM ON WCM.WORK_CENTER_OR_RESOURCE_GBO = RE.HANDLE
INNER JOIN WORK_CENTER WC ON WC.HANDLE = WCM.WORK_CENTER_BO
INNER JOIN SHOP_ORDER SO ON SO.PLANNED_WORK_CENTER_BO = WC.HANDLE
INNER JOIN SFC ON SFC.SHOP_ORDER_BO = SO.HANDLE
INNER JOIN STATUS ST ON ST.HANDLE = SFC.STATUS_BO
INNER JOIN SFC_ROUTING SRG ON SRG.SFC_BO = SFC.HANDLE
INNER JOIN SFC_ROUTER SRR ON SRR.SFC_ROUTING_BO = SRG.HANDLE
INNER JOIN SFC_STEP SS ON SS.SFC_ROUTER_BO = SRR.HANDLE
WHERE ST.STATUS_GROUP = ''SFC''
AND (ST.STATUS = ''401'' OR ST.STATUS = ''402'')
AND SS.QTY_IN_QUEUE > 0
AND SS.OPERATION_BO IN (
	SELECT  ''OperationBO:''||OP.SITE||'',''||OP.OPERATION||'',#'' OPERTION_BO
	FROM RESRCE RE
	LEFT JOIN RESOURCE_TYPE_RESOURCE RTR ON RTR.RESOURCE_BO = RE.HANDLE
	LEFT JOIN OPERATION OP ON OP.RESOURCE_TYPE_BO = RTR.RESOURCE_TYPE_BO
	WHERE RE.SITE = :SITE
	AND RE.RESRCE = :RESOURCE
)
AND RE.SITE = :SITE
AND RE.RESRCE = :RESOURCE
) ORDER BY ADDSECONDS DESC',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBILE_GET_SFC_IN_QUEUE_WORK_CENTER','LOGIC','MOBILE-》获取排队中的sfc(走资源配置的工作中心查询)',NULL,'SELECT SFC.SFC
FROM RESRCE RE
INNER JOIN WORK_CENTER_MEMBER WCM ON WCM.WORK_CENTER_OR_RESOURCE_GBO = RE.HANDLE
INNER JOIN WORK_CENTER WC ON WC.HANDLE = WCM.WORK_CENTER_BO
INNER JOIN SHOP_ORDER SO ON SO.PLANNED_WORK_CENTER_BO = WC.HANDLE
INNER JOIN SFC ON SFC.SHOP_ORDER_BO = SO.HANDLE
INNER JOIN STATUS ST ON ST.HANDLE = SFC.STATUS_BO
INNER JOIN SFC_ROUTING SRG ON SRG.SFC_BO = SFC.HANDLE
INNER JOIN SFC_ROUTER SRR ON SRR.SFC_ROUTING_BO = SRG.HANDLE
INNER JOIN SFC_STEP SS ON SS.SFC_ROUTER_BO = SRR.HANDLE
WHERE ST.STATUS_GROUP = ''SFC''
AND ( ST.STATUS = ''401'' OR ST.STATUS = ''402'')
AND SS.QTY_IN_QUEUE > 0
AND SS.OPERATION_BO IN (
	SELECT  ''OperationBO:''||OP.SITE||'',''||OP.OPERATION||'',#'' OPERTION_BO
	FROM RESRCE RE
	LEFT JOIN RESOURCE_TYPE_RESOURCE RTR ON RTR.RESOURCE_BO = RE.HANDLE
	LEFT JOIN OPERATION OP ON OP.RESOURCE_TYPE_BO = RTR.RESOURCE_TYPE_BO
	WHERE RE.SITE = :SITE
	AND RE.RESRCE = :RESOURCE
)
AND RE.SITE = :SITE
AND RE.RESRCE = :RESOURCE
AND (:SFC = '''' OR SFC.SFC LIKE :SFC||''%'')',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBILE_GET_SFC_IN_QUEUE_RESOURCE_TYPE','LOGIC','MOBILE-》获取排队中的sfc(走资源配置的资源类型查询)',NULL,'SELECT SFC.SFC
FROM SFC_STEP SS
INNER JOIN SFC_ROUTER SRR ON SRR.HANDLE = SS.SFC_ROUTER_BO
INNER JOIN SFC_ROUTING SRG ON SRG.HANDLE = SRR.SFC_ROUTING_BO
INNER JOIN SFC ON SFC.HANDLE = SRG.SFC_BO
INNER JOIN STATUS ST ON ST.HANDLE = SFC.STATUS_BO
WHERE ST.STATUS_GROUP = ''SFC''
AND ( ST.STATUS = ''401'' OR ST.STATUS = ''402'')
AND SS.QTY_IN_QUEUE > 0
AND SS.OPERATION_BO IN (
	SELECT  ''OperationBO:''||OP.SITE||'',''||OP.OPERATION||'',#'' OPERTION_BO
	FROM RESRCE RE
	LEFT JOIN RESOURCE_TYPE_RESOURCE RTR ON RTR.RESOURCE_BO = RE.HANDLE
	LEFT JOIN OPERATION OP ON OP.RESOURCE_TYPE_BO = RTR.RESOURCE_TYPE_BO
	WHERE RE.SITE = :SITE
	AND RE.RESRCE = :RESOURCE
)
AND (:SFC = '''' OR SFC.SFC LIKE :SFC||''%'')',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_DEVICE_DATA_EXPORT','LOGIC','设备收集数据信息查询(未归档)-》导出',NULL,'SELECT T.*
FROM Z_DEVICE_DATA T
WHERE T.SITE = :SITE
AND cast(T.CREATED_DATE AS TIMESTAMP) >= TO_TIMESTAMP(:START_DATE_TIME,''YYYY-MM-DD HH24:MI:SS'')
AND cast(T.CREATED_DATE AS TIMESTAMP) < TO_TIMESTAMP(:END_DATE_TIME,''YYYY-MM-DD HH24:MI:SS'')
AND T.RESOURCE = :RESOURCE 
AND (:DC_GROUP = '''' OR T.DC_GROUP = :DC_GROUP)',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_USER_CODE','LOGIC','用户同步-》获取人员信息',NULL,'SELECT DISTINCT T1.USER_ID
FROM USR T1 
INNER JOIN USER_GROUP_MEMBER T2 ON T1.HANDLE = T2.USER_OR_GROUP_GBO
INNER JOIN USER_GROUP T3 ON T3.HANDLE = T2.USER_GROUP_BO  
WHERE T1.SITE NOT IN (''*'')',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'DELETE_Z_USER_CODE','LOGIC','用户同步-》删除人员信息',NULL,'TRUNCATE TABLE Z_USER_CODE ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'INSERT_Z_USER_CODE','LOGIC','用户同步-》新增人员信息',NULL,'INSERT INTO Z_USER_CODE(HANDLE,FIELD_KEY,FIELD_VALUE,CREATE_DATE) VALUES(:HANDLE,:FIELD_KEY,:FIELD_VALUE,:CREATE_DATE)',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'USER_DIALOG_03','DIALOG','设备维修人员','USER','SELECT TOP 200 T1.HANDLE, T1.USER_ID,T4.FIELD_VALUE USER_NAME  
  FROM USR T1
INNER JOIN USER_GROUP_MEMBER T2 ON T1.HANDLE = T2.USER_OR_GROUP_GBO
INNER JOIN USER_GROUP T3 ON T3.HANDLE = T2.USER_GROUP_BO 
LEFT JOIN Z_USER_CODE T4 ON T1.USER_ID = T4.FIELD_KEY
 WHERE 
 T1.SITE = ''''%SITE%''''  
 AND T3.USER_GROUP IN (''''Z_CELL_SB_DIRCTOR'''',''''Z_CL_SB_ENGINEER'''',''''Z_CL_SB_DIRECTOR'''',''''Z_CL_SB_LEADER'''',''''Z_CELL_SB_CLERK'''',''''Z_CELL_SB_ENGINEER'''',''''Z_CELL_SB_MANAGER'''')
 AND T1.USER_ID LIKE ''''{0}%'''' ','用户,姓名','USER,USER_NAME','HANDLE,USER_ID,USER_NAME','0,1',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'ADD_INSPECT_PARAMETRIC','LOGIC','新增原材料检验数据',NULL,'INSERT INTO Z_RAW_INSPECT_PARAMETRIC(HANDLE, SITE, MEASURE_NAME, MEASURE_GROUP, PARAMETRIC_BO,
SEQUENCE, RESRCE, DESCRIPTION, UNIT_OF_MEAS, DATA_TYPE, HIGH_LIMIT, LOW_LIMIT, ACTUAL, DC_COMMENT,
DC_PARAMETER_BO, TEST_DATE_TIME, ORIGINAL_ACTUAL, ORIGINAL_TEST_DATE_TIME, EDITED, TRANSACTION_ID, PARA_CONTEXT_GBO,
DC_GROUP_REVISION, ERP_SENT, CREATED_USER_ID, CREATED_DATE_TIME, MODIFIED_USER_ID, MODIFIED_DATE_TIME, MEASURE_STATUS, OVERRIDE_USER_BO)
VALUES(:HANDLE, :SITE, :MEASURE_NAME, :MEASURE_GROUP, :PARAMETRIC_BO,
:SEQUENCE, :RESRCE, :DESCRIPTION, :UNIT_OF_MEAS, :DATA_TYPE, :HIGH_LIMIT, :LOW_LIMIT, :ACTUAL, :DC_COMMENT,
:DC_PARAMETER_BO, CURRENT_TIMESTAMP, :ORIGINAL_ACTUAL, CURRENT_TIMESTAMP, :EDITED, :TRANSACTION_ID, :PARA_CONTEXT_GBO,
:DC_GROUP_REVISION, :ERP_SENT, :CREATED_USER_ID, CURRENT_TIMESTAMP, :MODIFIED_USER_ID, CURRENT_TIMESTAMP, :MEASURE_STATUS, :OVERRIDE_USER_BO)',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'UDPATE_INSPECT_PARAMETRIC','LOGIC','更新原材料检验数据',NULL,'UPDATE Z_RAW_INSPECT_PARAMETRIC  SET MEASURE_GROUP = :MEASURE_GROUP, DESCRIPTION = :DESCRIPTION, UNIT_OF_MEAS = :UNIT_OF_MEAS, DATA_TYPE = :DATA_TYPE,
HIGH_LIMIT = :HIGH_LIMIT, LOW_LIMIT = :LOW_LIMIT, ACTUAL = :ACTUAL, SEQUENCE = :SEQUENCE, DC_PARAMETER_BO = :DC_PARAMETER_BO, ORIGINAL_ACTUAL = :ORIGINAL_ACTUAL,
PARA_CONTEXT_GBO = :PARA_CONTEXT_GBO, DC_GROUP_REVISION = :DC_GROUP_REVISION, MODIFIED_USER_ID = :MODIFIED_USER_ID,MEASURE_STATUS = :MEASURE_STATUS,MODIFIED_DATE_TIME = CURRENT_TIMESTAMP 
WHERE SITE = :SITE AND MEASURE_NAME = :MEASURE_NAME AND RESRCE = :RESRCE AND PARAMETRIC_BO = :PARAMETRIC_BO',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_BACKUP_CODE','LOGIC','获取同步数据类型',NULL,'SELECT * FROM Z_ATTRIBUTE_CODE T WHERE T.FIELD_TYPE = ''BACKUP'' ORDER BY T.HANDLE DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'INSERT_REMOTE_Z_DEVICE_DATA','LOGIC','同步Z_DEVICE_DATA数据',NULL,'INSERT INTO REMOTE_Z_DEVICE_DATA SELECT * FROM Z_DEVICE_DATA WHERE CAST(CREATED_DATE AS TIMESTAMP) <= TO_TIMESTAMP(:END_TIME, ''yyyy-mm-dd hh24:mi:ss'')',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'DELETE_REMOTE_Z_DEVICE_DATA','LOGIC','删除Z_DEVICE_DATA已同步的数据',NULL,'DELETE FROM Z_DEVICE_DATA WHERE CAST(CREATED_DATE AS TIMESTAMP) <= TO_TIMESTAMP(:END_TIME, ''yyyy-mm-dd hh24:mi:ss'')',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_REMOTE_Z_DEVICE_DATA','LOGIC','设备收集数据信息查询(已归档)-》查询',NULL,'SELECT * FROM (
	 SELECT TA.*, ROW_NUMBER() OVER(ORDER BY TA.CREATED_DATE DESC) RN FROM (  
	SELECT T.*
	FROM REMOTE_Z_DEVICE_DATA T
	WHERE SITE = :SITE
	AND cast(T.CREATED_DATE AS TIMESTAMP) >= TO_TIMESTAMP(:START_DATE_TIME,''YYYY-MM-DD HH24:MI:SS'')
	AND cast(T.CREATED_DATE AS TIMESTAMP) < TO_TIMESTAMP(:END_DATE_TIME,''YYYY-MM-DD HH24:MI:SS'')
		AND (:RESOURCE_TYPE = '''' OR T.RESOURCE_TYPE = :RESOURCE_TYPE)
		AND (:RESOURCE = '''' OR T.RESOURCE = :RESOURCE)
		AND (:DC_GROUP = '''' OR T.DC_GROUP = :DC_GROUP)
	)  TA
)
WHERE RN BETWEEN :STARTCOUNT AND :ENDCOUNT  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_REMOTE_Z_DEVICE_DATA_EXPORT','LOGIC','设备收集数据信息查询(已归档)-》导出',NULL,'SELECT T.*
FROM REMOTE_Z_DEVICE_DATA T
WHERE T.SITE = :SITE
AND cast(T.CREATED_DATE AS TIMESTAMP) >= TO_TIMESTAMP(:START_DATE_TIME,''YYYY-MM-DD HH24:MI:SS'')
AND cast(T.CREATED_DATE AS TIMESTAMP) < TO_TIMESTAMP(:END_DATE_TIME,''YYYY-MM-DD HH24:MI:SS'')
AND T.RESOURCE = :RESOURCE 
AND (:DC_GROUP = '''' OR T.DC_GROUP = :DC_GROUP) ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_REMOTE_Z_DEVICE_DATA_TOTAL','LOGIC','设备收集数据信息查询(已归档)-》统计',NULL,'SELECT top 1 TA.RN TOTAL_RECORDS FROM (
	SELECT ROW_NUMBER() OVER(ORDER BY CREATED_DATE DESC) RN FROM ( 
		SELECT CREATED_DATE FROM REMOTE_Z_DEVICE_DATA T
		WHERE SITE = :SITE
		AND  cast(T.CREATED_DATE AS TIMESTAMP) >= TO_TIMESTAMP(:START_DATE_TIME,''YYYY-MM-DD HH24:MI:SS'')
		AND  cast(T.CREATED_DATE AS TIMESTAMP) < TO_TIMESTAMP(:END_DATE_TIME,''YYYY-MM-DD HH24:MI:SS'')
		AND (:RESOURCE_TYPE = '''' OR T.RESOURCE_TYPE = :RESOURCE_TYPE)
		AND (:RESOURCE = '''' OR T.RESOURCE = :RESOURCE)
		AND (:DC_GROUP = '''' OR T.DC_GROUP = :DC_GROUP)
	)
) TA 
ORDER BY TA.RN DESC ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'SLOT_AUTO_CREATE_SERVICE_NC','LOGIC','工单创建自动维护安装点配置，根据订单查询工序和BOM组件',NULL,'SELECT distinct SO.SHOP_ORDER,BOM.BOM,BOM.REVISION,SO.PLANNED_BOM_BO,
		OP.OPERATION,OP.HANDLE OPERATION_HANDLE,SO.PLANNED_ITEM_BO 
	FROM SHOP_ORDER SO
	INNER JOIN BOM ON SO.PLANNED_BOM_BO = BOM.HANDLE 		
	INNER JOIN BOM_COMPONENT BC ON BC.BOM_BO = BOM.HANDLE
	INNER JOIN BOM_OPERATION BO ON BO.BOM_COMPONENT_BO = BC.HANDLE
	INNER JOIN ITEM ITM ON ITM.HANDLE = BC.COMPONENT_GBO
	INNER JOIN OPERATION OP 
		ON substr(OP.HANDLE,0,length(OP.HANDLE)-1) = substr(BO.OPERATION_BO,0,length(BO.OPERATION_BO)-1)
		AND OP.CURRENT_REVISION = ''true''
	WHERE SO.SHOP_ORDER = :SHOP_ORDER  AND SO.SITE = :SITE',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'USER_DIALOG_04','DIALOG','品质人员','USER','SELECT TOP 200 T1.HANDLE, T1.USER_ID,T4.FIELD_VALUE USER_NAME  
  FROM USR T1
INNER JOIN USER_GROUP_MEMBER T2 ON T1.HANDLE = T2.USER_OR_GROUP_GBO
INNER JOIN USER_GROUP T3 ON T3.HANDLE = T2.USER_GROUP_BO 
LEFT JOIN Z_USER_CODE T4 ON T1.USER_ID = T4.FIELD_KEY
 WHERE 
 T1.SITE = ''''%SITE%''''  
 AND T3.USER_GROUP IN (''''Z_CELL_ZL_ENGINEER'''',''''Z_CELL_ZL_MANAGER'''',''''Z_CELL_ZL_OPERATOR'''',''''Z_CL_ZL_ENGINEER'''',''''Z_CL_ZL_MANAGER'''',''''Z_CL_ZL_OPERATOR'''')
 AND T1.USER_ID LIKE ''''{0}%'''' ','用户,姓名','USER,USER_NAME','HANDLE,USER_ID,USER_NAME','0,1',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'USER_DIALOG_05','DIALOG','工艺人员','USER','SELECT TOP 200 T1.HANDLE, T1.USER_ID,T4.FIELD_VALUE USER_NAME  
  FROM USR T1
INNER JOIN USER_GROUP_MEMBER T2 ON T1.HANDLE = T2.USER_OR_GROUP_GBO
INNER JOIN USER_GROUP T3 ON T3.HANDLE = T2.USER_GROUP_BO 
LEFT JOIN Z_USER_CODE T4 ON T1.USER_ID = T4.FIELD_KEY
 WHERE 
 T1.SITE = ''''%SITE%''''  
 AND T3.USER_GROUP IN (''''Z_CELL_PROCESS_ENGINEER'''',''''Z_CELL_PROCESS_MANAGER'''',''''Z_CL_PROCESS_ENGINEER'''',''''Z_CL_PROCESS_MANAGER'''',''''Z_CL_PROCESS_TECHNICIAN'''')
 AND T1.USER_ID LIKE ''''{0}%'''' ','用户,姓名','USER,USER_NAME','HANDLE,USER_ID,USER_NAME','0,1',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Wuhao',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_13','LOGIC','Mobile-》原材料检验数据录入-》提交更新完成时间',NULL,'UPDATE Z_RAW_INSPECT SET COMPLETED_DATE_TIME = :COMPLETED_DATE_TIME,INSPECT_USRE = :INSPECT_USRE WHERE SITE = :SITE AND RAW_INSPECT_NUM = :INSPECTION_NO  
',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_14','LOGIC','Mobile-》原材料检验数据录入-》更新合格数量',NULL,' UPDATE Z_RAW_INSPECT SET QUALIFIED_QUANTITY = :QUALIFIED_QTY WHERE SITE = :SITE AND RAW_INSPECT_NUM = :INSPECTION_NO  ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'MOBLIE_RAW_LIST_15','LOGIC','Mobile-》原材料检验数据录入-》获取来料数量',NULL,'SELECT  T1.RAW_INSPECT_NUM, T1.INSPECT_QUANTITY  FROM Z_RAW_INSPECT T1 WHERE T1.SITE = :SITE AND T1.RAW_INSPECT_NUM = :INSPECTION_NO ',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Cheney',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_Z_WARN_PROGRAM','DIALOG','程序名','PROGRAM NAME','SELECT DISTINCT PROGRAM_NAME,DESCRIPTION FROM Z_WARN_MAINTAIN WHERE SITE = :SITE','程序名,描述','PROGRAM_NAME, DESCRIPTION','HANDLE,PROGRAM_NAME,DESCRIPTION','0,1',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_SELECTED_WARN_INFO','LOGIC','通过程序名获取指定的预警信息',NULL,'SELECT * FROM Z_WARN_MAINTAIN WHERE SITE = :SITE AND PROGRAM_NAME = :PROGRAM_NAME',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'DELETE_SELECTED_PROGRAM_WARN','LOGIC','删除当前程序名及预警信息',NULL,'DELETE FROM Z_WARN_MAINTAIN WHERE SITE = :SITE AND PROGRAM_NAME = :PROGRAM_NAME',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'ADD_PROGRAM_WARN_INFO','LOGIC','新增程序预警信息',NULL,'INSERT INTO Z_WARN_MAINTAIN(HANDLE, SITE, PROGRAM_NAME, RESRCE, RESPONSIBLE_IDS, CREATED_USER_ID, CREATED_DATE_TIME)
VALUES(:HANDLE, :SITE, :PROGRAM_NAME, :RESRCE, :RESPONSIBLE_IDS, :CREATED_USER_ID, :CREATED_DATE_TIME)',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'CORE_FIRST_USER','LOGIC','用户报表',NULL,'SELECT * FROM (  
     SELECT A.*, ROW_NUMBER() OVER(ORDER BY A.CREATED_DATE_TIME DESC) RN FROM (    SELECT T.HANDLE,T.SITE,T.USER_ID,T.CURRENT_OPERATION_BO FROM USR T       
   ) A   
)  
WHERE RN BETWEEN :STARTCOUNT AND :ENDCOUNT ',NULL,NULL,NULL,NULL,NULL,NULL,'[[
	{field:''HANDLE'',title:''项目标识'',width:80,align:''left''},   
      {field:''SITE'',title:''站点'',width:80,align:''left''},   
      {field:''CURRENT_OPERATION_BO'',title:''外键BO'',width:80,align:''left''},
      {field:''USER_ID'',title:''用户id'',width:80,align:''left''}
]]
','[[
{field:''HANDLE'',title:''bi'',width:80,align:''left''},   
      {field:''SITE'',title:''site'',width:80,align:''left''},   
      {field:''CURRENT_OPERATION_BO'',title:''userBO'',width:80,align:''left''},
      {field:''USER_ID'',title:''userd'',width:80,align:''left''}
]]',NULL,NULL,NULL,'/com/sapdev/pod/report_form.jsp',NULL,'jason',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_PACK_MAX_CONTAINER_DATA_SFC','LOGIC','包装/解包-》获取容器最大的编码流水',NULL,'SELECT MAX(t.CONTAINER_NUMBER) MAX_CONTAINER_NUMBER 
FROM CONTAINER_DATA t 
WHERE t.SITE = :SITE AND t.CONTAINER_NUMBER LIKE :CONTAINER_NUMBER||''%''',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Rebecca',NULL);
INSERT INTO WIP.Z_EXT_CODE (EXT_CODE,EXT_TYPE,EXT_TITLE,EXT_TITLE_EN,EXT_CODE_SQL,DIALOG_ZH_FIELD,DIALOG_EN_FIELD,DATA_EN_FIELD,DIALOG_RETURN_VALUE,DIALOG_ORDER_BY,POD_HEADER,POD_JS,POD_JS_EN,POD_FORM,POD_BODY,POD_FOOTER,POD_JSP,EXCEL_URL,CREATE_USER,PAGE_COUNT) VALUES (
'GET_ITEM_SETUPTIME_WARNING','LOGIC','物料活动时间预警',NULL,'SELECT * FROM
(
SELECT RE.RESRCE, RE.SITE, RE.DESCRIPTION RE_DESCRIPTION, ITEM.ITEM, ITEM.DESCRIPTION IT_DESCRIPTION ,SECONDS_BETWEEN(SIW.DATE_STARTED, CURRENT_UTCTIMESTAMP) ADDSECONDS,SSD.SETUP_TIME,ZWM.RESPONSIBLE_IDS  FROM SFC_IN_WORK SIW
INNER JOIN SFC_STEP SS ON SIW.SFC_STEP_BO = SS.HANDLE
INNER JOIN SFC_ROUTER SR ON SS.SFC_ROUTER_BO = SR.HANDLE
INNER JOIN SFC_ROUTING SRG ON SR.SFC_ROUTING_BO = SRG.HANDLE
INNER JOIN SFC ON SFC.HANDLE = SRG.SFC_BO
INNER JOIN RESRCE RE ON RE.HANDLE = SIW.RESOURCE_BO
INNER JOIN SCHEDULE_STANDARD SCS ON SCS.SOURCE_GBO = SFC.ITEM_BO
INNER JOIN SCHEDULE_STANDARD_DETAIL SSD ON SSD.SCHEDULE_STANDARD_BO = SCS.HANDLE
INNER JOIN ITEM ON ITEM.HANDLE = SCS.SOURCE_GBO
LEFT JOIN Z_WARN_MAINTAIN ZWM ON ZWM.RESRCE = RE.RESRCE AND ZWM.PROGRAM_NAME = ''ITEMSETUPWARNING''
)
WHERE 
ADDSECONDS/3600 > SETUP_TIME',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'liulin',NULL);
